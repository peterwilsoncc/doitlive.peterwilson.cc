{"version":3,"file":"./build/edit-site/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/downloadjs/download.js","webpack://wp/./node_modules/fast-deep-equal/es6/index.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/external window \"React\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"editor\"]","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/check.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-filled.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-empty.js","webpack://wp/external window [\"wp\",\"viewport\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close-small.js","webpack://wp/external window [\"wp\",\"deprecated\"]","webpack://wp/external window [\"wp\",\"preferences\"]","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/actions.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/selectors.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/reducer.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/constants.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/index.js","webpack://wp/external window [\"wp\",\"plugins\"]","webpack://wp/./packages/interface/build-module/components/complementary-area-context/@wordpress/interface/src/components/complementary-area-context/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-toggle/@wordpress/interface/src/components/complementary-area-toggle/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-header/@wordpress/interface/src/components/complementary-area-header/index.js","webpack://wp/./packages/interface/build-module/components/action-item/@wordpress/interface/src/components/action-item/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-more-menu-item/@wordpress/interface/src/components/complementary-area-more-menu-item/index.js","webpack://wp/./packages/interface/build-module/components/pinned-items/@wordpress/interface/src/components/pinned-items/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area/@wordpress/interface/src/components/complementary-area/index.js","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/./packages/interface/build-module/components/navigable-region/@wordpress/interface/src/components/navigable-region/index.js","webpack://wp/./packages/interface/build-module/components/interface-skeleton/@wordpress/interface/src/components/interface-skeleton/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/more-vertical.js","webpack://wp/./packages/interface/build-module/components/more-menu-dropdown/@wordpress/interface/src/components/more-menu-dropdown/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal/@wordpress/interface/src/components/preferences-modal/index.js","webpack://wp/./packages/icons/build-module/icon/@wordpress/icons/src/icon/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-left.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-right.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-tabs/@wordpress/interface/src/components/preferences-modal-tabs/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-section/@wordpress/interface/src/components/preferences-modal-section/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-base-option/@wordpress/interface/src/components/preferences-modal-base-option/index.js","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"widgets\"]","webpack://wp/external window [\"wp\",\"mediaUtils\"]","webpack://wp/./packages/edit-site/build-module/hooks/@wordpress/edit-site/src/hooks/components.js","webpack://wp/external window \"lodash\"","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/./packages/edit-site/node_modules/colord/index.mjs","webpack://wp/./packages/edit-site/node_modules/colord/plugins/a11y.mjs","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/hooks.js","webpack://wp/./packages/edit-site/build-module/hooks/push-changes-to-global-styles/@wordpress/edit-site/src/hooks/push-changes-to-global-styles/index.js","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/history.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/index.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/link.js","webpack://wp/./packages/edit-site/build-module/hooks/@wordpress/edit-site/src/hooks/template-part-edit.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/reducer.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/constants.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-revertable.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/actions.js","webpack://wp/./node_modules/rememo/es/rememo.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/selectors.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/index.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/layout.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/symbol-filled.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-navigation-screen/@wordpress/edit-site/src/components/sidebar-navigation-screen/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-navigation-item/@wordpress/edit-site/src/components/sidebar-navigation-item/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-navigation-screen-main/@wordpress/edit-site/src/components/sidebar-navigation-screen-main/index.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/home.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/page.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/archive.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/search.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/not-found.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/list.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/category.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post-author.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/block-meta.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post-date.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/tag.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/media.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plus.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/template-actions-loading-screen.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/utils.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/add-custom-template-modal.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/add-custom-generic-template-modal.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template.js","webpack://wp/./packages/edit-site/build-module/components/create-template-part-modal/@wordpress/edit-site/src/components/create-template-part-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template-part.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-navigation-screen-templates/@wordpress/edit-site/src/components/sidebar-navigation-screen-templates/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/@wordpress/edit-site/src/components/sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/sync-state-with-url/@wordpress/edit-site/src/components/sync-state-with-url/use-sync-sidebar-path-with-url.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/drawer-left.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/drawer-right.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/default-sidebar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/styles.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/seen.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/icon-with-current-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/navigation-button.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/typography.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/color.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/border.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/border-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-utils.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/position-center.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/stretch-wide.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/dimensions-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/variations-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/header.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/block-preview-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/subtitle.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-variations.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context-menu.js","webpack://wp/external window [\"wp\",\"styleEngine\"]","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/use-global-styles-output.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/preview.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-root.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block-list.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-preview.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography-element.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/shuffle.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-indicator-wrapper.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-colors.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/gradients-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-color-palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-background-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-text-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-link-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-heading-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-button-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-layout.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/global-styles-provider.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-style-variations.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-border.js","webpack://wp/./packages/edit-site/build-module/components/style-book/@wordpress/edit-site/src/components/style-book/index.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/custom-css.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-css.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/ui.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/global-styles-sidebar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/navigation.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/navigation-menu.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/navigation-inspector.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/constants.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/settings-header/@wordpress/edit-site/src/components/sidebar-edit-mode/settings-header/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/template-actions.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/index.js","webpack://wp/external window [\"wp\",\"reusableBlocks\"]","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-regular.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-template-part.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/pencil.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/edit.js","webpack://wp/./packages/edit-site/build-module/components/navigate-to-link/@wordpress/edit-site/src/components/navigate-to-link/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/arrow-left.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/back-button.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resize-handle.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resizable-editor.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/editor-canvas.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/code-editor-text-area.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcuts/@wordpress/edit-site/src/components/keyboard-shortcuts/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/inserter-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/list-view-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/image.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/editor.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/styles.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/index.js","webpack://wp/./packages/edit-site/build-module/components/global-styles-renderer/@wordpress/edit-site/src/components/global-styles-renderer/index.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/use-title.js","webpack://wp/./packages/edit-site/build-module/components/editor/@wordpress/edit-site/src/components/editor/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/header.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/rename-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/index.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-removable.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plugins.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/comment-author-avatar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/globe.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/added-by.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/table.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/use-register-shortcuts.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/warning.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/index.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/get-is-list-page.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/list-view.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-up-down.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/external.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/config.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/preferences-modal/@wordpress/edit-site/src/components/preferences-modal/enable-feature.js","webpack://wp/./packages/edit-site/build-module/components/preferences-modal/@wordpress/edit-site/src/components/preferences-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/tools-more-menu-group/@wordpress/edit-site/src/components/header-edit-mode/tools-more-menu-group/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/download.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/site-export.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/welcome-guide-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/copy-content-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/mode-switcher/@wordpress/edit-site/src/components/header-edit-mode/mode-switcher/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/index.js","webpack://wp/./packages/edit-site/build-module/components/save-button/@wordpress/edit-site/src/components/save-button/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/undo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/redo.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/undo-redo/@wordpress/edit-site/src/components/header-edit-mode/undo-redo/undo.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/undo-redo/@wordpress/edit-site/src/components/header-edit-mode/undo-redo/redo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-down.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/edit-template-title.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/template-part-area-selector.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/index.js","webpack://wp/./packages/edit-site/build-module/components/use-edited-entity-record/@wordpress/edit-site/src/components/use-edited-entity-record/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/document-actions/@wordpress/edit-site/src/components/header-edit-mode/document-actions/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/@wordpress/edit-site/src/components/header-edit-mode/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/wordpress.js","webpack://wp/./packages/edit-site/build-module/components/site-icon/@wordpress/edit-site/src/components/site-icon/index.js","webpack://wp/./packages/edit-site/build-module/components/site-hub/@wordpress/edit-site/src/components/site-hub/index.js","webpack://wp/./packages/edit-site/build-module/components/layout/@wordpress/edit-site/src/components/layout/index.js","webpack://wp/./packages/edit-site/build-module/components/sync-state-with-url/@wordpress/edit-site/src/components/sync-state-with-url/use-init-edited-entity-from-url.js","webpack://wp/./packages/edit-site/build-module/components/sync-state-with-url/@wordpress/edit-site/src/components/sync-state-with-url/use-sync-canvas-mode-with-url.js","webpack://wp/./packages/edit-site/build-module/components/app/@wordpress/edit-site/src/components/app/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/plugin-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/plugin-sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/plugin-sidebar-more-menu-item/@wordpress/edit-site/src/components/header-edit-mode/plugin-sidebar-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/plugin-more-menu-item/@wordpress/edit-site/src/components/header-edit-mode/plugin-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/@wordpress/edit-site/src/index.js"],"sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockLibrary\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editor\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"preferences\"];","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Set a default complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport const setDefaultComplementaryArea = ( scope, area ) => ( {\n\ttype: 'SET_DEFAULT_COMPLEMENTARY_AREA',\n\tscope,\n\tarea,\n} );\n\n/**\n * Enable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n */\nexport const enableComplementaryArea =\n\t( scope, area ) =>\n\t( { registry, dispatch } ) => {\n\t\t// Return early if there's no area.\n\t\tif ( ! area ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', true );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'ENABLE_COMPLEMENTARY_AREA',\n\t\t\tscope,\n\t\t\tarea,\n\t\t} );\n\t};\n\n/**\n * Disable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n */\nexport const disableComplementaryArea =\n\t( scope ) =>\n\t( { registry } ) => {\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', false );\n\t\t}\n\t};\n\n/**\n * Pins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n *\n * @return {Object} Action object.\n */\nexport const pinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\t// The item is already pinned, there's nothing to do.\n\t\tif ( pinnedItems?.[ item ] === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: true,\n\t\t} );\n\t};\n\n/**\n * Unpins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n */\nexport const unpinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: false,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).toggleFeature`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).toggle`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).toggle( scope, featureName );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureValue`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).set`,\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( scope, featureName, !! value );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureDefaults`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).setDefaults`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).setDefaults( scope, defaults );\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string | null | undefined} The complementary area that is active in the given scope.\n */\nexport const getActiveComplementaryArea = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tconst isComplementaryAreaVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\n\t\t// Return `undefined` to indicate that the user has never toggled\n\t\t// visibility, this is the vanilla default. Other code relies on this\n\t\t// nuance in the return value.\n\t\tif ( isComplementaryAreaVisible === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Return `null` to indicate the user hid the complementary area.\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn state?.complementaryAreas?.[ scope ];\n\t}\n);\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport const isItemPinned = createRegistrySelector(\n\t( select ) => ( state, scope, item ) => {\n\t\tconst pinnedItems = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'pinnedItems'\n\t\t);\n\t\treturn pinnedItems?.[ item ] ?? true;\n\t}\n);\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( state, scope, featureName ) => {\n\t\tdeprecated(\n\t\t\t`select( 'core/interface' ).isFeatureActive( scope, featureName )`,\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative: `select( 'core/preferences' ).get( scope, featureName )`,\n\t\t\t}\n\t\t);\n\n\t\treturn !! select( preferencesStore ).get( scope, featureName );\n\t}\n);\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\nexport function complementaryAreas( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEFAULT_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\n\t\t\t// If there's already an area, don't overwrite it.\n\t\t\tif ( state[ scope ] ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t\tcase 'ENABLE_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcomplementaryAreas,\n} );\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport reducer from './reducer';\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregister( store );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","/**\n * WordPress dependencies\n */\nimport { withPluginContext } from '@wordpress/plugins';\n\nexport default withPluginContext( ( context, ownProps ) => {\n\treturn {\n\t\ticon: ownProps.icon || context.icon,\n\t\tidentifier:\n\t\t\townProps.identifier || `${ context.name }/${ ownProps.name }`,\n\t};\n} );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\nimport complementaryAreaContext from '../complementary-area-context';\n\nfunction ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier,\n\ticon,\n\tselectedIcon,\n\tname,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier ]\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default complementaryAreaContext( ComplementaryAreaToggle );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tsmallScreenTitle,\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"components-panel__header interface-complementary-area-header__small\">\n\t\t\t\t{ smallScreenTitle && (\n\t\t\t\t\t<span className=\"interface-complementary-area-header__small-title\">\n\t\t\t\t\t\t{ smallScreenTitle }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-panel__header',\n\t\t\t\t\t'interface-complementary-area-header',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\ttabIndex={ -1 }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n","/**\n * WordPress dependencies\n */\nimport { ButtonGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nconst noop = () => {};\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = ButtonGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! Children.toArray( fills ).length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n","/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( {\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t__unstableExplicitMenuItem,\n\t__unstableTarget,\n\t...restProps\n} ) => <MenuItem { ...restProps } />;\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\tfills?.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Panel, Slot, Fill } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport withComplementaryAreaContext from '../complementary-area-context';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nfunction ComplementaryAreaFill( { scope, children, className } ) {\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<div className={ className }>{ children }</div>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmall = useRef( false );\n\tconst shouldOpenWhenNotSmall = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmall.current ) {\n\t\t\t// Disable the complementary area.\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size goes from small to big.\n\t\t\tshouldOpenWhenNotSmall.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be enabled when we go from small to big window size\n\t\t\t// and we are going from a small to big window size.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmall.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be enabled.\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t\t// Enable the complementary area.\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be reopened but another complementary area becomes active,\n\t\t\t// remove the flag.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmall.current ) {\n\t\t\tpreviousIsSmall.current = isSmall;\n\t\t}\n\t}, [ isActive, isSmall, scope, identifier, activeArea ] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier,\n\theader,\n\theaderClassName,\n\ticon,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\tsmallScreenTitle,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n\tshowIconLabels = false,\n} ) {\n\tconst { isActive, isPinned, activeArea, isSmall, isLarge } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getActiveComplementaryArea, isItemPinned } =\n\t\t\t\tselect( interfaceStore );\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\t\t\treturn {\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t}\n\t}, [ activeArea, isActiveByDefault, scope, identifier, isSmall ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t{ isActive && (\n\t\t\t\t<ComplementaryAreaFill\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'interface-complementary-area',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t>\n\t\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\t\tsmallScreenTitle={ smallScreenTitle }\n\t\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\tidentifier,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header || (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<strong>{ title }</strong>\n\t\t\t\t\t\t\t\t{ isPinnable && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisPinned ? starFilled : starEmpty\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t\t</ComplementaryAreaFill>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nconst ComplementaryAreaWrapped =\n\twithComplementaryAreaContext( ComplementaryArea );\n\nComplementaryAreaWrapped.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryAreaWrapped;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nexport default function NavigableRegion( {\n\tchildren,\n\tclassName,\n\tariaLabel,\n\tas: Tag = 'div',\n\t...props\n} ) {\n\treturn (\n\t\t<Tag\n\t\t\tclassName={ classnames( 'interface-navigable-region', className ) }\n\t\t\taria-label={ ariaLabel }\n\t\t\trole=\"region\"\n\t\t\ttabIndex=\"-1\"\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport {\n\t__unstableUseNavigateRegions as useNavigateRegions,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport NavigableRegion from '../navigable-region';\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nfunction InterfaceSkeleton(\n\t{\n\t\tisDistractionFree,\n\t\tfooter,\n\t\theader,\n\t\teditorNotices,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tnotices,\n\t\tcontent,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t\tenableRegionNavigation = true,\n\t\t// Todo: does this need to be a prop.\n\t\t// Can we use a dependency to keyboard-shortcuts directly?\n\t\tshortcuts,\n\t},\n\tref\n) {\n\tconst navigateRegionsProps = useNavigateRegions( shortcuts );\n\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: __( 'Header' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: __( 'Settings' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\tconst headerVariants = {\n\t\thidden: isDistractionFree ? { opacity: 0 } : { opacity: 1 },\n\t\thover: {\n\t\t\topacity: 1,\n\t\t\ttransition: { type: 'tween', delay: 0.2, delayChildren: 0.2 },\n\t\t},\n\t};\n\n\treturn (\n\t\t<div\n\t\t\t{ ...( enableRegionNavigation ? navigateRegionsProps : {} ) }\n\t\t\tref={ useMergeRefs( [\n\t\t\t\tref,\n\t\t\t\tenableRegionNavigation ? navigateRegionsProps.ref : undefined,\n\t\t\t] ) }\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t{ !! header && isDistractionFree && (\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\tinitial={ isDistractionFree ? 'hidden' : 'hover' }\n\t\t\t\t\t\twhileHover=\"hover\"\n\t\t\t\t\t\tvariants={ headerVariants }\n\t\t\t\t\t\ttransition={ { type: 'tween', delay: 0.8 } }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t) }\n\t\t\t\t{ !! header && ! isDistractionFree && (\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.header }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t) }\n\t\t\t\t{ isDistractionFree && (\n\t\t\t\t\t<div className=\"interface-interface-skeleton__header\">\n\t\t\t\t\t\t{ editorNotices }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! notices && (\n\t\t\t\t\t\t<div className=\"interface-interface-skeleton__notices\">\n\t\t\t\t\t\t\t{ notices }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.body }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.sidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.actions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\tariaLabel={ mergedLabels.footer }\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { DropdownMenu } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\n\nexport default function MoreMenuDropdown( {\n\tas: DropdownComponent = DropdownMenu,\n\tclassName,\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tlabel = __( 'Options' ),\n\tpopoverProps,\n\ttoggleProps,\n\tchildren,\n} ) {\n\treturn (\n\t\t<DropdownComponent\n\t\t\tclassName={ classnames(\n\t\t\t\t'interface-more-menu-dropdown',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ label }\n\t\t\tpopoverProps={ {\n\t\t\t\tposition: 'bottom left',\n\t\t\t\t...popoverProps,\n\t\t\t\tclassName: classnames(\n\t\t\t\t\t'interface-more-menu-dropdown__content',\n\t\t\t\t\tpopoverProps?.className\n\t\t\t\t),\n\t\t\t} }\n\t\t\ttoggleProps={ {\n\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t...toggleProps,\n\t\t\t} }\n\t\t>\n\t\t\t{ ( onClose ) => children( onClose ) }\n\t\t</DropdownComponent>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function PreferencesModal( { closeModal, children } ) {\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"interface-preferences-modal\"\n\t\t\ttitle={ __( 'Preferences' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ closeModal }\n\t\t>\n\t\t\t{ children }\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\n\t</SVG>\n);\n\nexport default chevronLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\n\t</SVG>\n);\n\nexport default chevronRight;\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalNavigatorProvider as NavigatorProvider,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n\t__experimentalNavigatorButton as NavigatorButton,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n\t__experimentalTruncate as Truncate,\n\tFlexItem,\n\tTabPanel,\n\tCard,\n\tCardHeader,\n\tCardBody,\n} from '@wordpress/components';\nimport { useMemo, useCallback, useState } from '@wordpress/element';\nimport { chevronLeft, chevronRight, Icon } from '@wordpress/icons';\nimport { isRTL, __ } from '@wordpress/i18n';\n\nconst PREFERENCES_MENU = 'preferences-menu';\n\nexport default function PreferencesModalTabs( { sections } ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\t// This is also used to sync the two different rendered components\n\t// between small and large viewports.\n\tconst [ activeMenu, setActiveMenu ] = useState( PREFERENCES_MENU );\n\t/**\n\t * Create helper objects from `sections` for easier data handling.\n\t * `tabs` is used for creating the `TabPanel` and `sectionsContentMap`\n\t * is used for easier access to active tab's content.\n\t */\n\tconst { tabs, sectionsContentMap } = useMemo( () => {\n\t\tlet mappedTabs = {\n\t\t\ttabs: [],\n\t\t\tsectionsContentMap: {},\n\t\t};\n\t\tif ( sections.length ) {\n\t\t\tmappedTabs = sections.reduce(\n\t\t\t\t( accumulator, { name, tabLabel: title, content } ) => {\n\t\t\t\t\taccumulator.tabs.push( { name, title } );\n\t\t\t\t\taccumulator.sectionsContentMap[ name ] = content;\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ tabs: [], sectionsContentMap: {} }\n\t\t\t);\n\t\t}\n\t\treturn mappedTabs;\n\t}, [ sections ] );\n\n\tconst getCurrentTab = useCallback(\n\t\t( tab ) => sectionsContentMap[ tab.name ] || null,\n\t\t[ sectionsContentMap ]\n\t);\n\n\tlet modalContent;\n\t// We render different components based on the viewport size.\n\tif ( isLargeViewport ) {\n\t\tmodalContent = (\n\t\t\t<TabPanel\n\t\t\t\tclassName=\"interface-preferences__tabs\"\n\t\t\t\ttabs={ tabs }\n\t\t\t\tinitialTabName={\n\t\t\t\t\tactiveMenu !== PREFERENCES_MENU ? activeMenu : undefined\n\t\t\t\t}\n\t\t\t\tonSelect={ setActiveMenu }\n\t\t\t\torientation=\"vertical\"\n\t\t\t>\n\t\t\t\t{ getCurrentTab }\n\t\t\t</TabPanel>\n\t\t);\n\t} else {\n\t\tmodalContent = (\n\t\t\t<NavigatorProvider\n\t\t\t\tinitialPath=\"/\"\n\t\t\t\tclassName=\"interface-preferences__provider\"\n\t\t\t>\n\t\t\t\t<NavigatorScreen path=\"/\">\n\t\t\t\t\t<Card isBorderless size=\"small\">\n\t\t\t\t\t\t<CardBody>\n\t\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t\t{ tabs.map( ( tab ) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<NavigatorButton\n\t\t\t\t\t\t\t\t\t\t\tkey={ tab.name }\n\t\t\t\t\t\t\t\t\t\t\tpath={ tab.name }\n\t\t\t\t\t\t\t\t\t\t\tas={ Item }\n\t\t\t\t\t\t\t\t\t\t\tisAction\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ tab.title }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronRight\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t\t\t</NavigatorButton>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t\t</CardBody>\n\t\t\t\t\t</Card>\n\t\t\t\t</NavigatorScreen>\n\t\t\t\t{ sections.length &&\n\t\t\t\t\tsections.map( ( section ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<NavigatorScreen\n\t\t\t\t\t\t\t\tkey={ `${ section.name }-menu` }\n\t\t\t\t\t\t\t\tpath={ section.name }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Card isBorderless size=\"large\">\n\t\t\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\t\t\tisBorderless={ false }\n\t\t\t\t\t\t\t\t\t\tjustify=\"left\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tgap=\"6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<NavigatorBackButton\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronRight\n\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Navigate to the previous view'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Text size=\"16\">\n\t\t\t\t\t\t\t\t\t\t\t{ section.tabLabel }\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t<CardBody>{ section.content }</CardBody>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</NavigatorScreen>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t</NavigatorProvider>\n\t\t);\n\t}\n\n\treturn modalContent;\n}\n","const Section = ( { description, title, children } ) => (\n\t<fieldset className=\"interface-preferences-modal__section\">\n\t\t<legend className=\"interface-preferences-modal__section-legend\">\n\t\t\t<h2 className=\"interface-preferences-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"interface-preferences-modal__section-description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</legend>\n\t\t{ children }\n\t</fieldset>\n);\n\nexport default Section;\n","/**\n * WordPress dependencies\n */\nimport { ToggleControl } from '@wordpress/components';\n\nfunction BaseOption( { help, label, isChecked, onChange, children } ) {\n\treturn (\n\t\t<div className=\"interface-preferences-modal__option\">\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\thelp={ help }\n\t\t\t\tlabel={ label }\n\t\t\t\tchecked={ isChecked }\n\t\t\t\tonChange={ onChange }\n\t\t\t/>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default BaseOption;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"widgets\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-site/components/media-upload',\n\t() => MediaUpload\n);\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","var o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=function(t){return.2126*o(t.r)+.7152*o(t.g)+.0722*o(t.b)};export default function(o){o.prototype.luminance=function(){return o=t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r=\"#FFF\");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=t(e),d=t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o=\"#FFF\"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?\"normal\":i,\"AAA\"===(a=void 0===(n=r.level)?\"AA\":n)&&\"normal\"===e?7:\"AA\"===a&&\"large\"===e?3:4.5);var r,n,a,i,e}}\n","/**\n * The fluid utilities must match the backend equivalent.\n * See: gutenberg_get_typography_font_size_value() in lib/block-supports/typography.php\n * ---------------------------------------------------------------\n */\n\n/**\n * WordPress dependencies\n */\nimport { getComputedFluidTypographyValue } from '@wordpress/block-editor';\n\n/**\n * @typedef {Object} FluidPreset\n * @property {string|undefined}  max A maximum font size value.\n * @property {?string|undefined} min A minimum font size value.\n */\n\n/**\n * @typedef {Object} Preset\n * @property {?string|?number}               size  A default font size.\n * @property {string}                        name  A font size name, displayed in the UI.\n * @property {string}                        slug  A font size slug\n * @property {boolean|FluidPreset|undefined} fluid A font size slug\n */\n\n/**\n * @typedef {Object} TypographySettings\n * @property {?string|?number} size              A default font size.\n * @property {?string}         minViewPortWidth  Minimum viewport size from which type will have fluidity. Optional if size is specified.\n * @property {?string}         maxViewPortWidth  Maximum size up to which type will have fluidity. Optional if size is specified.\n * @property {?number}         scaleFactor       A scale factor to determine how fast a font scales within boundaries. Optional.\n * @property {?number}         minFontSizeFactor How much to scale defaultFontSize by to derive minimumFontSize. Optional.\n * @property {?string}         minFontSize       The smallest a calculated font size may be. Optional.\n */\n\n/**\n * Returns a font-size value based on a given font-size preset.\n * Takes into account fluid typography parameters and attempts to return a css formula depending on available, valid values.\n *\n * @param {Preset}                     preset\n * @param {Object}                     typographySettings\n * @param {boolean|TypographySettings} typographySettings.fluid Whether fluid typography is enabled, and, optionally, fluid font size options.\n *\n * @return {string|*} A font-size value or the value of preset.size.\n */\nexport function getTypographyFontSizeValue( preset, typographySettings ) {\n\tconst { size: defaultSize } = preset;\n\n\t/*\n\t * Catches falsy values and 0/'0'.\n\t * Fluid calculations cannot be performed on 0.\n\t */\n\tif ( ! defaultSize || '0' === defaultSize ) {\n\t\treturn defaultSize;\n\t}\n\n\tif (\n\t\t! typographySettings?.fluid ||\n\t\t( typeof typographySettings?.fluid === 'object' &&\n\t\t\tObject.keys( typographySettings.fluid ).length === 0 )\n\t) {\n\t\treturn defaultSize;\n\t}\n\n\t// A font size has explicitly bypassed fluid calculations.\n\tif ( false === preset?.fluid ) {\n\t\treturn defaultSize;\n\t}\n\n\tconst fluidTypographySettings =\n\t\ttypeof typographySettings?.fluid === 'object'\n\t\t\t? typographySettings?.fluid\n\t\t\t: {};\n\n\tconst fluidFontSizeValue = getComputedFluidTypographyValue( {\n\t\tminimumFontSize: preset?.fluid?.min,\n\t\tmaximumFontSize: preset?.fluid?.max,\n\t\tfontSize: defaultSize,\n\t\tminimumFontSizeLimit: fluidTypographySettings?.minFontSize,\n\t} );\n\n\tif ( !! fluidFontSizeValue ) {\n\t\treturn fluidFontSizeValue;\n\t}\n\n\treturn defaultSize;\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { getTypographyFontSizeValue } from './typography-utils';\n\n/* Supporting data. */\nexport const ROOT_BLOCK_NAME = 'root';\nexport const ROOT_BLOCK_SELECTOR = 'body';\nexport const ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'buttonColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'textTransform',\n\t'padding',\n];\n\nexport const PRESET_METADATA = [\n\t{\n\t\tpath: [ 'color', 'palette' ],\n\t\tvalueKey: 'color',\n\t\tcssVarInfix: 'color',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'color', propertyName: 'color' },\n\t\t\t{\n\t\t\t\tclassSuffix: 'background-color',\n\t\t\t\tpropertyName: 'background-color',\n\t\t\t},\n\t\t\t{\n\t\t\t\tclassSuffix: 'border-color',\n\t\t\t\tpropertyName: 'border-color',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'gradients' ],\n\t\tvalueKey: 'gradient',\n\t\tcssVarInfix: 'gradient',\n\t\tclasses: [\n\t\t\t{\n\t\t\t\tclassSuffix: 'gradient-background',\n\t\t\t\tpropertyName: 'background',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'duotone' ],\n\t\tcssVarInfix: 'duotone',\n\t\tvalueFunc: ( { slug } ) => `url( '#wp-duotone-${ slug }' )`,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontSizes' ],\n\t\tvalueFunc: ( preset, { typography: typographySettings } ) =>\n\t\t\tgetTypographyFontSizeValue( preset, typographySettings ),\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'font-size',\n\t\tclasses: [ { classSuffix: 'font-size', propertyName: 'font-size' } ],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontFamilies' ],\n\t\tvalueKey: 'fontFamily',\n\t\tcssVarInfix: 'font-family',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'font-family', propertyName: 'font-family' },\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'spacing', 'spacingSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'spacing',\n\t\tvalueFunc: ( { size } ) => size,\n\t\tclasses: [],\n\t},\n];\n\nexport const STYLE_PATH_TO_CSS_VAR_INFIX = {\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'elements.link.color.text': 'color',\n\t'elements.link.:hover.color.text': 'color',\n\t'elements.link.typography.fontFamily': 'font-family',\n\t'elements.link.typography.fontSize': 'font-size',\n\t'elements.button.color.text': 'color',\n\t'elements.button.color.background': 'color',\n\t'elements.button.typography.fontFamily': 'font-family',\n\t'elements.button.typography.fontSize': 'font-size',\n\t'elements.heading.color': 'color',\n\t'elements.heading.color.background': 'color',\n\t'elements.heading.typography.fontFamily': 'font-family',\n\t'elements.heading.gradient': 'gradient',\n\t'elements.heading.color.gradient': 'gradient',\n\t'elements.h1.color': 'color',\n\t'elements.h1.color.background': 'color',\n\t'elements.h1.typography.fontFamily': 'font-family',\n\t'elements.h1.color.gradient': 'gradient',\n\t'elements.h2.color': 'color',\n\t'elements.h2.color.background': 'color',\n\t'elements.h2.typography.fontFamily': 'font-family',\n\t'elements.h2.color.gradient': 'gradient',\n\t'elements.h3.color': 'color',\n\t'elements.h3.color.background': 'color',\n\t'elements.h3.typography.fontFamily': 'font-family',\n\t'elements.h3.color.gradient': 'gradient',\n\t'elements.h4.color': 'color',\n\t'elements.h4.color.background': 'color',\n\t'elements.h4.typography.fontFamily': 'font-family',\n\t'elements.h4.color.gradient': 'gradient',\n\t'elements.h5.color': 'color',\n\t'elements.h5.color.background': 'color',\n\t'elements.h5.typography.fontFamily': 'font-family',\n\t'elements.h5.color.gradient': 'gradient',\n\t'elements.h6.color': 'color',\n\t'elements.h6.color.background': 'color',\n\t'elements.h6.typography.fontFamily': 'font-family',\n\t'elements.h6.color.gradient': 'gradient',\n\t'color.gradient': 'gradient',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\n// A static list of block attributes that store global style preset slugs.\nexport const STYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE = {\n\t'color.background': 'backgroundColor',\n\t'color.text': 'textColor',\n\t'color.gradient': 'gradient',\n\t'typography.fontSize': 'fontSize',\n\t'typography.fontFamily': 'fontFamily',\n};\n\nfunction findInPresetsBy(\n\tfeatures,\n\tblockName,\n\tpresetPath,\n\tpresetProperty,\n\tpresetValueValue\n) {\n\t// Block presets take priority above root level presets.\n\tconst orderedPresetsByOrigin = [\n\t\tget( features, [ 'blocks', blockName, ...presetPath ] ),\n\t\tget( features, presetPath ),\n\t];\n\n\tfor ( const presetByOrigin of orderedPresetsByOrigin ) {\n\t\tif ( presetByOrigin ) {\n\t\t\t// Preset origins ordered by priority.\n\t\t\tconst origins = [ 'custom', 'theme', 'default' ];\n\t\t\tfor ( const origin of origins ) {\n\t\t\t\tconst presets = presetByOrigin[ origin ];\n\t\t\t\tif ( presets ) {\n\t\t\t\t\tconst presetObject = presets.find(\n\t\t\t\t\t\t( preset ) =>\n\t\t\t\t\t\t\tpreset[ presetProperty ] === presetValueValue\n\t\t\t\t\t);\n\t\t\t\t\tif ( presetObject ) {\n\t\t\t\t\t\tif ( presetProperty === 'slug' ) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If there is a highest priority preset with the same slug but different value the preset we found was overwritten and should be ignored.\n\t\t\t\t\t\tconst highestPresetObjectWithSameSlug = findInPresetsBy(\n\t\t\t\t\t\t\tfeatures,\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\tpresetPath,\n\t\t\t\t\t\t\t'slug',\n\t\t\t\t\t\t\tpresetObject.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thighestPresetObjectWithSameSlug[\n\t\t\t\t\t\t\t\tpresetProperty\n\t\t\t\t\t\t\t] === presetObject[ presetProperty ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getPresetVariableFromValue(\n\tfeatures,\n\tblockName,\n\tvariableStylePath,\n\tpresetPropertyValue\n) {\n\tif ( ! presetPropertyValue ) {\n\t\treturn presetPropertyValue;\n\t}\n\n\tconst cssVarInfix = STYLE_PATH_TO_CSS_VAR_INFIX[ variableStylePath ];\n\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === cssVarInfix\n\t);\n\n\tif ( ! metadata ) {\n\t\t// The property doesn't have preset data\n\t\t// so the value should be returned as it is.\n\t\treturn presetPropertyValue;\n\t}\n\tconst { valueKey, path } = metadata;\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tpath,\n\t\tvalueKey,\n\t\tpresetPropertyValue\n\t);\n\n\tif ( ! presetObject ) {\n\t\t// Value wasn't found in the presets,\n\t\t// so it must be a custom value.\n\t\treturn presetPropertyValue;\n\t}\n\n\treturn `var:preset|${ cssVarInfix }|${ presetObject.slug }`;\n}\n\nfunction getValueFromPresetVariable(\n\tfeatures,\n\tblockName,\n\tvariable,\n\t[ presetType, slug ]\n) {\n\tconst metadata = PRESET_METADATA.find(\n\t\t( data ) => data.cssVarInfix === presetType\n\t);\n\tif ( ! metadata ) {\n\t\treturn variable;\n\t}\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures.settings,\n\t\tblockName,\n\t\tmetadata.path,\n\t\t'slug',\n\t\tslug\n\t);\n\n\tif ( presetObject ) {\n\t\tconst { valueKey } = metadata;\n\t\tconst result = presetObject[ valueKey ];\n\t\treturn getValueFromVariable( features, blockName, result );\n\t}\n\n\treturn variable;\n}\n\nfunction getValueFromCustomVariable( features, blockName, variable, path ) {\n\tconst result =\n\t\tget( features.settings, [ 'blocks', blockName, 'custom', ...path ] ) ??\n\t\tget( features.settings, [ 'custom', ...path ] );\n\tif ( ! result ) {\n\t\treturn variable;\n\t}\n\t// A variable may reference another variable so we need recursion until we find the value.\n\treturn getValueFromVariable( features, blockName, result );\n}\n\n/**\n * Attempts to fetch the value of a theme.json CSS variable.\n *\n * @param {Object}   features  GlobalStylesContext config, e.g., user, base or merged. Represents the theme.json tree.\n * @param {string}   blockName The name of a block as represented in the styles property. E.g., 'root' for root-level, and 'core/${blockName}' for blocks.\n * @param {string|*} variable  An incoming style value. A CSS var value is expected, but it could be any value.\n * @return {string|*|{ref}} The value of the CSS var, if found. If not found, the passed variable argument.\n */\nexport function getValueFromVariable( features, blockName, variable ) {\n\tif ( ! variable || typeof variable !== 'string' ) {\n\t\tif ( variable?.ref && typeof variable?.ref === 'string' ) {\n\t\t\tconst refPath = variable.ref.split( '.' );\n\t\t\tvariable = get( features, refPath );\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif ( ! variable || !! variable?.ref ) {\n\t\t\t\treturn variable;\n\t\t\t}\n\t\t} else {\n\t\t\treturn variable;\n\t\t}\n\t}\n\tconst USER_VALUE_PREFIX = 'var:';\n\tconst THEME_VALUE_PREFIX = 'var(--wp--';\n\tconst THEME_VALUE_SUFFIX = ')';\n\n\tlet parsedVar;\n\n\tif ( variable.startsWith( USER_VALUE_PREFIX ) ) {\n\t\tparsedVar = variable.slice( USER_VALUE_PREFIX.length ).split( '|' );\n\t} else if (\n\t\tvariable.startsWith( THEME_VALUE_PREFIX ) &&\n\t\tvariable.endsWith( THEME_VALUE_SUFFIX )\n\t) {\n\t\tparsedVar = variable\n\t\t\t.slice( THEME_VALUE_PREFIX.length, -THEME_VALUE_SUFFIX.length )\n\t\t\t.split( '--' );\n\t} else {\n\t\t// We don't know how to parse the value: either is raw of uses complex CSS such as `calc(1px * var(--wp--variable) )`\n\t\treturn variable;\n\t}\n\n\tconst [ type, ...path ] = parsedVar;\n\tif ( type === 'preset' ) {\n\t\treturn getValueFromPresetVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\tif ( type === 'custom' ) {\n\t\treturn getValueFromCustomVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\treturn variable;\n}\n\n/**\n * Function that scopes a selector with another one. This works a bit like\n * SCSS nesting except the `&` operator isn't supported.\n *\n * @example\n * ```js\n * const scope = '.a, .b .c';\n * const selector = '> .x, .y';\n * const merged = scopeSelector( scope, selector );\n * // merged is '.a > .x, .a .y, .b .c > .x, .b .c .y'\n * ```\n *\n * @param {string} scope    Selector to scope to.\n * @param {string} selector Original selector.\n *\n * @return {string} Scoped selector.\n */\nexport function scopeSelector( scope, selector ) {\n\tconst scopes = scope.split( ',' );\n\tconst selectors = selector.split( ',' );\n\n\tconst selectorsScoped = [];\n\tscopes.forEach( ( outer ) => {\n\t\tselectors.forEach( ( inner ) => {\n\t\t\tselectorsScoped.push( `${ outer.trim() } ${ inner.trim() }` );\n\t\t} );\n\t} );\n\n\treturn selectorsScoped.join( ', ' );\n}\n\n/**\n *\n * @param {string} path The variation path in the Global Styles tree.\n *\n * @return {string} The variation class name.\n */\nexport function getVariationClassNameFromPath( path ) {\n\tif ( ! path ) {\n\t\treturn '';\n\t}\n\treturn `is-style-${ path.split( '.' )[ 1 ] }`;\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const DEFAULT_GLOBAL_STYLES_CONTEXT = {\n\tuser: {},\n\tbase: {},\n\tmerged: {},\n\tsetUserConfig: () => {},\n};\n\nexport const GlobalStylesContext = createContext(\n\tDEFAULT_GLOBAL_STYLES_CONTEXT\n);\n","/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\nimport { get, set } from 'lodash';\nimport { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\nimport { useContext, useCallback, useMemo } from '@wordpress/element';\nimport {\n\tgetBlockType,\n\t__EXPERIMENTAL_PATHS_WITH_MERGE as PATHS_WITH_MERGE,\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { getValueFromVariable, getPresetVariableFromValue } from './utils';\nimport { GlobalStylesContext } from './context';\n\n// Enable colord's a11y plugin.\nextend( [ a11yPlugin ] );\n\nconst EMPTY_CONFIG = { settings: {}, styles: {} };\n\nexport const useGlobalStylesReset = () => {\n\tconst { user: config, setUserConfig } = useContext( GlobalStylesContext );\n\tconst canReset = !! config && ! fastDeepEqual( config, EMPTY_CONFIG );\n\treturn [\n\t\tcanReset,\n\t\tuseCallback(\n\t\t\t() => setUserConfig( () => EMPTY_CONFIG ),\n\t\t\t[ setUserConfig ]\n\t\t),\n\t];\n};\n\nexport function useSetting( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\n\tconst fullPath = ! blockName\n\t\t? `settings.${ path }`\n\t\t: `settings.blocks.${ blockName }.${ path }`;\n\n\tconst setSetting = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\t// Deep clone `currentConfig` to avoid mutating it later.\n\t\t\tconst newUserConfig = JSON.parse( JSON.stringify( currentConfig ) );\n\t\t\tconst pathToSet = PATHS_WITH_MERGE[ path ]\n\t\t\t\t? fullPath + '.custom'\n\t\t\t\t: fullPath;\n\t\t\tset( newUserConfig, pathToSet, newValue );\n\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tconst getSettingValueForContext = ( name ) => {\n\t\tconst currentPath = ! name\n\t\t\t? `settings.${ path }`\n\t\t\t: `settings.blocks.${ name }.${ path }`;\n\n\t\tconst getSettingValue = ( configToUse ) => {\n\t\t\tconst result = get( configToUse, currentPath );\n\t\t\tif ( PATHS_WITH_MERGE[ path ] ) {\n\t\t\t\treturn result?.custom ?? result?.theme ?? result?.default;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tlet result;\n\t\tswitch ( source ) {\n\t\t\tcase 'all':\n\t\t\t\tresult = getSettingValue( mergedConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tresult = getSettingValue( userConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'base':\n\t\t\t\tresult = getSettingValue( baseConfig );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow 'Unsupported source';\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Unlike styles settings get inherited from top level settings.\n\tconst resultWithFallback =\n\t\tgetSettingValueForContext( blockName ) ?? getSettingValueForContext();\n\n\treturn [ resultWithFallback, setSetting ];\n}\n\nexport function useStyle( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\tconst finalPath = ! blockName\n\t\t? `styles.${ path }`\n\t\t: `styles.blocks.${ blockName }.${ path }`;\n\n\tconst setStyle = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\t// Deep clone `currentConfig` to avoid mutating it later.\n\t\t\tconst newUserConfig = JSON.parse( JSON.stringify( currentConfig ) );\n\t\t\tset(\n\t\t\t\tnewUserConfig,\n\t\t\t\tfinalPath,\n\t\t\t\tgetPresetVariableFromValue(\n\t\t\t\t\tmergedConfig.settings,\n\t\t\t\t\tblockName,\n\t\t\t\t\tpath,\n\t\t\t\t\tnewValue\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tlet result;\n\tswitch ( source ) {\n\t\tcase 'all':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig,\n\t\t\t\tblockName,\n\t\t\t\t// The stlyes.css path is allowed to be empty, so don't revert to base if undefined.\n\t\t\t\tfinalPath === 'styles.css'\n\t\t\t\t\t? get( userConfig, finalPath )\n\t\t\t\t\t: get( userConfig, finalPath ) ??\n\t\t\t\t\t\t\tget( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'user':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig,\n\t\t\t\tblockName,\n\t\t\t\tget( userConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'base':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tbaseConfig,\n\t\t\t\tblockName,\n\t\t\t\tget( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow 'Unsupported source';\n\t}\n\n\treturn [ result, setStyle ];\n}\n\nconst ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'buttonColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'padding',\n\t'contentSize',\n\t'wideSize',\n\t'blockGap',\n];\n\nexport function getSupportedGlobalStylesPanels( name ) {\n\tif ( ! name ) {\n\t\treturn ROOT_BLOCK_SUPPORTS;\n\t}\n\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn [];\n\t}\n\n\tconst supportKeys = [];\n\n\t// Check for blockGap support.\n\t// Block spacing support doesn't map directly to a single style property, so needs to be handled separately.\n\t// Also, only allow `blockGap` support if serialization has not been skipped, to be sure global spacing can be applied.\n\tif (\n\t\tblockType?.supports?.spacing?.blockGap &&\n\t\tblockType?.supports?.spacing?.__experimentalSkipSerialization !==\n\t\t\ttrue &&\n\t\t! blockType?.supports?.spacing?.__experimentalSkipSerialization?.some?.(\n\t\t\t( spacingType ) => spacingType === 'blockGap'\n\t\t)\n\t) {\n\t\tsupportKeys.push( 'blockGap' );\n\t}\n\n\tObject.keys( STYLE_PROPERTY ).forEach( ( styleName ) => {\n\t\tif ( ! STYLE_PROPERTY[ styleName ].support ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Opting out means that, for certain support keys like background color,\n\t\t// blocks have to explicitly set the support value false. If the key is\n\t\t// unset, we still enable it.\n\t\tif ( STYLE_PROPERTY[ styleName ].requiresOptOut ) {\n\t\t\tif (\n\t\t\t\tSTYLE_PROPERTY[ styleName ].support[ 0 ] in\n\t\t\t\t\tblockType.supports &&\n\t\t\t\tget(\n\t\t\t\t\tblockType.supports,\n\t\t\t\t\tSTYLE_PROPERTY[ styleName ].support\n\t\t\t\t) !== false\n\t\t\t) {\n\t\t\t\treturn supportKeys.push( styleName );\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tget(\n\t\t\t\tblockType.supports,\n\t\t\t\tSTYLE_PROPERTY[ styleName ].support,\n\t\t\t\tfalse\n\t\t\t)\n\t\t) {\n\t\t\treturn supportKeys.push( styleName );\n\t\t}\n\t} );\n\n\treturn supportKeys;\n}\n\nexport function useColorsPerOrigin( name ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom', name );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme', name );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default', name );\n\tconst [ shouldDisplayDefaultColors ] = useSetting( 'color.defaultPalette' );\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeColors && themeColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tcolors: themeColors,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultColors &&\n\t\t\tdefaultColors &&\n\t\t\tdefaultColors.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tcolors: defaultColors,\n\t\t\t} );\n\t\t}\n\t\tif ( customColors && customColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tcolors: customColors,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customColors, themeColors, defaultColors ] );\n}\n\nexport function useGradientsPerOrigin( name ) {\n\tconst [ customGradients ] = useSetting( 'color.gradients.custom', name );\n\tconst [ themeGradients ] = useSetting( 'color.gradients.theme', name );\n\tconst [ defaultGradients ] = useSetting( 'color.gradients.default', name );\n\tconst [ shouldDisplayDefaultGradients ] = useSetting(\n\t\t'color.defaultGradients'\n\t);\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeGradients && themeGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tgradients: themeGradients,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultGradients &&\n\t\t\tdefaultGradients &&\n\t\t\tdefaultGradients.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tgradients: defaultGradients,\n\t\t\t} );\n\t\t}\n\t\tif ( customGradients && customGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tgradients: customGradients,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customGradients, themeGradients, defaultGradients ] );\n}\n\nexport function useColorRandomizer( name ) {\n\tconst [ themeColors, setThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\n\tfunction randomizeColors() {\n\t\t/* eslint-disable no-restricted-syntax */\n\t\tconst randomRotationValue = Math.floor( Math.random() * 225 );\n\t\t/* eslint-enable no-restricted-syntax */\n\n\t\tconst newColors = themeColors.map( ( colorObject ) => {\n\t\t\tconst { color } = colorObject;\n\t\t\tconst newColor = colord( color )\n\t\t\t\t.rotate( randomRotationValue )\n\t\t\t\t.toHex();\n\n\t\t\treturn {\n\t\t\t\t...colorObject,\n\t\t\t\tcolor: newColor,\n\t\t\t};\n\t\t} );\n\n\t\tsetThemeColors( newColors );\n\t}\n\n\treturn window.__experimentalEnableColorRandomizer\n\t\t? [ randomizeColors ]\n\t\t: [];\n}\n","/**\n * External dependencies\n */\nimport { get, set } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport {\n\tInspectorAdvancedControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { BaseControl, Button } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { useContext, useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels } from '../../components/global-styles/hooks';\nimport { GlobalStylesContext } from '../../components/global-styles/context';\nimport {\n\tSTYLE_PATH_TO_CSS_VAR_INFIX,\n\tSTYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE,\n} from '../../components/global-styles/utils';\n\nfunction getChangesToPush( name, attributes ) {\n\treturn getSupportedGlobalStylesPanels( name ).flatMap( ( key ) => {\n\t\tif ( ! STYLE_PROPERTY[ key ] ) {\n\t\t\treturn [];\n\t\t}\n\t\tconst { value: path } = STYLE_PROPERTY[ key ];\n\t\tconst presetAttributeKey = path.join( '.' );\n\t\tconst presetAttributeValue =\n\t\t\tattributes[\n\t\t\t\tSTYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE[ presetAttributeKey ]\n\t\t\t];\n\t\tconst value = presetAttributeValue\n\t\t\t? `var:preset|${ STYLE_PATH_TO_CSS_VAR_INFIX[ presetAttributeKey ] }|${ presetAttributeValue }`\n\t\t\t: get( attributes.style, path );\n\t\treturn value ? [ { path, value } ] : [];\n\t} );\n}\n\nfunction cloneDeep( object ) {\n\treturn ! object ? {} : JSON.parse( JSON.stringify( object ) );\n}\n\nfunction PushChangesToGlobalStylesControl( {\n\tname,\n\tattributes,\n\tsetAttributes,\n} ) {\n\tconst changes = useMemo(\n\t\t() => getChangesToPush( name, attributes ),\n\t\t[ name, attributes ]\n\t);\n\n\tconst { user: userConfig, setUserConfig } =\n\t\tuseContext( GlobalStylesContext );\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst pushChanges = useCallback( () => {\n\t\tif ( changes.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { style: blockStyles } = attributes;\n\n\t\tconst newBlockStyles = cloneDeep( blockStyles );\n\t\tconst newUserConfig = cloneDeep( userConfig );\n\n\t\tfor ( const { path, value } of changes ) {\n\t\t\tset( newBlockStyles, path, undefined );\n\t\t\tset( newUserConfig, [ 'styles', 'blocks', name, ...path ], value );\n\t\t}\n\n\t\t// @wordpress/core-data doesn't support editing multiple entity types in\n\t\t// a single undo level. So for now, we disable @wordpress/core-data undo\n\t\t// tracking and implement our own Undo button in the snackbar\n\t\t// notification.\n\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\tsetAttributes( { style: newBlockStyles } );\n\t\tsetUserConfig( () => newUserConfig, { undoIgnore: true } );\n\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t// translators: %s: Title of the block e.g. 'Heading'.\n\t\t\t\t__( '%s styles applied.' ),\n\t\t\t\tgetBlockType( name ).title\n\t\t\t),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\t\t\t\tsetAttributes( { style: blockStyles } );\n\t\t\t\t\t\t\tsetUserConfig( () => userConfig, {\n\t\t\t\t\t\t\t\tundoIgnore: true,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t);\n\t}, [ changes, attributes, userConfig, name ] );\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"edit-site-push-changes-to-global-styles-control\"\n\t\t\thelp={ sprintf(\n\t\t\t\t// translators: %s: Title of the block e.g. 'Heading'.\n\t\t\t\t__(\n\t\t\t\t\t'Apply this block’s typography, spacing, dimensions, and color styles to all %s blocks.'\n\t\t\t\t),\n\t\t\t\tgetBlockType( name ).title\n\t\t\t) }\n\t\t>\n\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t{ __( 'Styles' ) }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tdisabled={ changes.length === 0 }\n\t\t\t\tonClick={ pushChanges }\n\t\t\t>\n\t\t\t\t{ __( 'Apply globally' ) }\n\t\t\t</Button>\n\t\t</BaseControl>\n\t);\n}\n\nconst withPushChangesToGlobalStyles = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) =>\n\t\t(\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t<PushChangesToGlobalStylesControl { ...props } />\n\t\t\t\t</InspectorAdvancedControls>\n\t\t\t</>\n\t\t)\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/edit-site/push-changes-to-global-styles',\n\twithPushChangesToGlobalStyles\n);\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","/**\n * External dependencies\n */\nimport { createBrowserHistory } from 'history';\n\n/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\nconst history = createBrowserHistory();\n\nconst originalHistoryPush = history.push;\nconst originalHistoryReplace = history.replace;\n\nfunction push( params, state ) {\n\treturn originalHistoryPush.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nfunction replace( params, state ) {\n\treturn originalHistoryReplace.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nhistory.push = push;\nhistory.replace = replace;\n\nexport default history;\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport history from '../../utils/history';\n\nconst RoutesContext = createContext();\nconst HistoryContext = createContext();\n\nexport function useLocation() {\n\treturn useContext( RoutesContext );\n}\n\nexport function useHistory() {\n\treturn useContext( HistoryContext );\n}\n\nfunction getLocationWithParams( location ) {\n\tconst searchParams = new URLSearchParams( location.search );\n\treturn {\n\t\t...location,\n\t\tparams: Object.fromEntries( searchParams.entries() ),\n\t};\n}\n\nexport function Routes( { children } ) {\n\tconst [ location, setLocation ] = useState( () =>\n\t\tgetLocationWithParams( history.location )\n\t);\n\n\tuseEffect( () => {\n\t\treturn history.listen( ( { location: updatedLocation } ) => {\n\t\t\tsetLocation( getLocationWithParams( updatedLocation ) );\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<HistoryContext.Provider value={ history }>\n\t\t\t<RoutesContext.Provider value={ location }>\n\t\t\t\t{ children }\n\t\t\t</RoutesContext.Provider>\n\t\t</HistoryContext.Provider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from './index';\n\nexport function useLink( params = {}, state, shouldReplace = false ) {\n\tconst history = useHistory();\n\n\tfunction onClick( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( shouldReplace ) {\n\t\t\thistory.replace( params, state );\n\t\t} else {\n\t\t\thistory.push( params, state );\n\t\t}\n\t}\n\n\treturn {\n\t\thref: addQueryArgs( window.location.href, params ),\n\t\tonClick,\n\t};\n}\n\nexport default function Link( {\n\tparams = {},\n\tstate,\n\treplace: shouldReplace = false,\n\tchildren,\n\t...props\n} ) {\n\tconst { href, onClick } = useLink( params, state, shouldReplace );\n\n\treturn (\n\t\t<a href={ href } onClick={ onClick } { ...props }>\n\t\t\t{ children }\n\t\t</a>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { BlockControls } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { ToolbarButton } from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../components/routes';\nimport { useLink } from '../components/routes/link';\n\nfunction EditTemplatePartMenuItem( { attributes } ) {\n\tconst { theme, slug } = attributes;\n\tconst { params } = useLocation();\n\tconst templatePart = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( coreStore ).getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t// Ideally this should be an official public API.\n\t\t\t\t`${ theme }//${ slug }`\n\t\t\t);\n\t\t},\n\t\t[ theme, slug ]\n\t);\n\n\tconst linkProps = useLink(\n\t\t{\n\t\t\tpostId: templatePart?.id,\n\t\t\tpostType: templatePart?.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tif ( ! templatePart ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockControls group=\"other\">\n\t\t\t<ToolbarButton\n\t\t\t\t{ ...linkProps }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\tlinkProps.onClick( event );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Edit' ) }\n\t\t\t</ToolbarButton>\n\t\t</BlockControls>\n\t);\n}\n\nexport const withEditBlockControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { attributes, name } = props;\n\t\tconst isDisplayed = name === 'core/template-part' && attributes.slug;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isDisplayed && (\n\t\t\t\t\t<EditTemplatePartMenuItem attributes={ attributes } />\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withEditBlockControls'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/edit-site/template-part-edit-button',\n\twithEditBlockControls\n);\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PREVIEW_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the settings.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the currently edited Post Type,\n * Post Id and the context provided to fill the content of the block editor.\n *\n * @param {Object} state  Current edited post.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editedPost( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn {\n\t\t\t\tpostType: action.postType,\n\t\t\t\tid: action.id,\n\t\t\t\tcontext: action.context,\n\t\t\t};\n\t\tcase 'SET_EDITED_POST_CONTEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontext: action.context,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the navigation and list view panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {boolean|Object} state  Current state.\n * @param {Object}         action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t\tcase 'SET_CANVAS_MODE':\n\t\t\treturn false;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the navigation and inserter panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t\tcase 'SET_CANVAS_MODE':\n\t\t\treturn false;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the save view panel open or closed.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function saveViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_SAVE_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t\tcase 'SET_CANVAS_MODE':\n\t\t\treturn false;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer used to track the site editor canvas mode (edit or view).\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nfunction canvasMode( state = 'init', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CANVAS_MODE':\n\t\t\treturn action.mode;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tdeviceType,\n\tsettings,\n\teditedPost,\n\tblockInserterPanel,\n\tlistViewPanel,\n\tsaveViewPanel,\n\tcanvasMode,\n} );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/edit-site';\n\nexport const TEMPLATE_PART_AREA_HEADER = 'header';\nexport const TEMPLATE_PART_AREA_FOOTER = 'footer';\nexport const TEMPLATE_PART_AREA_SIDEBAR = 'sidebar';\nexport const TEMPLATE_PART_AREA_GENERAL = 'uncategorized';\n","/**\n * Check if a template is revertable to its original theme-provided template file.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRevertable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t/* eslint-disable camelcase */\n\treturn template?.source === 'custom' && template?.has_theme_file;\n\t/* eslint-enable camelcase */\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport deprecated from '@wordpress/deprecated';\nimport { addQueryArgs, getPathAndQueryString } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { speak } from '@wordpress/a11y';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as editSiteStoreName } from './constants';\nimport isTemplateRevertable from '../utils/is-template-revertable';\n\n/**\n * Dispatches an action that toggles a feature flag.\n *\n * @param {string} featureName Feature name.\n */\nexport function toggleFeature( featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( \"select( 'core/edit-site' ).toggleFeature( featureName )\", {\n\t\t\tsince: '6.0',\n\t\t\talternative:\n\t\t\t\t\"select( 'core/preferences').toggle( 'core/edit-site', featureName )\",\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.toggle( 'core/edit-site', featureName );\n\t};\n}\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function __experimentalSetPreviewDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_PREVIEW_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Action that sets a template, optionally fetching it from REST API.\n *\n * @param {number} templateId   The template ID.\n * @param {string} templateSlug The template slug.\n * @return {Object} Action object.\n */\nexport const setTemplate =\n\t( templateId, templateSlug ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tif ( ! templateSlug ) {\n\t\t\ttry {\n\t\t\t\tconst template = await registry\n\t\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t\t.getEntityRecord( 'postType', 'wp_template', templateId );\n\t\t\t\ttemplateSlug = template?.slug;\n\t\t\t} catch ( error ) {}\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_EDITED_POST',\n\t\t\tpostType: 'wp_template',\n\t\t\tid: templateId,\n\t\t\tcontext: { templateSlug },\n\t\t} );\n\t};\n\n/**\n * Action that adds a new template and sets it as the current template.\n *\n * @param {Object} template The template.\n *\n * @return {Object} Action object used to set the current template.\n */\nexport const addTemplate =\n\t( template ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tconst newTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\n\t\tif ( template.content ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\tnewTemplate.id,\n\t\t\t\t\t{ blocks: parse( template.content ) },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_EDITED_POST',\n\t\t\tpostType: 'wp_template',\n\t\t\tid: newTemplate.id,\n\t\t\tcontext: { templateSlug: newTemplate.slug },\n\t\t} );\n\t};\n\n/**\n * Action that removes a template.\n *\n * @param {Object} template The template object.\n */\nexport const removeTemplate =\n\t( template ) =>\n\tasync ( { registry } ) => {\n\t\ttry {\n\t\t\tawait registry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.deleteEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\t\tforce: true,\n\t\t\t\t} );\n\n\t\t\tconst lastError = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getLastEntityDeleteError(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\tif ( lastError ) {\n\t\t\t\tthrow lastError;\n\t\t\t}\n\n\t\t\tregistry.dispatch( noticesStore ).createSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t__( '\"%s\" deleted.' ),\n\t\t\t\t\ttemplate.title.rendered\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while deleting the template.' );\n\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n\n/**\n * Action that sets a template part.\n *\n * @param {string} templatePartId The template part ID.\n *\n * @return {Object} Action object.\n */\nexport function setTemplatePart( templatePartId ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType: 'wp_template_part',\n\t\tid: templatePartId,\n\t};\n}\n\n/**\n * @deprecated\n */\nexport function setHomeTemplateId() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setHomeTemplateId\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn {\n\t\ttype: 'NOTHING',\n\t};\n}\n\n/**\n * Set's the current block editor context.\n *\n * @param {Object} context The context object.\n *\n * @return {number} The resolved template ID for the page route.\n */\nexport function setEditedPostContext( context ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST_CONTEXT',\n\t\tcontext,\n\t};\n}\n\n/**\n * Resolves the template for a page and displays both. If no path is given, attempts\n * to use the postId to generate a path like `?p=${ postId }`.\n *\n * @param {Object} page         The page object.\n * @param {string} page.type    The page type.\n * @param {string} page.slug    The page slug.\n * @param {string} page.path    The page path.\n * @param {Object} page.context The page context.\n *\n * @return {number} The resolved template ID for the page route.\n */\nexport const setPage =\n\t( page ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tif ( ! page.path && page.context?.postId ) {\n\t\t\tconst entity = await registry\n\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t.getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpage.context.postType || 'post',\n\t\t\t\t\tpage.context.postId\n\t\t\t\t);\n\t\t\t// If the entity is undefined for some reason, path will resolve to \"/\"\n\t\t\tpage.path = getPathAndQueryString( entity?.link );\n\t\t}\n\n\t\tconst template = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.__experimentalGetTemplateForLink( page.path );\n\n\t\tif ( ! template ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_EDITED_POST',\n\t\t\tpostType: 'wp_template',\n\t\t\tid: template.id,\n\t\t\tcontext: {\n\t\t\t\t...page.context,\n\t\t\t\ttemplateSlug: template.slug,\n\t\t\t},\n\t\t} );\n\n\t\treturn template.id;\n\t};\n\n/**\n * Action that sets the active navigation panel menu.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function setNavigationPanelActiveMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setNavigationPanelActiveMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Opens the navigation panel and sets its active menu at the same time.\n *\n * @deprecated\n */\nexport function openNavigationPanelToMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).openNavigationPanelToMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Sets whether the navigation panel should be open.\n *\n * @deprecated\n */\nexport function setIsNavigationPanelOpened() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).setIsNavigationPanelOpened\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n\n\treturn { type: 'NOTHING' };\n}\n\n/**\n * Opens or closes the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n\n/**\n * Returns an action object used to update the settings.\n *\n * @param {Object} settings New settings.\n *\n * @return {Object} Action object.\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Sets whether the list view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the list view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Sets whether the save view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the save view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsSaveViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_SAVE_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate =\n\t( template, { allowUndo = true } = {} ) =>\n\tasync ( { registry } ) => {\n\t\tif ( ! isTemplateRevertable( template ) ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( __( 'This template is not revertable.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst templateEntityConfig = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityConfig( 'postType', template.type );\n\n\t\t\tif ( ! templateEntityConfig ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t\t{ context: 'edit', source: 'theme' }\n\t\t\t);\n\n\t\t\tconst fileTemplate = await apiFetch( { path: fileTemplatePath } );\n\t\t\tif ( ! fileTemplate ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst serializeBlocks = ( {\n\t\t\t\tblocks: blocksForSerialization = [],\n\t\t\t} ) => __unstableSerializeAndClean( blocksForSerialization );\n\n\t\t\tconst edited = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t\t// the revert in the header toolbar correctly.\n\t\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{\n\t\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord( 'postType', template.type, fileTemplate.id, {\n\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\tblocks,\n\t\t\t\t\tsource: 'theme',\n\t\t\t\t} );\n\n\t\t\tif ( allowUndo ) {\n\t\t\t\tconst undoRevert = () => {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\t\tedited.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ), {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ) );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n/**\n * Action that opens an editor sidebar.\n *\n * @param {?string} name Sidebar name to be opened.\n */\nexport const openGeneralSidebar =\n\t( name ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.enableComplementaryArea( editSiteStoreName, name );\n\t};\n\n/**\n * Action that closes the sidebar.\n */\nexport const closeGeneralSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.disableComplementaryArea( editSiteStoreName );\n\t};\n\nexport const switchEditorMode =\n\t( mode ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( 'core/preferences' )\n\t\t\t.set( 'core/edit-site', 'editorMode', mode );\n\n\t\t// Unselect blocks when we switch to a non visual mode.\n\t\tif ( mode !== 'visual' ) {\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t}\n\n\t\tif ( mode === 'visual' ) {\n\t\t\tspeak( __( 'Visual editor selected' ), 'assertive' );\n\t\t} else if ( mode === 'mosaic' ) {\n\t\t\tspeak( __( 'Mosaic view selected' ), 'assertive' );\n\t\t}\n\t};\n\n/**\n * Action that switches the canvas mode.\n *\n * @param {?string} mode Canvas mode.\n */\nexport const __unstableSetCanvasMode =\n\t( mode ) =>\n\t( { registry, dispatch } ) => {\n\t\tregistry.dispatch( blockEditorStore ).__unstableSetEditorMode( 'edit' );\n\t\tdispatch( {\n\t\t\ttype: 'SET_CANVAS_MODE',\n\t\t\tmode,\n\t\t} );\n\t\t// Check if the block list view should be open by default.\n\t\tif (\n\t\t\tmode === 'edit' &&\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core/edit-site', 'showListViewByDefault' )\n\t\t) {\n\t\t\tdispatch.setIsListViewOpened( true );\n\t\t}\n\t};\n","'use strict';\n\n/** @typedef {(...args: any[]) => *[]} GetDependants */\n\n/** @typedef {() => void} Clear */\n\n/**\n * @typedef {{\n *   getDependants: GetDependants,\n *   clear: Clear\n * }} EnhancedSelector\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef CacheNode\n *\n * @property {?CacheNode|undefined} [prev] Previous node.\n * @property {?CacheNode|undefined} [next] Next node.\n * @property {*[]} args Function arguments for cache entry.\n * @property {*} val Function result.\n */\n\n/**\n * @typedef Cache\n *\n * @property {Clear} clear Function to clear cache.\n * @property {boolean} [isUniqueByDependants] Whether dependants are valid in\n * considering cache uniqueness. A cache is unique if dependents are all arrays\n * or objects.\n * @property {CacheNode?} [head] Cache head.\n * @property {*[]} [lastDependants] Dependants from previous invocation.\n */\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {{}}\n */\nvar LEAF_KEY = {};\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @template T\n *\n * @param {T} value Value to return.\n *\n * @return {[T]} Value returned as entry in array.\n */\nfunction arrayOf(value) {\n\treturn [value];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike(value) {\n\treturn !!value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Cache} Cache object.\n */\nfunction createCache() {\n\t/** @type {Cache} */\n\tvar cache = {\n\t\tclear: function () {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {*[]} a First array.\n * @param {*[]} b Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual(a, b, fromIndex) {\n\tvar i;\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\tfor (i = fromIndex; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @template {(...args: *[]) => *} S\n *\n * @param {S} selector Selector function.\n * @param {GetDependants=} getDependants Dependant getter returning an array of\n * references used in cache bust consideration.\n */\nexport default function (selector, getDependants) {\n\t/** @type {WeakMap<*,*>} */\n\tvar rootCache;\n\n\t/** @type {GetDependants} */\n\tvar normalizedGetDependants = getDependants ? getDependants : arrayOf;\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {*[]} dependants Selector dependants.\n\t *\n\t * @return {Cache} Cache object.\n\t */\n\tfunction getCache(dependants) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti,\n\t\t\tdependant,\n\t\t\tmap,\n\t\t\tcache;\n\n\t\tfor (i = 0; i < dependants.length; i++) {\n\t\t\tdependant = dependants[i];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif (!isObjectLike(dependant)) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif (caches.has(dependant)) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get(dependant);\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set(dependant, map);\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif (!caches.has(LEAF_KEY)) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set(LEAF_KEY, cache);\n\t\t}\n\n\t\treturn caches.get(LEAF_KEY);\n\t}\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = new WeakMap();\n\t}\n\n\t/* eslint-disable jsdoc/check-param-names */\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {*}    source    Source object for derivation.\n\t * @param {...*} extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\t/* eslint-enable jsdoc/check-param-names */\n\tfunction callSelector(/* source, ...extraArgs */) {\n\t\tvar len = arguments.length,\n\t\t\tcache,\n\t\t\tnode,\n\t\t\ti,\n\t\t\targs,\n\t\t\tdependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tdependants = normalizedGetDependants.apply(null, args);\n\t\tcache = getCache(dependants);\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type), shallow\n\t\t// compare against last dependants and, if references have changed,\n\t\t// destroy cache to recalculate result.\n\t\tif (!cache.isUniqueByDependants) {\n\t\t\tif (\n\t\t\t\tcache.lastDependants &&\n\t\t\t\t!isShallowEqual(dependants, cache.lastDependants, 0)\n\t\t\t) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile (node) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif (!isShallowEqual(node.args, args, 1)) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== cache.head) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\t/** @type {CacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {CacheNode} */ (cache.head).prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = /** @type {CacheNode} */ ({\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply(null, args),\n\t\t});\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[0] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (cache.head) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = normalizedGetDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn /** @type {S & EnhancedSelector} */ (callSelector);\n}\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { isTemplatePart } from '@wordpress/blocks';\nimport { Platform } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * @typedef {'template'|'template_type'} TemplateType Template type.\n */\n\n/**\n * Helper for getting a preference from the preferences store.\n *\n * This is only present so that `getSettings` doesn't need to be made a\n * registry selector.\n *\n * It's unstable because the selector needs to be exported and so part of the\n * public API to work.\n */\nexport const __unstableGetPreference = createRegistrySelector(\n\t( select ) => ( state, name ) =>\n\t\tselect( preferencesStore ).get( 'core/edit-site', name )\n);\n\n/**\n * Returns whether the given feature is enabled or not.\n *\n * @param {Object} state       Global application state.\n * @param {string} featureName Feature slug.\n *\n * @return {boolean} Is active.\n */\nexport function isFeatureActive( state, featureName ) {\n\tdeprecated( `select( 'core/interface' ).isFeatureActive`, {\n\t\tsince: '6.0',\n\t\talternative: `select( 'core/preferences' ).get`,\n\t} );\n\n\treturn !! __unstableGetPreference( state, featureName );\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport function __experimentalGetPreviewDeviceType( state ) {\n\treturn state.deviceType;\n}\n\n/**\n * Returns whether the current user can create media or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Whether the current user can create media or not.\n */\nexport const getCanUserCreateMedia = createRegistrySelector(\n\t( select ) => () => select( coreDataStore ).canUser( 'create', 'media' )\n);\n\n/**\n * Returns any available Reusable blocks.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The available reusable blocks.\n */\nexport const getReusableBlocks = createRegistrySelector( ( select ) => () => {\n\tconst isWeb = Platform.OS === 'web';\n\treturn isWeb\n\t\t? select( coreDataStore ).getEntityRecords( 'postType', 'wp_block', {\n\t\t\t\tper_page: -1,\n\t\t  } )\n\t\t: [];\n} );\n\n/**\n * Returns the settings, taking into account active features and permissions.\n *\n * @param {Object}   state             Global application state.\n * @param {Function} setIsInserterOpen Setter for the open state of the global inserter.\n *\n * @return {Object} Settings.\n */\nexport const getSettings = createSelector(\n\t( state, setIsInserterOpen ) => {\n\t\tconst settings = {\n\t\t\t...state.settings,\n\t\t\toutlineMode: true,\n\t\t\tfocusMode: !! __unstableGetPreference( state, 'focusMode' ),\n\t\t\thasFixedToolbar: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tshowIconLabels: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpen,\n\t\t\t__experimentalReusableBlocks: getReusableBlocks( state ),\n\t\t\t__experimentalPreferPatternsOnRoot:\n\t\t\t\t'wp_template' === getEditedPostType( state ),\n\t\t};\n\n\t\tconst canUserCreateMedia = getCanUserCreateMedia( state );\n\t\tif ( ! canUserCreateMedia ) {\n\t\t\treturn settings;\n\t\t}\n\n\t\tsettings.mediaUpload = ( { onError, ...rest } ) => {\n\t\t\tuploadMedia( {\n\t\t\t\twpAllowedMimeTypes: state.settings.allowedMimeTypes,\n\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t...rest,\n\t\t\t} );\n\t\t};\n\t\treturn settings;\n\t},\n\t( state ) => [\n\t\tgetCanUserCreateMedia( state ),\n\t\tstate.settings,\n\t\t__unstableGetPreference( state, 'focusMode' ),\n\t\t__unstableGetPreference( state, 'fixedToolbar' ),\n\t\t__unstableGetPreference( state, 'keepCaretInsideBlock' ),\n\t\t__unstableGetPreference( state, 'showIconLabels' ),\n\t\tgetReusableBlocks( state ),\n\t\tgetEditedPostType( state ),\n\t]\n);\n\n/**\n * @deprecated\n */\nexport function getHomeTemplateId() {\n\tdeprecated( \"select( 'core/edit-site' ).getHomeTemplateId\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n\n/**\n * Returns the current edited post type (wp_template or wp_template_part).\n *\n * @param {Object} state Global application state.\n *\n * @return {TemplateType?} Template type.\n */\nexport function getEditedPostType( state ) {\n\treturn state.editedPost.postType;\n}\n\n/**\n * Returns the ID of the currently edited template or template part.\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Post ID.\n */\nexport function getEditedPostId( state ) {\n\treturn state.editedPost.id;\n}\n\n/**\n * Returns the edited post's context object.\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getEditedPostContext( state ) {\n\treturn state.editedPost.context;\n}\n\n/**\n * Returns the current page object.\n *\n * @deprecated\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getPage( state ) {\n\treturn { context: state.editedPost.context };\n}\n\n/**\n * Returns the current opened/closed state of the inserter panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the inserter panel should be open; false if closed.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tconst { rootClientId, insertionIndex, filterValue } =\n\t\tstate.blockInserterPanel;\n\treturn { rootClientId, insertionIndex, filterValue };\n}\n\n/**\n * Returns the current opened/closed state of the list view panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the list view panel should be open; false if closed.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns the current opened/closed state of the save panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the save panel should be open; false if closed.\n */\nexport function isSaveViewOpened( state ) {\n\treturn state.saveViewPanel;\n}\n\n/**\n * Returns the template parts and their blocks for the current edited template.\n *\n * @param {Object} state Global application state.\n * @return {Array} Template parts and their blocks in an array.\n */\nexport const getCurrentTemplateTemplateParts = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst templateType = getEditedPostType( state );\n\t\tconst templateId = getEditedPostId( state );\n\t\tconst template = select( coreDataStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplateType,\n\t\t\ttemplateId\n\t\t);\n\n\t\tconst templateParts = select( coreDataStore ).getEntityRecords(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t{ per_page: -1 }\n\t\t);\n\t\tconst templatePartsById = templateParts\n\t\t\t? // Key template parts by their ID.\n\t\t\t  templateParts.reduce(\n\t\t\t\t\t( newTemplateParts, part ) => ( {\n\t\t\t\t\t\t...newTemplateParts,\n\t\t\t\t\t\t[ part.id ]: part,\n\t\t\t\t\t} ),\n\t\t\t\t\t{}\n\t\t\t  )\n\t\t\t: {};\n\n\t\treturn ( template.blocks ?? [] )\n\t\t\t.filter( ( block ) => isTemplatePart( block ) )\n\t\t\t.map( ( block ) => {\n\t\t\t\tconst {\n\t\t\t\t\tattributes: { theme, slug },\n\t\t\t\t} = block;\n\t\t\t\tconst templatePartId = `${ theme }//${ slug }`;\n\t\t\t\tconst templatePart = templatePartsById[ templatePartId ];\n\n\t\t\t\treturn {\n\t\t\t\t\ttemplatePart,\n\t\t\t\t\tblock,\n\t\t\t\t};\n\t\t\t} )\n\t\t\t.filter( ( { templatePart } ) => !! templatePart );\n\t}\n);\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport function getEditorMode( state ) {\n\treturn __unstableGetPreference( state, 'editorMode' );\n}\n\n/**\n * Returns the current canvas mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Canvas mode.\n */\nexport function __unstableGetCanvasMode( state ) {\n\treturn state.canvasMode;\n}\n\n/**\n * @deprecated\n */\nexport function getCurrentTemplateNavigationPanelSubMenu() {\n\tdeprecated(\n\t\t\"dispatch( 'core/edit-site' ).getCurrentTemplateNavigationPanelSubMenu\",\n\t\t{\n\t\t\tsince: '6.2',\n\t\t\tversion: '6.4',\n\t\t}\n\t);\n}\n\n/**\n * @deprecated\n */\nexport function getNavigationPanelActiveMenu() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).getNavigationPanelActiveMenu\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n\n/**\n * @deprecated\n */\nexport function isNavigationOpened() {\n\tdeprecated( \"dispatch( 'core/edit-site' ).isNavigationOpened\", {\n\t\tsince: '6.2',\n\t\tversion: '6.4',\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n\nexport const storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n};\n\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default layout;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbolFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbolFilled;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n} from '@wordpress/components';\nimport { isRTL, __, sprintf } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\n\nexport default function SidebarNavigationScreen( {\n\tpath,\n\tparentTitle,\n\ttitle,\n\tcontent,\n} ) {\n\treturn (\n\t\t<NavigatorScreen\n\t\t\tclassName=\"edit-site-sidebar-navigation-screen\"\n\t\t\tpath={ path }\n\t\t>\n\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t<HStack\n\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__title-icon\"\n\t\t\t\t>\n\t\t\t\t\t{ parentTitle ? (\n\t\t\t\t\t\t<NavigatorBackButton\n\t\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen__back\"\n\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: previous page. */\n\t\t\t\t\t\t\t\t__( 'Navigate to the previous view: %s' ),\n\t\t\t\t\t\t\t\tparentTitle\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__icon-placeholder\" />\n\t\t\t\t\t) }\n\n\t\t\t\t\t<div className=\"edit-site-sidebar-navigation-screen__title\">\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</div>\n\t\t\t\t</HStack>\n\n\t\t\t\t<nav className=\"edit-site-sidebar-navigation-screen__content\">\n\t\t\t\t\t{ content }\n\t\t\t\t</nav>\n\t\t\t</VStack>\n\t\t</NavigatorScreen>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItem as Item,\n\t__experimentalHStack as HStack,\n\tFlexBlock,\n} from '@wordpress/components';\nimport { chevronRight, Icon } from '@wordpress/icons';\n\nexport default function SidebarNavigationItem( {\n\tclassName,\n\ticon,\n\twithChevron = false,\n\tchildren,\n\t...props\n} ) {\n\treturn (\n\t\t<Item\n\t\t\tclassName={ classnames(\n\t\t\t\t'edit-site-sidebar-navigation-item',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tstyle={ { fill: 'currentcolor' } }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tsize={ 24 }\n\t\t\t\t\t/>\n\t\t\t\t\t<FlexBlock>{ children }</FlexBlock>\n\t\t\t\t\t{ withChevron && (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tstyle={ { fill: 'currentcolor' } }\n\t\t\t\t\t\t\ticon={ chevronRight }\n\t\t\t\t\t\t\tsize={ 24 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalNavigatorButton as NavigatorButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { layout, symbolFilled } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport SidebarNavigationItem from '../sidebar-navigation-item';\n\nexport default function SidebarNavigationScreenMain() {\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\tpath=\"/\"\n\t\t\ttitle={ __( 'Design' ) }\n\t\t\tcontent={\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<NavigatorButton\n\t\t\t\t\t\tas={ SidebarNavigationItem }\n\t\t\t\t\t\tpath=\"/templates\"\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ layout }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Templates' ) }\n\t\t\t\t\t</NavigatorButton>\n\t\t\t\t\t<NavigatorButton\n\t\t\t\t\t\tas={ SidebarNavigationItem }\n\t\t\t\t\t\tpath=\"/template-parts\"\n\t\t\t\t\t\twithChevron\n\t\t\t\t\t\ticon={ symbolFilled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Template Parts' ) }\n\t\t\t\t\t</NavigatorButton>\n\t\t\t\t</ItemGroup>\n\t\t\t}\n\t\t/>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst home = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z\" />\n\t</SVG>\n);\n\nexport default home;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst post = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z\" />\n\t</SVG>\n);\n\nexport default post;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst page = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z\" />\n\t</SVG>\n);\n\nexport default page;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst archive = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5zM8 12.8h8v-1.5H8v1.5zm0 3h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default archive;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst search = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\" />\n\t</SVG>\n);\n\nexport default search;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst notFound = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm.5 12c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v10zm-11-7.6h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-.9 3.5H6.3l1.2-1.7v1.7zm5.6-3.2c-.4-.2-.8-.4-1.2-.4-.5 0-.9.1-1.2.4-.4.2-.6.6-.8 1-.2.4-.3.9-.3 1.5s.1 1.1.3 1.6c.2.4.5.8.8 1 .4.2.8.4 1.2.4.5 0 .9-.1 1.2-.4.4-.2.6-.6.8-1 .2-.4.3-1 .3-1.6 0-.6-.1-1.1-.3-1.5-.1-.5-.4-.8-.8-1zm0 3.6c-.1.3-.3.5-.5.7-.2.1-.4.2-.7.2-.3 0-.5-.1-.7-.2-.2-.1-.4-.4-.5-.7-.1-.3-.2-.7-.2-1.2 0-.7.1-1.2.4-1.5.3-.3.6-.5 1-.5s.7.2 1 .5c.3.3.4.8.4 1.5-.1.5-.1.9-.2 1.2zm5-3.9h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-1 3.5H16l1.2-1.7v1.7z\" />\n\t</SVG>\n);\n\nexport default notFound;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst list = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z\" />\n\t</SVG>\n);\n\nexport default list;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst category = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\td=\"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default category;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst postAuthor = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\td=\"M10 4.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm2.25 7.5v-1A2.75 2.75 0 0011 8.25H7A2.75 2.75 0 004.25 11v1h1.5v-1c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v1h1.5zM4 20h9v-1.5H4V20zm16-4H4v-1.5h16V16z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default postAuthor;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockMeta = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M8.95 11.25H4v1.5h4.95v4.5H13V18c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75h-2.55v-7.5H13V9c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75H8.95v4.5ZM14.5 15v3c0 .3.2.5.5.5h3c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-3c-.3 0-.5.2-.5.5Zm0-6V6c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5Z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default blockMeta;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst postDate = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.696 13.972c.356-.546.599-.958.728-1.235a1.79 1.79 0 00.203-.783c0-.264-.077-.47-.23-.618-.148-.153-.354-.23-.618-.23-.295 0-.569.07-.82.212a3.413 3.413 0 00-.738.571l-.147-1.188c.289-.234.59-.41.903-.526.313-.117.66-.175 1.041-.175.375 0 .695.08.959.24.264.153.46.362.59.626.135.265.203.556.203.876 0 .362-.08.734-.24 1.115-.154.381-.427.87-.82 1.466l-.756 1.152H14v1.106h-4l1.696-2.609z\" />\n\t\t<Path d=\"M19.5 7h-15v12a.5.5 0 00.5.5h14a.5.5 0 00.5-.5V7zM3 7V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V7z\" />\n\t</SVG>\n);\n\nexport default postDate;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst tag = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z\" />\n\t</SVG>\n);\n\nexport default tag;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst media = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z\" />\n\t</SVG>\n);\n\nexport default media;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { Spinner, Modal } from '@wordpress/components';\n\nexport default function TemplateActionsLoadingScreen() {\n\tconst baseCssClass = 'edit-site-template-actions-loading-screen-modal';\n\treturn (\n\t\t<Modal\n\t\t\tisFullScreen\n\t\t\tisDismissible={ false }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tonRequestClose={ () => {} }\n\t\t\t__experimentalHideHeader\n\t\t\tclassName={ baseCssClass }\n\t\t>\n\t\t\t<div className={ `${ baseCssClass }__content` }>\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { blockMeta, post, archive } from '@wordpress/icons';\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of enitities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( get( entity, path ) ),\n\t} ) );\n};\n\n/**\n * @typedef {Object} EntitiesInfo\n * @property {boolean}  hasEntities         If an entity has available records(posts, terms, etc..).\n * @property {number[]} existingEntitiesIds An array of the existing entities ids.\n */\n\nexport const useExistingTemplates = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t} ),\n\t\t[]\n\t);\n};\n\nexport const useExistingTemplateParts = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t),\n\t\t[]\n\t);\n};\n\nexport const useDefaultTemplateTypes = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplateTypes(),\n\t\t[]\n\t);\n};\n\nconst usePublicPostTypes = () => {\n\tconst postTypes = useSelect(\n\t\t( select ) => select( coreStore ).getPostTypes( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\treturn postTypes?.filter(\n\t\t\t( { viewable, slug } ) =>\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t);\n\t}, [ postTypes ] );\n};\n\nconst usePublicTaxonomies = () => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\treturn taxonomies?.filter(\n\t\t\t( { visibility } ) => visibility?.publicly_queryable\n\t\t);\n\t}, [ taxonomies ] );\n};\n\nfunction usePostTypeNeedsUniqueIdentifier( publicPostTypes ) {\n\tconst postTypeLabels = useMemo( () =>\n\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\taccumulator[ singularName ] =\n\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t}, {} )\n\t);\n\treturn useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\treturn postTypeLabels[ singularName ] > 1 && singularName !== slug;\n\t\t},\n\t\t[ postTypeLabels ]\n\t);\n}\n\nexport function usePostTypeArchiveMenuItems() {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst postTypesWithArchives = useMemo(\n\t\t() => publicPostTypes?.filter( ( postType ) => postType.has_archive ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst existingTemplates = useExistingTemplates();\n\tconst needsUniqueIdentifier = usePostTypeNeedsUniqueIdentifier(\n\t\tpostTypesWithArchives\n\t);\n\treturn useMemo(\n\t\t() =>\n\t\t\tpostTypesWithArchives\n\t\t\t\t?.filter(\n\t\t\t\t\t( postType ) =>\n\t\t\t\t\t\t! ( existingTemplates || [] ).some(\n\t\t\t\t\t\t\t( existingTemplate ) =>\n\t\t\t\t\t\t\t\texistingTemplate.slug ===\n\t\t\t\t\t\t\t\t'archive-' + postType.slug\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( postType ) => {\n\t\t\t\t\tlet title;\n\t\t\t\t\tif ( needsUniqueIdentifier( postType ) ) {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t__( 'Archive: %1$s (%2$s)' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name,\n\t\t\t\t\t\t\tpostType.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Archive: %s' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tslug: 'archive-' + postType.slug,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Displays an archive with the latests posts of type: %s.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon: postType.icon?.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t? postType.icon.slice( 10 )\n\t\t\t\t\t\t\t: archive,\n\t\t\t\t\t\ttemplatePrefix: 'archive',\n\t\t\t\t\t};\n\t\t\t\t} ) || [],\n\t\t[ postTypesWithArchives, existingTemplates, needsUniqueIdentifier ]\n\t);\n}\n\nexport const usePostTypeMenuItems = ( onClickMenuItem ) => {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst needsUniqueIdentifier =\n\t\tusePostTypeNeedsUniqueIdentifier( publicPostTypes );\n\t// `page`is a special case in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( slug !== 'page' ) {\n\t\t\t\t\tsuffix = `single-${ suffix }`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst postTypesInfo = useEntitiesInfo( 'postType', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicPostTypes || [] ).reduce(\n\t\t( accumulator, postType ) => {\n\t\t\tconst { slug, labels, icon } = postType;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier( postType );\n\t\t\tlet menuItemTitle = sprintf(\n\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t__( 'Single item: %s' ),\n\t\t\t\tlabels.singular_name\n\t\t\t);\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = sprintf(\n\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t__( 'Single item: %1$s (%2$s)' ),\n\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\tslug\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Displays a single item: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon: icon?.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t? icon.slice( 10 )\n\t\t\t\t\t\t\t: post,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = postTypesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'postType',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\trecordNamePath: 'title.rendered',\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,title,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'relevance' : 'modified',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\tpostTypesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = `${ templatePrefixes[ slug ] }-${ suggestion.slug }`;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default post types\n\t// and one for the rest.\n\tconst postTypesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, postType ) => {\n\t\t\t\t\tconst { slug } = postType;\n\t\t\t\t\tlet key = 'postTypesMenuItems';\n\t\t\t\t\tif ( slug === 'page' ) {\n\t\t\t\t\t\tkey = 'defaultPostTypesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( postType );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultPostTypesMenuItems: [], postTypesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn postTypesMenuItems;\n};\n\nexport const useTaxonomiesMenuItems = ( onClickMenuItem ) => {\n\tconst publicTaxonomies = usePublicTaxonomies();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// `category` and `post_tag` are special cases in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicTaxonomies?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( ! [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\t\t\tsuffix = `taxonomy-${ suffix }`;\n\t\t\t\t}\n\t\t\t\tif ( slug === 'post_tag' ) {\n\t\t\t\t\tsuffix = `tag`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicTaxonomies ]\n\t);\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst taxonomyLabels = publicTaxonomies?.reduce(\n\t\t( accumulator, { labels } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\taccumulator[ singularName ] =\n\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\tconst needsUniqueIdentifier = ( labels, slug ) => {\n\t\tif ( [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\treturn taxonomyLabels[ singularName ] > 1 && singularName !== slug;\n\t};\n\tconst taxonomiesInfo = useEntitiesInfo( 'taxonomy', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicTaxonomies || [] ).reduce(\n\t\t( accumulator, taxonomy ) => {\n\t\t\tconst { slug, labels } = taxonomy;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier(\n\t\t\t\tlabels,\n\t\t\t\tslug\n\t\t\t);\n\t\t\tlet menuItemTitle = labels.singular_name;\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = sprintf(\n\t\t\t\t\t// translators: %1s: Name of the taxonomy e.g: \"Category\"; %2s: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t__( '%1$s (%2$s)' ),\n\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\tslug\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the taxonomy e.g: \"Product Categories\".\n\t\t\t\t\t\t\t__( 'Displays taxonomy: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ticon: blockMeta,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = taxonomiesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'taxonomy',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'name' : 'count',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\ttaxonomiesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = `${ templatePrefixes[ slug ] }-${ suggestion.slug }`;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default taxonomies\n\t// and one for the rest.\n\tconst taxonomiesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, taxonomy ) => {\n\t\t\t\t\tconst { slug } = taxonomy;\n\t\t\t\t\tlet key = 'taxonomiesMenuItems';\n\t\t\t\t\tif ( [ 'category', 'tag' ].includes( slug ) ) {\n\t\t\t\t\t\tkey = 'defaultTaxonomiesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( taxonomy );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultTaxonomiesMenuItems: [], taxonomiesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn taxonomiesMenuItems;\n};\n\nconst USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX = { user: 'author' };\nconst USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS = { user: { who: 'authors' } };\nexport function useAuthorMenuItem( onClickMenuItem ) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst authorInfo = useEntitiesInfo(\n\t\t'root',\n\t\tUSE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX,\n\t\tUSE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS\n\t);\n\tlet authorMenuItem = defaultTemplateTypes?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( ! authorMenuItem ) {\n\t\tauthorMenuItem = {\n\t\t\tdescription: __(\n\t\t\t\t'Displays latest posts written by a single author.'\n\t\t\t),\n\t\t\tslug: 'author',\n\t\t\ttitle: 'Author',\n\t\t};\n\t}\n\tconst hasGeneralTemplate = !! existingTemplates?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( authorInfo.user?.hasEntities ) {\n\t\tauthorMenuItem = { ...authorMenuItem, templatePrefix: 'author' };\n\t\tauthorMenuItem.onClick = ( template ) => {\n\t\t\tonClickMenuItem( {\n\t\t\t\ttype: 'root',\n\t\t\t\tslug: 'user',\n\t\t\t\tconfig: {\n\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\torderBy: search ? 'name' : 'registered_date',\n\t\t\t\t\t\t\texclude: authorInfo.user.existingEntitiesIds,\n\t\t\t\t\t\t\twho: 'authors',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\tconst templateSlug = `author-${ suggestion.slug }`;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\ttemplatePrefix: 'author',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: __( 'Author' ),\n\t\t\t\t\tsearch_items: __( 'Search Authors' ),\n\t\t\t\t\tnot_found: __( 'No authors found.' ),\n\t\t\t\t\tall_items: __( 'All Authors' ),\n\t\t\t\t},\n\t\t\t\thasGeneralTemplate,\n\t\t\t\ttemplate,\n\t\t\t} );\n\t\t};\n\t}\n\tif ( ! hasGeneralTemplate || authorInfo.user?.hasEntities ) {\n\t\treturn authorMenuItem;\n\t}\n}\n\n/**\n * Helper hook that filters all the existing templates by the given\n * object with the entity's slug as key and the template prefix as value.\n *\n * Example:\n * `existingTemplates` is: [ { slug: 'tag-apple' }, { slug: 'page-about' }, { slug: 'tag' } ]\n * `templatePrefixes` is: { post_tag: 'tag' }\n * It will return: { post_tag: ['apple'] }\n *\n * Note: We append the `-` to the given template prefix in this function for our checks.\n *\n * @param {Record<string,string>} templatePrefixes An object with the entity's slug as key and the template prefix as value.\n * @return {Record<string,string[]>} An object with the entity's slug as key and an array with the existing template slugs as value.\n */\nconst useExistingTemplateSlugs = ( templatePrefixes ) => {\n\tconst existingTemplates = useExistingTemplates();\n\tconst existingSlugs = useMemo( () => {\n\t\treturn Object.entries( templatePrefixes || {} ).reduce(\n\t\t\t( accumulator, [ slug, prefix ] ) => {\n\t\t\t\tconst slugsWithTemplates = ( existingTemplates || [] ).reduce(\n\t\t\t\t\t( _accumulator, existingTemplate ) => {\n\t\t\t\t\t\tconst _prefix = `${ prefix }-`;\n\t\t\t\t\t\tif ( existingTemplate.slug.startsWith( _prefix ) ) {\n\t\t\t\t\t\t\t_accumulator.push(\n\t\t\t\t\t\t\t\texistingTemplate.slug.substring(\n\t\t\t\t\t\t\t\t\t_prefix.length\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tif ( slugsWithTemplates.length ) {\n\t\t\t\t\taccumulator[ slug ] = slugsWithTemplates;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}, [ templatePrefixes, existingTemplates ] );\n\treturn existingSlugs;\n};\n\n/**\n * Helper hook that finds the existing records with an associated template,\n * as they need to be excluded from the template suggestions.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the existing records as value.\n */\nconst useTemplatesToExclude = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = {}\n) => {\n\tconst slugsToExcludePerEntity =\n\t\tuseExistingTemplateSlugs( templatePrefixes );\n\tconst recordsToExcludePerEntity = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.entries( slugsToExcludePerEntity || {} ).reduce(\n\t\t\t\t( accumulator, [ slug, slugsWithTemplates ] ) => {\n\t\t\t\t\tconst entitiesWithTemplates = select(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords( entityName, slug, {\n\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\tslug: slugsWithTemplates,\n\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t} );\n\t\t\t\t\tif ( entitiesWithTemplates?.length ) {\n\t\t\t\t\t\taccumulator[ slug ] = entitiesWithTemplates;\n\t\t\t\t\t}\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ slugsToExcludePerEntity ]\n\t);\n\treturn recordsToExcludePerEntity;\n};\n\n/**\n * Helper hook that returns information about an entity having\n * records that we can create a specific template for.\n *\n * For example we can search for `terms` in `taxonomy` entity or\n * `posts` in `postType` entity.\n *\n * First we need to find the existing records with an associated template,\n * to query afterwards for any remaining record, by excluding them.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the EntitiesInfo as value.\n */\nconst useEntitiesInfo = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = {}\n) => {\n\tconst recordsToExcludePerEntity = useTemplatesToExclude(\n\t\tentityName,\n\t\ttemplatePrefixes,\n\t\tadditionalQueryParameters\n\t);\n\tconst entitiesInfo = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t\t( accumulator, slug ) => {\n\t\t\t\t\tconst existingEntitiesIds =\n\t\t\t\t\t\trecordsToExcludePerEntity?.[ slug ]?.map(\n\t\t\t\t\t\t\t( { id } ) => id\n\t\t\t\t\t\t) || [];\n\t\t\t\t\taccumulator[ slug ] = {\n\t\t\t\t\t\thasEntities: !! select( coreStore ).getEntityRecords(\n\t\t\t\t\t\t\tentityName,\n\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tper_page: 1,\n\t\t\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\t\t\texclude: existingEntitiesIds,\n\t\t\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)?.length,\n\t\t\t\t\t\texistingEntitiesIds,\n\t\t\t\t\t};\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ templatePrefixes, recordsToExcludePerEntity ]\n\t);\n\treturn entitiesInfo;\n};\n","/**\n * WordPress dependencies\n */\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tModal,\n\tSearchControl,\n\tTextHighlight,\n\t__experimentalText as Text,\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n} from '@wordpress/components';\nimport { useDebounce } from '@wordpress/compose';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\nimport { mapToIHasNameAndId } from './utils';\n\nconst EMPTY_ARRAY = [];\n\nfunction SuggestionListItem( {\n\tsuggestion,\n\tsearch,\n\tonSelect,\n\tentityForSuggestions,\n\tcomposite,\n} ) {\n\tconst baseCssClass =\n\t\t'edit-site-custom-template-modal__suggestions_list__list-item';\n\treturn (\n\t\t<CompositeItem\n\t\t\trole=\"option\"\n\t\t\tas={ Button }\n\t\t\t{ ...composite }\n\t\t\tclassName={ baseCssClass }\n\t\t\tonClick={ () =>\n\t\t\t\tonSelect(\n\t\t\t\t\tentityForSuggestions.config.getSpecificTemplate(\n\t\t\t\t\t\tsuggestion\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t>\n\t\t\t<span className={ `${ baseCssClass }__title` }>\n\t\t\t\t<TextHighlight\n\t\t\t\t\ttext={ decodeEntities( suggestion.name ) }\n\t\t\t\t\thighlight={ search }\n\t\t\t\t/>\n\t\t\t</span>\n\t\t\t{ suggestion.link && (\n\t\t\t\t<span className={ `${ baseCssClass }__info` }>\n\t\t\t\t\t{ suggestion.link }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</CompositeItem>\n\t);\n}\n\nfunction useDebouncedInput() {\n\tconst [ input, setInput ] = useState( '' );\n\tconst [ debounced, setter ] = useState( '' );\n\tconst setDebounced = useDebounce( setter, 250 );\n\tuseEffect( () => {\n\t\tif ( debounced !== input ) {\n\t\t\tsetDebounced( input );\n\t\t}\n\t}, [ debounced, input ] );\n\treturn [ input, setInput, debounced ];\n}\n\nfunction useSearchSuggestions( entityForSuggestions, search ) {\n\tconst { config } = entityForSuggestions;\n\tconst query = useMemo(\n\t\t() => ( {\n\t\t\torder: 'asc',\n\t\t\tcontext: 'view',\n\t\t\tsearch,\n\t\t\tper_page: search ? 20 : 10,\n\t\t\t...config.queryArgs( search ),\n\t\t} ),\n\t\t[ search, config ]\n\t);\n\tconst { records: searchResults, hasResolved: searchHasResolved } =\n\t\tuseEntityRecords(\n\t\t\tentityForSuggestions.type,\n\t\t\tentityForSuggestions.slug,\n\t\t\tquery\n\t\t);\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\n\tuseEffect( () => {\n\t\tif ( ! searchHasResolved ) return;\n\t\tlet newSuggestions = EMPTY_ARRAY;\n\t\tif ( searchResults?.length ) {\n\t\t\tnewSuggestions = searchResults;\n\t\t\tif ( config.recordNamePath ) {\n\t\t\t\tnewSuggestions = mapToIHasNameAndId(\n\t\t\t\t\tnewSuggestions,\n\t\t\t\t\tconfig.recordNamePath\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Update suggestions only when the query has resolved, so as to keep\n\t\t// the previous results in the UI.\n\t\tsetSuggestions( newSuggestions );\n\t}, [ searchResults, searchHasResolved ] );\n\treturn suggestions;\n}\n\nfunction SuggestionList( { entityForSuggestions, onSelect } ) {\n\tconst composite = useCompositeState( { orientation: 'vertical' } );\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst suggestions = useSearchSuggestions(\n\t\tentityForSuggestions,\n\t\tdebouncedSearch\n\t);\n\tconst { labels } = entityForSuggestions;\n\tconst [ showSearchControl, setShowSearchControl ] = useState( false );\n\tif ( ! showSearchControl && suggestions?.length > 9 ) {\n\t\tsetShowSearchControl( true );\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ showSearchControl && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tonChange={ setSearch }\n\t\t\t\t\tvalue={ search }\n\t\t\t\t\tlabel={ labels.search_items }\n\t\t\t\t\tplaceholder={ labels.search_items }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! suggestions?.length && (\n\t\t\t\t<Composite\n\t\t\t\t\t{ ...composite }\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__suggestions_list\"\n\t\t\t\t\taria-label={ __( 'Suggestions list' ) }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion ) => (\n\t\t\t\t\t\t<SuggestionListItem\n\t\t\t\t\t\t\tkey={ suggestion.slug }\n\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\tsearch={ debouncedSearch }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</Composite>\n\t\t\t) }\n\t\t\t{ debouncedSearch && ! suggestions?.length && (\n\t\t\t\t<p className=\"edit-site-custom-template-modal__no-results\">\n\t\t\t\t\t{ labels.not_found }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction AddCustomTemplateModal( {\n\tonClose,\n\tonSelect,\n\tentityForSuggestions,\n\tisCreatingTemplate,\n} ) {\n\tconst [ showSearchEntities, setShowSearchEntities ] = useState(\n\t\tentityForSuggestions.hasGeneralTemplate\n\t);\n\tconst baseCssClass = 'edit-site-custom-template-modal';\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ sprintf(\n\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t__( 'Add template: %s' ),\n\t\t\t\tentityForSuggestions.labels.singular_name\n\t\t\t) }\n\t\t\tclassName={ baseCssClass }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t>\n\t\t\t{ isCreatingTemplate && <TemplateActionsLoadingScreen /> }\n\t\t\t{ ! showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select whether to create a single template for all items or a specific one.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tclassName={ `${ baseCssClass }__contents` }\n\t\t\t\t\t\tgap=\"4\"\n\t\t\t\t\t\talign=\"initial\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} = entityForSuggestions.template;\n\t\t\t\t\t\t\t\tonSelect( {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text as=\"span\" weight={ 600 }>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.all_items }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text as=\"span\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For all items' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetShowSearchEntities( true );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text as=\"span\" weight={ 600 }>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.singular_name }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text as=\"span\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For a specific item' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'This template will be used only for the specific item chosen.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<SuggestionList\n\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Modal>\n\t);\n}\n\nexport default AddCustomTemplateModal;\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tModal,\n\tTextControl,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\n\nfunction AddCustomGenericTemplateModal( {\n\tonClose,\n\tcreateTemplate,\n\tisCreatingTemplate,\n} ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst defaultTitle = __( 'Custom Template' );\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\tasync function onCreateTemplate( event ) {\n\t\tevent.preventDefault();\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsBusy( true );\n\t\ttry {\n\t\t\tawait createTemplate(\n\t\t\t\t{\n\t\t\t\t\tslug:\n\t\t\t\t\t\t'wp-custom-template-' +\n\t\t\t\t\t\tkebabCase( title || defaultTitle ),\n\t\t\t\t\ttitle: title || defaultTitle,\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsBusy( false );\n\t\t}\n\t}\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create custom template' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ () => {\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t\toverlayClassName=\"edit-site-custom-generic-template__modal\"\n\t\t>\n\t\t\t{ isCreatingTemplate && <TemplateActionsLoadingScreen /> }\n\t\t\t<form onSubmit={ onCreateTemplate }>\n\t\t\t\t<Flex align=\"flex-start\" gap={ 8 }>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\tplaceholder={ defaultTitle }\n\t\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\".'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\n\t\t\t\t<Flex\n\t\t\t\t\tclassName=\"edit-site-custom-generic-template__modal-actions\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nexport default AddCustomGenericTemplateModal;\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tNavigableMenu,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tarchive,\n\tblockMeta,\n\tcategory,\n\thome,\n\tlist,\n\tmedia,\n\tnotFound,\n\tpage,\n\tplus,\n\tpost,\n\tpostAuthor,\n\tpostDate,\n\tsearch,\n\ttag,\n\tlayout as customGenericTemplateIcon,\n} from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AddCustomTemplateModal from './add-custom-template-modal';\nimport {\n\tuseExistingTemplates,\n\tuseDefaultTemplateTypes,\n\tuseTaxonomiesMenuItems,\n\tusePostTypeMenuItems,\n\tuseAuthorMenuItem,\n\tusePostTypeArchiveMenuItems,\n} from './utils';\nimport AddCustomGenericTemplateModal from './add-custom-generic-template-modal';\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\nimport { useHistory } from '../routes';\nimport { store as editSiteStore } from '../../store';\n\nconst DEFAULT_TEMPLATE_SLUGS = [\n\t'front-page',\n\t'single',\n\t'page',\n\t'index',\n\t'archive',\n\t'author',\n\t'category',\n\t'date',\n\t'tag',\n\t'taxonomy',\n\t'search',\n\t'404',\n];\n\nconst TEMPLATE_ICONS = {\n\t'front-page': home,\n\tsingle: post,\n\tpage,\n\tarchive,\n\tsearch,\n\t404: notFound,\n\tindex: list,\n\tcategory,\n\tauthor: postAuthor,\n\ttaxonomy: blockMeta,\n\tdate: postDate,\n\ttag,\n\tattachment: media,\n};\n\nexport default function NewTemplate( {\n\tpostType,\n\ttoggleProps,\n\tshowIcon = true,\n} ) {\n\tconst [ showCustomTemplateModal, setShowCustomTemplateModal ] =\n\t\tuseState( false );\n\tconst [\n\t\tshowCustomGenericTemplateModal,\n\t\tsetShowCustomGenericTemplateModal,\n\t] = useState( false );\n\tconst [ entityForSuggestions, setEntityForSuggestions ] = useState( {} );\n\tconst [ isCreatingTemplate, setIsCreatingTemplate ] = useState( false );\n\n\tconst history = useHistory();\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { setTemplate, __unstableSetCanvasMode } =\n\t\tuseDispatch( editSiteStore );\n\n\tasync function createTemplate( template, isWPSuggestion = true ) {\n\t\tif ( isCreatingTemplate ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsCreatingTemplate( true );\n\t\ttry {\n\t\t\tconst { title, description, slug, templatePrefix } = template;\n\t\t\tlet templateContent = template.content;\n\t\t\t// Try to find fallback content from existing templates.\n\t\t\tif ( ! templateContent ) {\n\t\t\t\tconst fallbackTemplate = await apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( '/wp/v2/templates/lookup', {\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tis_custom: ! isWPSuggestion,\n\t\t\t\t\t\ttemplate_prefix: templatePrefix,\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\t\t\t\ttemplateContent = fallbackTemplate.content.raw;\n\t\t\t}\n\t\t\tconst newTemplate = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\t{\n\t\t\t\t\tdescription,\n\t\t\t\t\t// Slugs need to be strings, so this is for template `404`\n\t\t\t\t\tslug: slug.toString(),\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: templateContent,\n\t\t\t\t\t// This adds a post meta field in template that is part of `is_custom` value calculation.\n\t\t\t\t\tis_wp_suggestion: isWPSuggestion,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// Set template before navigating away to avoid initial stale value.\n\t\t\tsetTemplate( newTemplate.id, newTemplate.slug );\n\n\t\t\t// Switch to edit mode.\n\t\t\t__unstableSetCanvasMode( 'edit' );\n\n\t\t\t// Navigate to the created template editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: newTemplate.id,\n\t\t\t\tpostType: newTemplate.type,\n\t\t\t} );\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\ttitle\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the template.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} finally {\n\t\t\tsetIsCreatingTemplate( false );\n\t\t}\n\t}\n\n\tconst missingTemplates = useMissingTemplates(\n\t\tsetEntityForSuggestions,\n\t\tsetShowCustomTemplateModal\n\t);\n\tif ( ! missingTemplates.length ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\tclassName=\"edit-site-new-template-dropdown\"\n\t\t\t\ticon={ showIcon ? plus : null }\n\t\t\t\ttext={ showIcon ? null : postType.labels.add_new }\n\t\t\t\tlabel={ postType.labels.add_new_item }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tnoArrow: false,\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ toggleProps }\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isCreatingTemplate && (\n\t\t\t\t\t\t\t<TemplateActionsLoadingScreen />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<NavigableMenu className=\"edit-site-new-template-dropdown__popover\">\n\t\t\t\t\t\t\t<MenuGroup label={ postType.labels.add_new_item }>\n\t\t\t\t\t\t\t\t{ missingTemplates.map( ( template ) => {\n\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\t\tonClick,\n\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t} = template;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\ticon ||\n\t\t\t\t\t\t\t\t\t\t\t\tTEMPLATE_ICONS[ slug ] ||\n\t\t\t\t\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tinfo={ description }\n\t\t\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\tonClick\n\t\t\t\t\t\t\t\t\t\t\t\t\t? onClick( template )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: createTemplate( template )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ customGenericTemplateIcon }\n\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t\t'Custom templates can be applied to any post or page.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tkey=\"custom-template\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\tsetShowCustomGenericTemplateModal(\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Custom template' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t\t{ showCustomTemplateModal && (\n\t\t\t\t<AddCustomTemplateModal\n\t\t\t\t\tonClose={ () => setShowCustomTemplateModal( false ) }\n\t\t\t\t\tonSelect={ createTemplate }\n\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\tisCreatingTemplate={ isCreatingTemplate }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showCustomGenericTemplateModal && (\n\t\t\t\t<AddCustomGenericTemplateModal\n\t\t\t\t\tonClose={ () => setShowCustomGenericTemplateModal( false ) }\n\t\t\t\t\tcreateTemplate={ createTemplate }\n\t\t\t\t\tisCreatingTemplate={ isCreatingTemplate }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction useMissingTemplates(\n\tsetEntityForSuggestions,\n\tsetShowCustomTemplateModal\n) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst missingDefaultTemplates = ( defaultTemplateTypes || [] ).filter(\n\t\t( template ) =>\n\t\t\tDEFAULT_TEMPLATE_SLUGS.includes( template.slug ) &&\n\t\t\t! existingTemplateSlugs.includes( template.slug )\n\t);\n\tconst onClickMenuItem = ( _entityForSuggestions ) => {\n\t\tsetShowCustomTemplateModal( true );\n\t\tsetEntityForSuggestions( _entityForSuggestions );\n\t};\n\t// We need to replace existing default template types with\n\t// the create specific template functionality. The original\n\t// info (title, description, etc.) is preserved in the\n\t// used hooks.\n\tconst enhancedMissingDefaultTemplateTypes = [ ...missingDefaultTemplates ];\n\tconst { defaultTaxonomiesMenuItems, taxonomiesMenuItems } =\n\t\tuseTaxonomiesMenuItems( onClickMenuItem );\n\tconst { defaultPostTypesMenuItems, postTypesMenuItems } =\n\t\tusePostTypeMenuItems( onClickMenuItem );\n\n\tconst authorMenuItem = useAuthorMenuItem( onClickMenuItem );\n\t[\n\t\t...defaultTaxonomiesMenuItems,\n\t\t...defaultPostTypesMenuItems,\n\t\tauthorMenuItem,\n\t].forEach( ( menuItem ) => {\n\t\tif ( ! menuItem ) {\n\t\t\treturn;\n\t\t}\n\t\tconst matchIndex = enhancedMissingDefaultTemplateTypes.findIndex(\n\t\t\t( template ) => template.slug === menuItem.slug\n\t\t);\n\t\t// Some default template types might have been filtered above from\n\t\t// `missingDefaultTemplates` because they only check for the general\n\t\t// template. So here we either replace or append the item, augmented\n\t\t// with the check if it has available specific item to create a\n\t\t// template for.\n\t\tif ( matchIndex > -1 ) {\n\t\t\tenhancedMissingDefaultTemplateTypes[ matchIndex ] = menuItem;\n\t\t} else {\n\t\t\tenhancedMissingDefaultTemplateTypes.push( menuItem );\n\t\t}\n\t} );\n\t// Update the sort order to match the DEFAULT_TEMPLATE_SLUGS order.\n\tenhancedMissingDefaultTemplateTypes?.sort( ( template1, template2 ) => {\n\t\treturn (\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template1.slug ) -\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template2.slug )\n\t\t);\n\t} );\n\tconst missingTemplates = [\n\t\t...enhancedMissingDefaultTemplateTypes,\n\t\t...usePostTypeArchiveMenuItems(),\n\t\t...postTypesMenuItems,\n\t\t...taxonomiesMenuItems,\n\t];\n\treturn missingTemplates;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tIcon,\n\tBaseControl,\n\tTextControl,\n\tFlex,\n\tFlexItem,\n\tFlexBlock,\n\tButton,\n\tModal,\n\t__experimentalRadioGroup as RadioGroup,\n\t__experimentalRadio as Radio,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as editorStore } from '@wordpress/editor';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_PART_AREA_GENERAL } from '../../store/constants';\n\nexport default function CreateTemplatePartModal( { closeModal, onCreate } ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst [ area, setArea ] = useState( TEMPLATE_PART_AREA_GENERAL );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst instanceId = useInstanceId( CreateTemplatePartModal );\n\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create a template part' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ closeModal }\n\t\t\toverlayClassName=\"edit-site-create-template-part-modal\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ async ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( ! title ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetIsSubmitting( true );\n\t\t\t\t\tawait onCreate( { title, area } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<BaseControl\n\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-base-control\"\n\t\t\t\t>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio-group\"\n\t\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\t\tonChange={ setArea }\n\t\t\t\t\t\tchecked={ area }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ templatePartAreas.map(\n\t\t\t\t\t\t\t( { icon, label, area: value, description } ) => (\n\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\tkey={ label }\n\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Flex align=\"start\" justify=\"start\">\n\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexBlock className=\"edit-site-create-template-part-modal__option-label\">\n\t\t\t\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t\t\t\t\t<div>{ description }</div>\n\t\t\t\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"edit-site-create-template-part-modal__checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t{ area === value && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ check } />\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</BaseControl>\n\t\t\t\t<Flex\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__modal-actions\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={ ! title }\n\t\t\t\t\t\t\tisBusy={ isSubmitting }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { plus } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from '../routes';\nimport { store as editSiteStore } from '../../store';\nimport CreateTemplatePartModal from '../create-template-part-modal';\nimport { useExistingTemplateParts } from './utils';\n\nexport default function NewTemplatePart( {\n\tpostType,\n\tshowIcon = true,\n\ttoggleProps,\n} ) {\n\tconst history = useHistory();\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { __unstableSetCanvasMode } = useDispatch( editSiteStore );\n\tconst existingTemplateParts = useExistingTemplateParts();\n\n\tasync function createTemplatePart( { title, area } ) {\n\t\tif ( ! title ) {\n\t\t\tcreateErrorNotice( __( 'Title is not defined.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tconst uniqueTitle = () => {\n\t\t\tconst lowercaseTitle = title.toLowerCase();\n\t\t\tconst existingTitles = existingTemplateParts.map(\n\t\t\t\t( templatePart ) => templatePart.title.rendered.toLowerCase()\n\t\t\t);\n\n\t\t\tif ( ! existingTitles.includes( lowercaseTitle ) ) {\n\t\t\t\treturn title;\n\t\t\t}\n\n\t\t\tlet suffix = 2;\n\t\t\twhile (\n\t\t\t\texistingTitles.includes( `${ lowercaseTitle } ${ suffix }` )\n\t\t\t) {\n\t\t\t\tsuffix++;\n\t\t\t}\n\n\t\t\treturn `${ title } ${ suffix }`;\n\t\t};\n\n\t\ttry {\n\t\t\t// Currently template parts only allow latin chars.\n\t\t\t// Fallback slug will receive suffix by default.\n\t\t\tconst cleanSlug =\n\t\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) ||\n\t\t\t\t'wp-custom-part';\n\n\t\t\tconst templatePart = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t{\n\t\t\t\t\tslug: cleanSlug,\n\t\t\t\t\ttitle: uniqueTitle(),\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tarea,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\tsetIsModalOpen( false );\n\n\t\t\t// Switch to edit mode.\n\t\t\t__unstableSetCanvasMode( 'edit' );\n\n\t\t\t// Navigate to the created template part editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: templatePart.id,\n\t\t\t\tpostType: templatePart.type,\n\t\t\t} );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while creating the template part.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\n\t\t\tsetIsModalOpen( false );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\t{ ...toggleProps }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t} }\n\t\t\t\ticon={ showIcon ? plus : null }\n\t\t\t\tlabel={ postType.labels.add_new }\n\t\t\t>\n\t\t\t\t{ showIcon ? null : postType.labels.add_new }\n\t\t\t</Button>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t\tonCreate={ createTemplatePart }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport NewTemplate from './new-template';\nimport NewTemplatePart from './new-template-part';\n\nexport default function AddNewTemplate( {\n\ttemplateType = 'wp_template',\n\t...props\n} ) {\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\tif ( templateType === 'wp_template' ) {\n\t\treturn <NewTemplate { ...props } postType={ postType } />;\n\t} else if ( templateType === 'wp_template_part' ) {\n\t\treturn <NewTemplatePart { ...props } postType={ postType } />;\n\t}\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreen from '../sidebar-navigation-screen';\nimport { useLink } from '../routes/link';\nimport SidebarNavigationItem from '../sidebar-navigation-item';\nimport { useLocation } from '../routes';\nimport { store as editSiteStore } from '../../store';\nimport AddNewTemplate from '../add-new-template';\n\nfunction omit( object, keys ) {\n\treturn Object.fromEntries(\n\t\tObject.entries( object ).filter( ( [ key ] ) => ! keys.includes( key ) )\n\t);\n}\n\nconst Item = ( { item } ) => {\n\tconst linkInfo = useLink( item.params );\n\tconst props = item.params\n\t\t? { ...omit( item, 'params' ), ...linkInfo }\n\t\t: item;\n\treturn <SidebarNavigationItem { ...props } />;\n};\n\nconst config = {\n\twp_template: {\n\t\tpath: '/templates',\n\t\tlabels: {\n\t\t\ttitle: __( 'Templates' ),\n\t\t\tloading: __( 'Loading templates' ),\n\t\t\tnotFound: __( 'No templates found' ),\n\t\t\tmanage: __( 'Manage all templates' ),\n\t\t},\n\t},\n\twp_template_part: {\n\t\tpath: '/template-parts',\n\t\tlabels: {\n\t\t\ttitle: __( 'Template parts' ),\n\t\t\tloading: __( 'Loading template parts' ),\n\t\t\tnotFound: __( 'No template parts found' ),\n\t\t\tmanage: __( 'Manage all template parts' ),\n\t\t},\n\t},\n};\n\nexport default function SidebarNavigationScreenTemplates( {\n\tpostType = 'wp_template',\n} ) {\n\tconst { params } = useLocation();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\n\t// Ideally the URL params would be enough.\n\t// Loading the editor should ideally redirect to the home page\n\t// instead of fetching the edited entity here.\n\tconst { editedPostId, editedPostType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType, getEditedPostId } = select( editSiteStore );\n\t\treturn {\n\t\t\teditedPostId: getEditedPostId(),\n\t\t\teditedPostType: getEditedPostType(),\n\t\t};\n\t}, [] );\n\n\tconst { records: templates, isResolving: isLoading } = useEntityRecords(\n\t\t'postType',\n\t\tpostType,\n\t\t{\n\t\t\tper_page: -1,\n\t\t}\n\t);\n\n\tlet items = [];\n\tif ( isLoading ) {\n\t\titems = [\n\t\t\t{\n\t\t\t\tchildren: config[ postType ].labels.loading,\n\t\t\t},\n\t\t];\n\t} else if ( ! templates && ! isLoading ) {\n\t\titems = [\n\t\t\t{\n\t\t\t\tchildren: config[ postType ].labels.notFound,\n\t\t\t},\n\t\t];\n\t} else {\n\t\titems = templates?.map( ( template ) => ( {\n\t\t\tparams: {\n\t\t\t\tpostType,\n\t\t\t\tpostId: template.id,\n\t\t\t},\n\t\t\tchildren: decodeEntities(\n\t\t\t\ttemplate.title?.rendered || template.slug\n\t\t\t),\n\t\t\t'aria-current':\n\t\t\t\t( params.postType === postType &&\n\t\t\t\t\tparams.postId === template.id ) ||\n\t\t\t\t// This is a special case for the home page.\n\t\t\t\t( editedPostId === template.id &&\n\t\t\t\t\teditedPostType === postType &&\n\t\t\t\t\t!! params.postId )\n\t\t\t\t\t? 'page'\n\t\t\t\t\t: undefined,\n\t\t} ) );\n\t}\n\n\treturn (\n\t\t<SidebarNavigationScreen\n\t\t\tpath={ config[ postType ].path }\n\t\t\tparentTitle={ __( 'Design' ) }\n\t\t\ttitle={\n\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t<div style={ { flexShrink: 0 } }>\n\t\t\t\t\t\t{ config[ postType ].labels.title }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ ! isMobileViewport && (\n\t\t\t\t\t\t<AddNewTemplate\n\t\t\t\t\t\t\ttemplateType={ postType }\n\t\t\t\t\t\t\ttoggleProps={ {\n\t\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t\t'edit-site-sidebar-navigation-screen-templates__add-button',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t}\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t{ items.map( ( item, index ) => (\n\t\t\t\t\t\t\t<Item item={ item } key={ index } />\n\t\t\t\t\t\t) ) }\n\n\t\t\t\t\t\t<SidebarNavigationItem\n\t\t\t\t\t\t\tclassName=\"edit-site-sidebar-navigation-screen-templates__see-all\"\n\t\t\t\t\t\t\t{ ...useLink( {\n\t\t\t\t\t\t\t\tpostType,\n\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\taria-current={\n\t\t\t\t\t\t\t\tparams.postType === postType && ! params.postId\n\t\t\t\t\t\t\t\t\t? 'page'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchildren={ config[ postType ].labels.manage }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ItemGroup>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { memo } from '@wordpress/element';\nimport { __experimentalNavigatorProvider as NavigatorProvider } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport SidebarNavigationScreenMain from '../sidebar-navigation-screen-main';\nimport SidebarNavigationScreenTemplates from '../sidebar-navigation-screen-templates';\nimport useSyncSidebarPathWithURL from '../sync-state-with-url/use-sync-sidebar-path-with-url';\n\nfunction SidebarScreens() {\n\tuseSyncSidebarPathWithURL();\n\n\treturn (\n\t\t<>\n\t\t\t<SidebarNavigationScreenMain />\n\t\t\t<SidebarNavigationScreenTemplates postType=\"wp_template\" />\n\t\t\t<SidebarNavigationScreenTemplates postType=\"wp_template_part\" />\n\t\t</>\n\t);\n}\n\nfunction Sidebar() {\n\treturn (\n\t\t<NavigatorProvider\n\t\t\tclassName=\"edit-site-sidebar__content\"\n\t\t\tinitialPath=\"/\"\n\t\t>\n\t\t\t<SidebarScreens />\n\t\t</NavigatorProvider>\n\t);\n}\n\nexport default memo( Sidebar );\n","/**\n * WordPress dependencies\n */\nimport { __experimentalUseNavigator as useNavigator } from '@wordpress/components';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useLocation, useHistory } from '../routes';\n\nexport default function useSyncSidebarPathWithURL() {\n\tconst history = useHistory();\n\tconst { params } = useLocation();\n\tconst { sidebar = '/' } = params;\n\tconst { location, goTo } = useNavigator();\n\tconst currentSidebar = useRef( sidebar );\n\tconst currentNavigatorLocation = useRef( location.path );\n\tuseEffect( () => {\n\t\tcurrentSidebar.current = sidebar;\n\t\tif ( sidebar !== currentNavigatorLocation.current ) {\n\t\t\tgoTo( sidebar );\n\t\t}\n\t}, [ sidebar ] );\n\tuseEffect( () => {\n\t\tcurrentNavigatorLocation.current = location.path;\n\t\tif ( location.path !== currentSidebar.current ) {\n\t\t\thistory.push( {\n\t\t\t\t...params,\n\t\t\t\tsidebar: location.path,\n\t\t\t} );\n\t\t}\n\t}, [ location.path, history ] );\n\n\treturn sidebar;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerLeft = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerRight = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerRight;\n","/**\n * WordPress dependencies\n */\nimport {\n\tComplementaryArea,\n\tComplementaryAreaMoreMenuItem,\n} from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function DefaultSidebar( {\n\tclassName,\n\tidentifier,\n\ttitle,\n\ticon,\n\tchildren,\n\tcloseLabel,\n\theader,\n\theaderClassName,\n\tpanelClassName,\n} ) {\n\tconst showIconLabels = useSelect(\n\t\t( select ) => select( editSiteStore ).getSettings().showIconLabels,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ComplementaryArea\n\t\t\t\tclassName={ className }\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon }\n\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\theader={ header }\n\t\t\t\theaderClassName={ headerClassName }\n\t\t\t\tpanelClassName={ panelClassName }\n\t\t\t\tshowIconLabels={ showIconLabels }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</ComplementaryArea>\n\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ticon={ icon }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const styles = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z\" />\n\t</SVG>\n);\n\nexport default styles;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst seen = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z\" />\n\t</SVG>\n);\n\nexport default seen;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport function IconWithCurrentColor( { className, ...props } ) {\n\treturn (\n\t\t<Icon\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'edit-site-global-styles-icon-with-current-color'\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorButton as NavigatorButton,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalItem as Item,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\n\nfunction GenericNavigationButton( { icon, children, ...props } ) {\n\treturn (\n\t\t<Item { ...props }>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<IconWithCurrentColor icon={ icon } size={ 24 } />\n\t\t\t\t\t<FlexItem>{ children }</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n\nfunction NavigationButtonAsItem( props ) {\n\treturn <NavigatorButton as={ GenericNavigationButton } { ...props } />;\n}\n\nfunction NavigationBackButtonAsItem( props ) {\n\treturn <NavigatorBackButton as={ GenericNavigationButton } { ...props } />;\n}\n\nexport { NavigationButtonAsItem, NavigationBackButtonAsItem };\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst typography = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z\" />\n\t</SVG>\n);\n\nexport default typography;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst color = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z\" />\n\t</SVG>\n);\n\nexport default color;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst border = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"m6.6 15.6-1.2.8c.6.9 1.3 1.6 2.2 2.2l.8-1.2c-.7-.5-1.3-1.1-1.8-1.8zM5.5 12c0-.4 0-.9.1-1.3l-1.5-.3c0 .5-.1 1.1-.1 1.6s.1 1.1.2 1.6l1.5-.3c-.2-.4-.2-.9-.2-1.3zm11.9-3.6 1.2-.8c-.6-.9-1.3-1.6-2.2-2.2l-.8 1.2c.7.5 1.3 1.1 1.8 1.8zM5.3 7.6l1.2.8c.5-.7 1.1-1.3 1.8-1.8l-.7-1.3c-.9.6-1.7 1.4-2.3 2.3zm14.5 2.8-1.5.3c.1.4.1.8.1 1.3s0 .9-.1 1.3l1.5.3c.1-.5.2-1 .2-1.6s-.1-1.1-.2-1.6zM12 18.5c-.4 0-.9 0-1.3-.1l-.3 1.5c.5.1 1 .2 1.6.2s1.1-.1 1.6-.2l-.3-1.5c-.4.1-.9.1-1.3.1zm3.6-1.1.8 1.2c.9-.6 1.6-1.3 2.2-2.2l-1.2-.8c-.5.7-1.1 1.3-1.8 1.8zM10.4 4.2l.3 1.5c.4-.1.8-.1 1.3-.1s.9 0 1.3.1l.3-1.5c-.5-.1-1.1-.2-1.6-.2s-1.1.1-1.6.2z\" />\n\t</SVG>\n);\n\nexport default border;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalBorderRadiusControl as BorderRadiusControl } from '@wordpress/block-editor';\nimport {\n\t__experimentalBorderBoxControl as BorderBoxControl,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n\t__experimentalIsDefinedBorder as isDefinedBorder,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseColorsPerOrigin,\n\tuseSetting,\n\tuseStyle,\n} from './hooks';\n\nexport function useHasBorderPanel( name ) {\n\tconst controls = [\n\t\tuseHasBorderColorControl( name ),\n\t\tuseHasBorderRadiusControl( name ),\n\t\tuseHasBorderStyleControl( name ),\n\t\tuseHasBorderWidthControl( name ),\n\t];\n\n\treturn controls.some( Boolean );\n}\n\nfunction useHasBorderColorControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.color', name )[ 0 ] &&\n\t\tsupports.includes( 'borderColor' )\n\t);\n}\n\nfunction useHasBorderRadiusControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.radius', name )[ 0 ] &&\n\t\tsupports.includes( 'borderRadius' )\n\t);\n}\n\nfunction useHasBorderStyleControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.style', name )[ 0 ] &&\n\t\tsupports.includes( 'borderStyle' )\n\t);\n}\n\nfunction useHasBorderWidthControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.width', name )[ 0 ] &&\n\t\tsupports.includes( 'borderWidth' )\n\t);\n}\n\nfunction applyFallbackStyle( border ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( ! border.style && ( border.color || border.width ) ) {\n\t\treturn { ...border, style: 'solid' };\n\t}\n\n\treturn border;\n}\n\nfunction applyAllFallbackStyles( border ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( hasSplitBorders( border ) ) {\n\t\treturn {\n\t\t\ttop: applyFallbackStyle( border.top ),\n\t\t\tright: applyFallbackStyle( border.right ),\n\t\t\tbottom: applyFallbackStyle( border.bottom ),\n\t\t\tleft: applyFallbackStyle( border.left ),\n\t\t};\n\t}\n\n\treturn applyFallbackStyle( border );\n}\n\nexport default function BorderPanel( { name, variationPath = '' } ) {\n\t// To better reflect if the user has customized a value we need to\n\t// ensure the style value being checked is from the `user` origin.\n\tconst [ userBorderStyles ] = useStyle(\n\t\t`${ variationPath }border`,\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ border, setBorder ] = useStyle( `${ variationPath }border`, name );\n\tconst colors = useColorsPerOrigin( name );\n\n\tconst showBorderColor = useHasBorderColorControl( name );\n\tconst showBorderStyle = useHasBorderStyleControl( name );\n\tconst showBorderWidth = useHasBorderWidthControl( name );\n\n\t// Border radius.\n\tconst showBorderRadius = useHasBorderRadiusControl( name );\n\tconst [ borderRadiusValues, setBorderRadius ] = useStyle(\n\t\t`${ variationPath }border.radius`,\n\t\tname\n\t);\n\tconst hasBorderRadius = () => {\n\t\tconst borderValues = userBorderStyles?.radius;\n\t\tif ( typeof borderValues === 'object' ) {\n\t\t\treturn Object.entries( borderValues ).some( Boolean );\n\t\t}\n\t\treturn !! borderValues;\n\t};\n\n\tconst resetBorder = () => {\n\t\tif ( hasBorderRadius() ) {\n\t\t\treturn setBorder( { radius: userBorderStyles.radius } );\n\t\t}\n\n\t\tsetBorder( undefined );\n\t};\n\n\tconst resetAll = useCallback( () => setBorder( undefined ), [ setBorder ] );\n\tconst onBorderChange = useCallback(\n\t\t( newBorder ) => {\n\t\t\t// Ensure we have a visible border style when a border width or\n\t\t\t// color is being selected.\n\t\t\tconst newBorderWithStyle = applyAllFallbackStyles( newBorder );\n\n\t\t\t// As we can't conditionally generate styles based on if other\n\t\t\t// style properties have been set we need to force split border\n\t\t\t// definitions for user set border styles. Border radius is derived\n\t\t\t// from the same property i.e. `border.radius` if it is a string\n\t\t\t// that is used. The longhand border radii styles are only generated\n\t\t\t// if that property is an object.\n\t\t\t//\n\t\t\t// For borders (color, style, and width) those are all properties on\n\t\t\t// the `border` style property. This means if the theme.json defined\n\t\t\t// split borders and the user condenses them into a flat border or\n\t\t\t// vice-versa we'd get both sets of styles which would conflict.\n\t\t\tconst updatedBorder = ! hasSplitBorders( newBorderWithStyle )\n\t\t\t\t? {\n\t\t\t\t\t\ttop: newBorderWithStyle,\n\t\t\t\t\t\tright: newBorderWithStyle,\n\t\t\t\t\t\tbottom: newBorderWithStyle,\n\t\t\t\t\t\tleft: newBorderWithStyle,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\tstyle: null,\n\t\t\t\t\t\twidth: null,\n\t\t\t\t\t\t...newBorderWithStyle,\n\t\t\t\t  };\n\n\t\t\t// As radius is maintained separately to color, style, and width\n\t\t\t// maintain its value. Undefined values here will be cleaned when\n\t\t\t// global styles are saved.\n\t\t\tsetBorder( { radius: border?.radius, ...updatedBorder } );\n\t\t},\n\t\t[ setBorder ]\n\t);\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Border' ) } resetAll={ resetAll }>\n\t\t\t{ ( showBorderWidth || showBorderColor ) && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => isDefinedBorder( userBorderStyles ) }\n\t\t\t\t\tlabel={ __( 'Border' ) }\n\t\t\t\t\tonDeselect={ () => resetBorder() }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderBoxControl\n\t\t\t\t\t\tcolors={ colors }\n\t\t\t\t\t\tenableAlpha={ true }\n\t\t\t\t\t\tenableStyle={ showBorderStyle }\n\t\t\t\t\t\tonChange={ onBorderChange }\n\t\t\t\t\t\tpopoverOffset={ 40 }\n\t\t\t\t\t\tpopoverPlacement=\"left-start\"\n\t\t\t\t\t\tvalue={ border }\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar={ true }\n\t\t\t\t\t\tsize={ '__unstable-large' }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showBorderRadius && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasBorderRadius }\n\t\t\t\t\tlabel={ __( 'Radius' ) }\n\t\t\t\t\tonDeselect={ () => setBorderRadius( undefined ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderRadiusControl\n\t\t\t\t\t\tvalues={ borderRadiusValues }\n\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\tsetBorderRadius( value || undefined );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * Internal dependencies\n */\n\nimport { getSupportedGlobalStylesPanels } from './hooks';\n\nexport function useHasColorPanel( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tsupports.includes( 'color' ) ||\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' ) ||\n\t\tsupports.includes( 'linkColor' )\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M7 9v6h10V9H7zM5 19.8h14v-1.5H5v1.5zM5 4.3v1.5h14V4.3H5z\" />\n\t</SVG>\n);\n\nexport default positionCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchWide = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 9v6h14V9H5zm11-4.8H8v1.5h8V4.2zM8 19.8h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default stretchWide;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalBoxControl as BoxControl,\n\t__experimentalHStack as HStack,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalView as View,\n} from '@wordpress/components';\nimport {\n\t__experimentalUseCustomSides as useCustomSides,\n\t__experimentalHeightControl as HeightControl,\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\n} from '@wordpress/block-editor';\nimport { Icon, positionCenter, stretchWide } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nconst AXIAL_SIDES = [ 'horizontal', 'vertical' ];\n\nexport function useHasDimensionsPanel( name ) {\n\tconst hasContentSize = useHasContentSize( name );\n\tconst hasWideSize = useHasWideSize( name );\n\tconst hasPadding = useHasPadding( name );\n\tconst hasMargin = useHasMargin( name );\n\tconst hasGap = useHasGap( name );\n\tconst hasMinHeight = useHasMinHeight( name );\n\n\treturn (\n\t\thasContentSize ||\n\t\thasWideSize ||\n\t\thasPadding ||\n\t\thasMargin ||\n\t\thasGap ||\n\t\thasMinHeight\n\t);\n}\n\nfunction useHasContentSize( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'layout.contentSize', name );\n\n\treturn settings && supports.includes( 'contentSize' );\n}\n\nfunction useHasWideSize( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'layout.wideSize', name );\n\n\treturn settings && supports.includes( 'wideSize' );\n}\n\nfunction useHasPadding( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.padding', name );\n\n\treturn settings && supports.includes( 'padding' );\n}\n\nfunction useHasMargin( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.margin', name );\n\n\treturn settings && supports.includes( 'margin' );\n}\n\nfunction useHasGap( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.blockGap', name );\n\n\treturn settings && supports.includes( 'blockGap' );\n}\n\nfunction useHasMinHeight( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'dimensions.minHeight', name );\n\n\treturn settings && supports.includes( 'minHeight' );\n}\n\nfunction useHasSpacingPresets() {\n\tconst [ settings ] = useSetting( 'spacing.spacingSizes' );\n\n\treturn settings && settings.length > 0;\n}\n\nfunction filterValuesBySides( values, sides ) {\n\tif ( ! sides ) {\n\t\t// If no custom side configuration all sides are opted into by default.\n\t\treturn values;\n\t}\n\n\t// Only include sides opted into within filtered values.\n\tconst filteredValues = {};\n\tsides.forEach( ( side ) => {\n\t\tif ( side === 'vertical' ) {\n\t\t\tfilteredValues.top = values.top;\n\t\t\tfilteredValues.bottom = values.bottom;\n\t\t}\n\t\tif ( side === 'horizontal' ) {\n\t\t\tfilteredValues.left = values.left;\n\t\t\tfilteredValues.right = values.right;\n\t\t}\n\t\tfilteredValues[ side ] = values[ side ];\n\t} );\n\n\treturn filteredValues;\n}\n\nfunction splitStyleValue( value ) {\n\t// Check for shorthand value (a string value).\n\tif ( value && typeof value === 'string' ) {\n\t\t// Convert to value for individual sides for BoxControl.\n\t\treturn {\n\t\t\ttop: value,\n\t\t\tright: value,\n\t\t\tbottom: value,\n\t\t\tleft: value,\n\t\t};\n\t}\n\n\treturn value;\n}\n\nfunction splitGapValue( value ) {\n\t// Check for shorthand value (a string value).\n\tif ( value && typeof value === 'string' ) {\n\t\t// If the value is a string, treat it as a single side (top) for the spacing controls.\n\t\treturn {\n\t\t\ttop: value,\n\t\t};\n\t}\n\n\tif ( value ) {\n\t\treturn {\n\t\t\t...value,\n\t\t\tright: value?.left,\n\t\t\tbottom: value?.top,\n\t\t};\n\t}\n\n\treturn value;\n}\n\n// Props for managing `layout.contentSize`.\nfunction useContentSizeProps( name ) {\n\tconst [ contentSizeValue, setContentSizeValue ] = useSetting(\n\t\t'layout.contentSize',\n\t\tname\n\t);\n\tconst [ userSetContentSizeValue ] = useSetting(\n\t\t'layout.contentSize',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasUserSetContentSizeValue = () => !! userSetContentSizeValue;\n\tconst resetContentSizeValue = () => setContentSizeValue( '' );\n\treturn {\n\t\tcontentSizeValue,\n\t\tsetContentSizeValue,\n\t\thasUserSetContentSizeValue,\n\t\tresetContentSizeValue,\n\t};\n}\n\n// Props for managing `layout.wideSize`.\nfunction useWideSizeProps( name ) {\n\tconst [ wideSizeValue, setWideSizeValue ] = useSetting(\n\t\t'layout.wideSize',\n\t\tname\n\t);\n\tconst [ userSetWideSizeValue ] = useSetting(\n\t\t'layout.wideSize',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasUserSetWideSizeValue = () => !! userSetWideSizeValue;\n\tconst resetWideSizeValue = () => setWideSizeValue( '' );\n\treturn {\n\t\twideSizeValue,\n\t\tsetWideSizeValue,\n\t\thasUserSetWideSizeValue,\n\t\tresetWideSizeValue,\n\t};\n}\n\n// Props for managing `spacing.padding`.\nfunction usePaddingProps( name, variationPath = '' ) {\n\tconst [ rawPadding, setRawPadding ] = useStyle(\n\t\tvariationPath + 'spacing.padding',\n\t\tname\n\t);\n\tconst paddingValues = splitStyleValue( rawPadding );\n\tconst paddingSides = useCustomSides( name, 'padding' );\n\tconst isAxialPadding =\n\t\tpaddingSides &&\n\t\tpaddingSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setPaddingValues = ( newPaddingValues ) => {\n\t\tconst padding = filterValuesBySides( newPaddingValues, paddingSides );\n\t\tsetRawPadding( padding );\n\t};\n\tconst resetPaddingValue = () => setPaddingValues( {} );\n\tconst [ userSetPaddingValue ] = useStyle(\n\t\tvariationPath + 'spacing.padding',\n\t\tname,\n\t\t'user'\n\t);\n\t// The `hasPaddingValue` check does not need a parsed value, as `userSetPaddingValue` will be `undefined` if not set.\n\tconst hasPaddingValue = () => !! userSetPaddingValue;\n\n\treturn {\n\t\tpaddingValues,\n\t\tpaddingSides,\n\t\tisAxialPadding,\n\t\tsetPaddingValues,\n\t\tresetPaddingValue,\n\t\thasPaddingValue,\n\t};\n}\n\n// Props for managing `spacing.margin`.\nfunction useMarginProps( name, variationPath = '' ) {\n\tconst [ rawMargin, setRawMargin ] = useStyle(\n\t\tvariationPath + 'spacing.margin',\n\t\tname\n\t);\n\tconst marginValues = splitStyleValue( rawMargin );\n\tconst marginSides = useCustomSides( name, 'margin' );\n\tconst isAxialMargin =\n\t\tmarginSides &&\n\t\tmarginSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setMarginValues = ( newMarginValues ) => {\n\t\tconst margin = filterValuesBySides( newMarginValues, marginSides );\n\t\tsetRawMargin( margin );\n\t};\n\tconst resetMarginValue = () => setMarginValues( {} );\n\tconst hasMarginValue = () =>\n\t\t!! marginValues && Object.keys( marginValues ).length;\n\n\treturn {\n\t\tmarginValues,\n\t\tmarginSides,\n\t\tisAxialMargin,\n\t\tsetMarginValues,\n\t\tresetMarginValue,\n\t\thasMarginValue,\n\t};\n}\n\n// Props for managing `spacing.blockGap`.\nfunction useBlockGapProps( name, variationPath = '' ) {\n\tconst [ gapValue, setGapValue ] = useStyle(\n\t\tvariationPath + 'spacing.blockGap',\n\t\tname\n\t);\n\tconst gapValues = splitGapValue( gapValue );\n\tconst gapSides = useCustomSides( name, 'blockGap' );\n\tconst isAxialGap =\n\t\tgapSides && gapSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\tconst resetGapValue = () => setGapValue( undefined );\n\tconst [ userSetGapValue ] = useStyle(\n\t\tvariationPath + 'spacing.blockGap',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasGapValue = () => !! userSetGapValue;\n\tconst setGapValues = ( nextBoxGapValue ) => {\n\t\tif ( ! nextBoxGapValue ) {\n\t\t\tsetGapValue( null );\n\t\t}\n\t\t// If axial gap is not enabled, treat the 'top' value as the shorthand gap value.\n\t\tif ( ! isAxialGap && nextBoxGapValue?.hasOwnProperty( 'top' ) ) {\n\t\t\tsetGapValue( nextBoxGapValue.top );\n\t\t} else {\n\t\t\tsetGapValue( {\n\t\t\t\ttop: nextBoxGapValue?.top,\n\t\t\t\tleft: nextBoxGapValue?.left,\n\t\t\t} );\n\t\t}\n\t};\n\treturn {\n\t\tgapValue,\n\t\tgapValues,\n\t\tgapSides,\n\t\tisAxialGap,\n\t\tsetGapValue,\n\t\tsetGapValues,\n\t\tresetGapValue,\n\t\thasGapValue,\n\t};\n}\n\n// Props for managing `dimensions.minHeight`.\nfunction useMinHeightProps( name, variationPath = '' ) {\n\tconst [ minHeightValue, setMinHeightValue ] = useStyle(\n\t\tvariationPath + 'dimensions.minHeight',\n\t\tname\n\t);\n\tconst resetMinHeightValue = () => setMinHeightValue( undefined );\n\tconst hasMinHeightValue = () => !! minHeightValue;\n\treturn {\n\t\tminHeightValue,\n\t\tsetMinHeightValue,\n\t\tresetMinHeightValue,\n\t\thasMinHeightValue,\n\t};\n}\n\nexport default function DimensionsPanel( { name, variationPath = '' } ) {\n\tconst showContentSizeControl = useHasContentSize( name );\n\tconst showWideSizeControl = useHasWideSize( name );\n\tconst showPaddingControl = useHasPadding( name );\n\tconst showMarginControl = useHasMargin( name );\n\tconst showGapControl = useHasGap( name );\n\tconst showMinHeightControl = useHasMinHeight( name );\n\tconst showSpacingPresetsControl = useHasSpacingPresets();\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: useSetting( 'spacing.units', name )[ 0 ] || [\n\t\t\t'%',\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t\t'vw',\n\t\t],\n\t} );\n\n\t// Props for managing `layout.contentSize`.\n\tconst {\n\t\tcontentSizeValue,\n\t\tsetContentSizeValue,\n\t\thasUserSetContentSizeValue,\n\t\tresetContentSizeValue,\n\t} = useContentSizeProps( name );\n\n\t// Props for managing `layout.wideSize`.\n\tconst {\n\t\twideSizeValue,\n\t\tsetWideSizeValue,\n\t\thasUserSetWideSizeValue,\n\t\tresetWideSizeValue,\n\t} = useWideSizeProps( name );\n\n\t// Props for managing `spacing.padding`.\n\tconst {\n\t\tpaddingValues,\n\t\tpaddingSides,\n\t\tisAxialPadding,\n\t\tsetPaddingValues,\n\t\tresetPaddingValue,\n\t\thasPaddingValue,\n\t} = usePaddingProps( name, variationPath );\n\n\t// Props for managing `spacing.margin`.\n\tconst {\n\t\tmarginValues,\n\t\tmarginSides,\n\t\tisAxialMargin,\n\t\tsetMarginValues,\n\t\tresetMarginValue,\n\t\thasMarginValue,\n\t} = useMarginProps( name, variationPath );\n\n\t// Props for managing `spacing.blockGap`.\n\tconst {\n\t\tgapValue,\n\t\tgapValues,\n\t\tgapSides,\n\t\tisAxialGap,\n\t\tsetGapValue,\n\t\tsetGapValues,\n\t\tresetGapValue,\n\t\thasGapValue,\n\t} = useBlockGapProps( name, variationPath );\n\n\t// Props for managing `dimensions.minHeight`.\n\tconst {\n\t\tminHeightValue,\n\t\tsetMinHeightValue,\n\t\tresetMinHeightValue,\n\t\thasMinHeightValue,\n\t} = useMinHeightProps( name, variationPath );\n\n\tconst resetAll = () => {\n\t\tresetPaddingValue();\n\t\tresetMarginValue();\n\t\tresetGapValue();\n\t\tresetContentSizeValue();\n\t\tresetWideSizeValue();\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Dimensions' ) } resetAll={ resetAll }>\n\t\t\t{ ( showContentSizeControl || showWideSizeControl ) && (\n\t\t\t\t<span className=\"span-columns\">\n\t\t\t\t\t{ __( 'Set the width of the main content area.' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ showContentSizeControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Content size' ) }\n\t\t\t\t\thasValue={ hasUserSetContentSizeValue }\n\t\t\t\t\tonDeselect={ resetContentSizeValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HStack alignment=\"flex-end\" justify=\"flex-start\">\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tlabel={ __( 'Content' ) }\n\t\t\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\tvalue={ contentSizeValue || '' }\n\t\t\t\t\t\t\tonChange={ ( nextContentSize ) => {\n\t\t\t\t\t\t\t\tsetContentSizeValue( nextContentSize );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t<Icon icon={ positionCenter } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</HStack>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showWideSizeControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Wide size' ) }\n\t\t\t\t\thasValue={ hasUserSetWideSizeValue }\n\t\t\t\t\tonDeselect={ resetWideSizeValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HStack alignment=\"flex-end\" justify=\"flex-start\">\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tlabel={ __( 'Wide' ) }\n\t\t\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\tvalue={ wideSizeValue || '' }\n\t\t\t\t\t\t\tonChange={ ( nextWideSize ) => {\n\t\t\t\t\t\t\t\tsetWideSizeValue( nextWideSize );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t<Icon icon={ stretchWide } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</HStack>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showPaddingControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasPaddingValue }\n\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\tonDeselect={ resetPaddingValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl && (\n\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\tvalues={ paddingValues }\n\t\t\t\t\t\t\tonChange={ setPaddingValues }\n\t\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\t\tsides={ paddingSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialPadding }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tvalues={ paddingValues }\n\t\t\t\t\t\t\tonChange={ setPaddingValues }\n\t\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\t\tsides={ paddingSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialPadding }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showMarginControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasMarginValue }\n\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\tonDeselect={ resetMarginValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl && (\n\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\tvalues={ marginValues }\n\t\t\t\t\t\t\tonChange={ setMarginValues }\n\t\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\t\tsides={ marginSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialMargin }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tvalues={ marginValues }\n\t\t\t\t\t\t\tonChange={ setMarginValues }\n\t\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\t\tsides={ marginSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialMargin }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showGapControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasGapValue }\n\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\tonDeselect={ resetGapValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl &&\n\t\t\t\t\t\t( isAxialGap ? (\n\t\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\tonChange={ setGapValues }\n\t\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\t\tsides={ gapSides }\n\t\t\t\t\t\t\t\tvalues={ gapValues }\n\t\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\t\tsplitOnAxis={ isAxialGap }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\tonChange={ setGapValue }\n\t\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\t\tvalue={ gapValue }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tonChange={ setGapValues }\n\t\t\t\t\t\t\tsides={ isAxialGap ? gapSides : [ 'top' ] } // Use 'top' as the shorthand property in non-axial configurations.\n\t\t\t\t\t\t\tvalues={ gapValues }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialGap }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showMinHeightControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasMinHeightValue }\n\t\t\t\t\tlabel={ __( 'Min. height' ) }\n\t\t\t\t\tonDeselect={ resetMinHeightValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HeightControl\n\t\t\t\t\t\tlabel={ __( 'Min. height' ) }\n\t\t\t\t\t\tvalue={ minHeightValue }\n\t\t\t\t\t\tonChange={ setMinHeightValue }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tLineHeightControl,\n\t__experimentalFontFamilyControl as FontFamilyControl,\n\t__experimentalFontAppearanceControl as FontAppearanceControl,\n\t__experimentalLetterSpacingControl as LetterSpacingControl,\n\t__experimentalTextTransformControl as TextTransformControl,\n\t__experimentalTextDecorationControl as TextDecorationControl,\n} from '@wordpress/block-editor';\nimport {\n\tFontSizePicker,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nexport function useHasTypographyPanel( name ) {\n\tconst hasFontFamily = useHasFontFamilyControl( name );\n\tconst hasLineHeight = useHasLineHeightControl( name );\n\tconst hasFontAppearance = useHasAppearanceControl( name );\n\tconst hasLetterSpacing = useHasLetterSpacingControl( name );\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\thasFontFamily ||\n\t\thasLineHeight ||\n\t\thasFontAppearance ||\n\t\thasLetterSpacing ||\n\t\tsupports.includes( 'fontSize' )\n\t);\n}\n\nfunction useHasFontFamilyControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies', name );\n\treturn supports.includes( 'fontFamily' ) && !! fontFamilies?.length;\n}\n\nfunction useHasLineHeightControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'typography.lineHeight', name )[ 0 ] &&\n\t\tsupports.includes( 'lineHeight' )\n\t);\n}\n\nfunction useHasAppearanceControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\treturn hasFontStyles || hasFontWeights;\n}\n\nfunction useAppearanceControlLabel( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\tif ( ! hasFontStyles ) {\n\t\treturn __( 'Font weight' );\n\t}\n\tif ( ! hasFontWeights ) {\n\t\treturn __( 'Font style' );\n\t}\n\treturn __( 'Appearance' );\n}\n\nfunction useHasLetterSpacingControl( name, element ) {\n\tconst setting = useSetting( 'typography.letterSpacing', name )[ 0 ];\n\tif ( ! setting ) {\n\t\treturn false;\n\t}\n\tif ( ! name && element === 'heading' ) {\n\t\treturn true;\n\t}\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn supports.includes( 'letterSpacing' );\n}\n\nfunction useHasTextTransformControl( name, element ) {\n\tconst setting = useSetting( 'typography.textTransform', name )[ 0 ];\n\tif ( ! setting ) {\n\t\treturn false;\n\t}\n\tif ( ! name && element === 'heading' ) {\n\t\treturn true;\n\t}\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn supports.includes( 'textTransform' );\n}\n\nfunction useHasTextDecorationControl( name, element ) {\n\t// This is an exception for link elements.\n\t// We shouldn't allow other blocks or elements to set textDecoration\n\t// because this will be inherited by their children.\n\treturn ! name && element === 'link';\n}\n\nfunction useStyleWithReset( path, blockName ) {\n\tconst [ style, setStyle ] = useStyle( path, blockName );\n\tconst [ userStyle ] = useStyle( path, blockName, 'user' );\n\tconst hasStyle = () => !! userStyle;\n\tconst resetStyle = () => setStyle( undefined );\n\treturn [ style, setStyle, hasStyle, resetStyle ];\n}\n\nfunction useFontSizeWithReset( path, blockName ) {\n\tconst [ fontSize, setStyleCallback ] = useStyle( path, blockName );\n\tconst [ userStyle ] = useStyle( path, blockName, 'user' );\n\tconst hasFontSize = () => !! userStyle;\n\tconst resetFontSize = () => setStyleCallback( undefined );\n\tconst setFontSize = ( newValue, metadata ) => {\n\t\tif ( !! metadata?.slug ) {\n\t\t\tnewValue = `var:preset|font-size|${ metadata?.slug }`;\n\t\t}\n\t\tsetStyleCallback( newValue );\n\t};\n\n\treturn {\n\t\tfontSize,\n\t\tsetFontSize,\n\t\thasFontSize,\n\t\tresetFontSize,\n\t};\n}\n\nfunction useFontAppearance( prefix, name ) {\n\tconst [ fontStyle, setFontStyle ] = useStyle(\n\t\tprefix + 'typography.fontStyle',\n\t\tname\n\t);\n\tconst [ userFontStyle ] = useStyle(\n\t\tprefix + 'typography.fontStyle',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ fontWeight, setFontWeight ] = useStyle(\n\t\tprefix + 'typography.fontWeight',\n\t\tname\n\t);\n\tconst [ userFontWeight ] = useStyle(\n\t\tprefix + 'typography.fontWeight',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasFontAppearance = () => !! userFontStyle || !! userFontWeight;\n\tconst resetFontAppearance = () => {\n\t\tsetFontStyle( undefined );\n\t\tsetFontWeight( undefined );\n\t};\n\treturn {\n\t\tfontStyle,\n\t\tsetFontStyle,\n\t\tfontWeight,\n\t\tsetFontWeight,\n\t\thasFontAppearance,\n\t\tresetFontAppearance,\n\t};\n}\n\nexport default function TypographyPanel( {\n\tname,\n\telement,\n\theadingLevel,\n\tvariationPath = '',\n} ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\tconst [ fontSizes ] = useSetting( 'typography.fontSizes', name );\n\n\tconst disableCustomFontSizes = ! useSetting(\n\t\t'typography.customFontSize',\n\t\tname\n\t)[ 0 ];\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies', name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\tconst hasFontFamilyEnabled = useHasFontFamilyControl( name );\n\tconst hasLineHeightEnabled = useHasLineHeightControl( name );\n\tconst hasAppearanceControl = useHasAppearanceControl( name );\n\tconst appearanceControlLabel = useAppearanceControlLabel( name );\n\tconst hasLetterSpacingControl = useHasLetterSpacingControl( name, element );\n\tconst hasTextTransformControl = useHasTextTransformControl( name, element );\n\tconst hasTextDecorationControl = useHasTextDecorationControl(\n\t\tname,\n\t\telement\n\t);\n\n\t/* Disable font size controls when the option to style all headings is selected. */\n\tlet hasFontSizeEnabled = supports.includes( 'fontSize' );\n\tif ( element === 'heading' && headingLevel === 'heading' ) {\n\t\thasFontSizeEnabled = false;\n\t}\n\n\tconst [ fontFamily, setFontFamily, hasFontFamily, resetFontFamily ] =\n\t\tuseStyleWithReset(\n\t\t\tvariationPath + prefix + 'typography.fontFamily',\n\t\t\tname\n\t\t);\n\tconst { fontSize, setFontSize, hasFontSize, resetFontSize } =\n\t\tuseFontSizeWithReset(\n\t\t\tvariationPath + prefix + 'typography.fontSize',\n\t\t\tname\n\t\t);\n\tconst {\n\t\tfontStyle,\n\t\tsetFontStyle,\n\t\tfontWeight,\n\t\tsetFontWeight,\n\t\thasFontAppearance,\n\t\tresetFontAppearance,\n\t} = useFontAppearance( variationPath + prefix, name );\n\tconst [ lineHeight, setLineHeight, hasLineHeight, resetLineHeight ] =\n\t\tuseStyleWithReset(\n\t\t\tvariationPath + prefix + 'typography.lineHeight',\n\t\t\tname\n\t\t);\n\tconst [\n\t\tletterSpacing,\n\t\tsetLetterSpacing,\n\t\thasLetterSpacing,\n\t\tresetLetterSpacing,\n\t] = useStyleWithReset(\n\t\tvariationPath + prefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst [\n\t\ttextTransform,\n\t\tsetTextTransform,\n\t\thasTextTransform,\n\t\tresetTextTransform,\n\t] = useStyleWithReset(\n\t\tvariationPath + prefix + 'typography.textTransform',\n\t\tname\n\t);\n\tconst [\n\t\ttextDecoration,\n\t\tsetTextDecoration,\n\t\thasTextDecoration,\n\t\tresetTextDecoration,\n\t] = useStyleWithReset(\n\t\tvariationPath + prefix + 'typography.textDecoration',\n\t\tname\n\t);\n\n\tconst resetAll = () => {\n\t\tresetFontFamily();\n\t\tresetFontSize();\n\t\tresetFontAppearance();\n\t\tresetLineHeight();\n\t\tresetLetterSpacing();\n\t\tresetTextTransform();\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Typography' ) } resetAll={ resetAll }>\n\t\t\t{ hasFontFamilyEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Font family' ) }\n\t\t\t\t\thasValue={ hasFontFamily }\n\t\t\t\t\tonDeselect={ resetFontFamily }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontFamilyControl\n\t\t\t\t\t\tfontFamilies={ fontFamilies }\n\t\t\t\t\t\tvalue={ fontFamily }\n\t\t\t\t\t\tonChange={ setFontFamily }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasFontSizeEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Font size' ) }\n\t\t\t\t\thasValue={ hasFontSize }\n\t\t\t\t\tonDeselect={ resetFontSize }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontSizePicker\n\t\t\t\t\t\tvalue={ fontSize }\n\t\t\t\t\t\tonChange={ setFontSize }\n\t\t\t\t\t\tfontSizes={ fontSizes }\n\t\t\t\t\t\tdisableCustomFontSizes={ disableCustomFontSizes }\n\t\t\t\t\t\twithReset={ false }\n\t\t\t\t\t\twithSlider\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasAppearanceControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ appearanceControlLabel }\n\t\t\t\t\thasValue={ hasFontAppearance }\n\t\t\t\t\tonDeselect={ resetFontAppearance }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontAppearanceControl\n\t\t\t\t\t\tvalue={ {\n\t\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonChange={ ( {\n\t\t\t\t\t\t\tfontStyle: newFontStyle,\n\t\t\t\t\t\t\tfontWeight: newFontWeight,\n\t\t\t\t\t\t} ) => {\n\t\t\t\t\t\t\tsetFontStyle( newFontStyle );\n\t\t\t\t\t\t\tsetFontWeight( newFontWeight );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thasFontStyles={ hasFontStyles }\n\t\t\t\t\t\thasFontWeights={ hasFontWeights }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasLineHeightEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Line height' ) }\n\t\t\t\t\thasValue={ hasLineHeight }\n\t\t\t\t\tonDeselect={ resetLineHeight }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<LineHeightControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t\tvalue={ lineHeight }\n\t\t\t\t\t\tonChange={ setLineHeight }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasLetterSpacingControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Letter spacing' ) }\n\t\t\t\t\thasValue={ hasLetterSpacing }\n\t\t\t\t\tonDeselect={ resetLetterSpacing }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<LetterSpacingControl\n\t\t\t\t\t\tvalue={ letterSpacing }\n\t\t\t\t\t\tonChange={ setLetterSpacing }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasTextTransformControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Letter case' ) }\n\t\t\t\t\thasValue={ hasTextTransform }\n\t\t\t\t\tonDeselect={ resetTextTransform }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<TextTransformControl\n\t\t\t\t\t\tvalue={ textTransform }\n\t\t\t\t\t\tonChange={ setTextTransform }\n\t\t\t\t\t\tshowNone\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasTextDecorationControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Text decoration' ) }\n\t\t\t\t\thasValue={ hasTextDecoration }\n\t\t\t\t\tonDeselect={ resetTextDecoration }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<TextDecorationControl\n\t\t\t\t\t\tvalue={ textDecoration }\n\t\t\t\t\t\tonChange={ setTextDecoration }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\n/**\n * Internal dependencies\n */\n\nimport { NavigationButtonAsItem } from './navigation-button';\nimport ContextMenu from './context-menu';\n\nfunction getCoreBlockStyles( blockStyles ) {\n\treturn blockStyles?.filter( ( style ) => style.source === 'block' );\n}\n\nexport function useHasVariationsPanel( name, parentMenu = '' ) {\n\tconst isInsideVariationsPanel = parentMenu.includes( 'variations' );\n\tconst blockStyles = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tconst coreBlockStyles = getCoreBlockStyles( blockStyles );\n\treturn !! coreBlockStyles?.length && ! isInsideVariationsPanel;\n}\n\nexport function VariationsPanel( { name } ) {\n\tconst blockStyles = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tconst coreBlockStyles = getCoreBlockStyles( blockStyles );\n\n\treturn (\n\t\t<ItemGroup isBordered isSeparated>\n\t\t\t{ coreBlockStyles.map( ( style, index ) => {\n\t\t\t\tif ( style?.isDefault ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tpath={\n\t\t\t\t\t\t\t'/blocks/' +\n\t\t\t\t\t\t\tencodeURIComponent( name ) +\n\t\t\t\t\t\t\t'/variations/' +\n\t\t\t\t\t\t\tencodeURIComponent( style.name )\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-label={ style.label }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ style.label }\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n\nexport function VariationPanel( { blockName, styleName } ) {\n\treturn (\n\t\t<ContextMenu\n\t\t\tparentMenu={\n\t\t\t\t'/blocks/' +\n\t\t\t\tencodeURIComponent( blockName ) +\n\t\t\t\t'/variations/' +\n\t\t\t\tencodeURIComponent( styleName )\n\t\t\t}\n\t\t\tname={ blockName }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalHeading as Heading,\n\t__experimentalView as View,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\n\nfunction ScreenHeader( { title, description } ) {\n\treturn (\n\t\t<VStack spacing={ 0 }>\n\t\t\t<View>\n\t\t\t\t<Spacer marginBottom={ 0 } paddingX={ 4 } paddingY={ 3 }>\n\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t<NavigatorBackButton\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t// TODO: This style override is also used in ToolsPanelHeader.\n\t\t\t\t\t\t\t\t// It should be supported out-of-the-box by Button.\n\t\t\t\t\t\t\t\t{ minWidth: 24, padding: 0 }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\taria-label={ __( 'Navigate to the previous view' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer>\n\t\t\t\t\t\t\t<Heading level={ 5 }>{ title }</Heading>\n\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t</HStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"edit-site-global-styles-header__description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default ScreenHeader;\n","/**\n * WordPress dependencies\n */\nimport { BlockPreview } from '@wordpress/block-editor';\nimport { getBlockType, getBlockFromExample } from '@wordpress/blocks';\nimport { useResizeObserver } from '@wordpress/compose';\nimport { __experimentalSpacer as Spacer } from '@wordpress/components';\n\nconst BlockPreviewPanel = ( { name, variation = '' } ) => {\n\tconst [\n\t\tcontainerResizeListener,\n\t\t{ width: containerWidth, height: containerHeight },\n\t] = useResizeObserver();\n\tconst blockExample = getBlockType( name )?.example;\n\tconst blockExampleWithVariation = {\n\t\t...blockExample,\n\t\tattributes: {\n\t\t\t...blockExample?.attributes,\n\t\t\tclassName: variation,\n\t\t},\n\t};\n\tconst blocks =\n\t\tblockExample &&\n\t\tgetBlockFromExample(\n\t\t\tname,\n\t\t\tvariation ? blockExampleWithVariation : blockExample\n\t\t);\n\tconst viewportWidth = blockExample?.viewportWidth || containerWidth;\n\tconst minHeight = containerHeight;\n\n\treturn ! blockExample ? null : (\n\t\t<Spacer marginX={ 4 } marginBottom={ 4 }>\n\t\t\t<div className=\"edit-site-global-styles__block-preview-panel\">\n\t\t\t\t{ containerResizeListener }\n\n\t\t\t\t<BlockPreview\n\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\t__experimentalMinHeight={ minHeight }\n\t\t\t\t\t__experimentalStyles={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcss: `\n\t\t\t\t\t\t\t\tbody{\n\t\t\t\t\t\t\t\t\tmin-height:${ minHeight }px;\n\t\t\t\t\t\t\t\t\tdisplay:flex;align-items:center;justify-content:center;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Spacer>\n\t);\n};\n\nexport default BlockPreviewPanel;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\nfunction Subtitle( { children } ) {\n\treturn (\n\t\t<Heading className=\"edit-site-global-styles-subtitle\" level={ 2 }>\n\t\t\t{ children }\n\t\t</Heading>\n\t);\n}\n\nexport default Subtitle;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n/**\n * Internal dependencies\n */\nimport {\n\tVariationPanel,\n\tVariationsPanel,\n\tuseHasVariationsPanel,\n} from './variations-panel';\nimport ScreenHeader from './header';\nimport BlockPreviewPanel from './block-preview-panel';\nimport Subtitle from './subtitle';\n\nexport function ScreenVariations( { name, path = '' } ) {\n\tconst hasVariationsPanel = useHasVariationsPanel( name, path );\n\n\tif ( ! hasVariationsPanel ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"edit-site-global-styles-screen-variations\">\n\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t<p>Manage style variations, saved block appearence presets.</p>\n\t\t\t\t<Subtitle>{ __( 'Style Variations' ) }</Subtitle>\n\t\t\t\t<VariationsPanel name={ name } />\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n\nexport function ScreenVariation( { blockName, style } ) {\n\tconst { name: styleName, label: styleLabel } = style;\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ styleLabel } />\n\t\t\t<BlockPreviewPanel\n\t\t\t\tname={ blockName }\n\t\t\t\tvariation={ `is-style-${ styleName }` }\n\t\t\t/>\n\t\t\t<VariationPanel blockName={ blockName } styleName={ styleName } />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { typography, border, color, layout } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport { useHasVariationsPanel } from './variations-panel';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { ScreenVariations } from './screen-variations';\n\nfunction ContextMenu( { name, parentMenu = '' } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( name );\n\tconst hasColorPanel = useHasColorPanel( name );\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\tconst hasLayoutPanel = hasDimensionsPanel;\n\tconst hasVariationsPanel = useHasVariationsPanel( name, parentMenu );\n\n\treturn (\n\t\t<ItemGroup>\n\t\t\t{ hasTypographyPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ typography }\n\t\t\t\t\tpath={ parentMenu + '/typography' }\n\t\t\t\t\taria-label={ __( 'Typography styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Typography' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasColorPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ color }\n\t\t\t\t\tpath={ parentMenu + '/colors' }\n\t\t\t\t\taria-label={ __( 'Colors styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Colors' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasBorderPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ border }\n\t\t\t\t\tpath={ parentMenu + '/border' }\n\t\t\t\t\taria-label={ __( 'Border styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Border' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasLayoutPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ layout }\n\t\t\t\t\tpath={ parentMenu + '/layout' }\n\t\t\t\t\taria-label={ __( 'Layout styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Layout' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasVariationsPanel && (\n\t\t\t\t<ScreenVariations name={ name } path={ parentMenu } />\n\t\t\t) }\n\t\t</ItemGroup>\n\t);\n}\n\nexport default ContextMenu;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"styleEngine\"];","/**\n * External dependencies\n */\nimport { get, isEmpty, kebabCase, set } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n\t__EXPERIMENTAL_ELEMENTS as ELEMENTS,\n\tgetBlockTypes,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useMemo } from '@wordpress/element';\nimport { getCSSRules } from '@wordpress/style-engine';\nimport {\n\t__unstablePresetDuotoneFilter as PresetDuotoneFilter,\n\t__experimentalGetGapCSSValue as getGapCSSValue,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { PRESET_METADATA, ROOT_BLOCK_SELECTOR, scopeSelector } from './utils';\nimport { getTypographyFontSizeValue } from './typography-utils';\nimport { GlobalStylesContext } from './context';\nimport { useSetting } from './hooks';\n\n// List of block support features that can have their related styles\n// generated under their own feature level selector rather than the block's.\nconst BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS = {\n\t__experimentalBorder: 'border',\n\tcolor: 'color',\n\tspacing: 'spacing',\n\ttypography: 'typography',\n};\n\nfunction compileStyleValue( uncompiledValue ) {\n\tconst VARIABLE_REFERENCE_PREFIX = 'var:';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE = '|';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_STYLE = '--';\n\n\tif ( uncompiledValue?.startsWith?.( VARIABLE_REFERENCE_PREFIX ) ) {\n\t\tconst variable = uncompiledValue\n\t\t\t.slice( VARIABLE_REFERENCE_PREFIX.length )\n\t\t\t.split( VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE )\n\t\t\t.join( VARIABLE_PATH_SEPARATOR_TOKEN_STYLE );\n\t\treturn `var(--wp--${ variable })`;\n\t}\n\treturn uncompiledValue;\n}\n\n/**\n * Transform given preset tree into a set of style declarations.\n *\n * @param {Object} blockPresets\n * @param {Object} mergedSettings Merged theme.json settings.\n *\n * @return {Array<Object>} An array of style declarations.\n */\nfunction getPresetsDeclarations( blockPresets = {}, mergedSettings ) {\n\treturn PRESET_METADATA.reduce(\n\t\t( declarations, { path, valueKey, valueFunc, cssVarInfix } ) => {\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( value ) => {\n\t\t\t\t\t\tif ( valueKey && ! valueFunc ) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ value[ valueKey ] }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tvalueFunc &&\n\t\t\t\t\t\t\ttypeof valueFunc === 'function'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ valueFunc( value, mergedSettings ) }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n}\n\n/**\n * Transform given preset tree into a set of preset class declarations.\n *\n * @param {string} blockSelector\n * @param {Object} blockPresets\n * @return {string} CSS declarations for the preset classes.\n */\nfunction getPresetsClasses( blockSelector, blockPresets = {} ) {\n\treturn PRESET_METADATA.reduce(\n\t\t( declarations, { path, cssVarInfix, classes } ) => {\n\t\t\tif ( ! classes ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( { slug } ) => {\n\t\t\t\t\t\tclasses.forEach( ( { classSuffix, propertyName } ) => {\n\t\t\t\t\t\t\tconst classSelectorToUse = `.has-${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) }-${ classSuffix }`;\n\t\t\t\t\t\t\tconst selectorToUse = blockSelector\n\t\t\t\t\t\t\t\t.split( ',' ) // Selector can be \"h1, h2, h3\"\n\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t( selector ) =>\n\t\t\t\t\t\t\t\t\t\t`${ selector }${ classSelectorToUse }`\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.join( ',' );\n\t\t\t\t\t\t\tconst value = `var(--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) })`;\n\t\t\t\t\t\t\tdeclarations += `${ selectorToUse }{${ propertyName }: ${ value } !important;}`;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn declarations;\n\t\t},\n\t\t''\n\t);\n}\n\nfunction getPresetsSvgFilters( blockPresets = {} ) {\n\treturn PRESET_METADATA.filter(\n\t\t// Duotone are the only type of filters for now.\n\t\t( metadata ) => metadata.path.at( -1 ) === 'duotone'\n\t).flatMap( ( metadata ) => {\n\t\tconst presetByOrigin = get( blockPresets, metadata.path, {} );\n\t\treturn [ 'default', 'theme' ]\n\t\t\t.filter( ( origin ) => presetByOrigin[ origin ] )\n\t\t\t.flatMap( ( origin ) =>\n\t\t\t\tpresetByOrigin[ origin ].map( ( preset ) => (\n\t\t\t\t\t<PresetDuotoneFilter\n\t\t\t\t\t\tpreset={ preset }\n\t\t\t\t\t\tkey={ preset.slug }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t);\n\t} );\n}\n\nfunction flattenTree( input = {}, prefix, token ) {\n\tlet result = [];\n\tObject.keys( input ).forEach( ( key ) => {\n\t\tconst newKey = prefix + kebabCase( key.replace( '/', '-' ) );\n\t\tconst newLeaf = input[ key ];\n\n\t\tif ( newLeaf instanceof Object ) {\n\t\t\tconst newPrefix = newKey + token;\n\t\t\tresult = [ ...result, ...flattenTree( newLeaf, newPrefix, token ) ];\n\t\t} else {\n\t\t\tresult.push( `${ newKey }: ${ newLeaf }` );\n\t\t}\n\t} );\n\treturn result;\n}\n\n/**\n * Gets variation selector string from feature selector.\n *\n * @param {string} featureSelector        The feature selector.\n *\n * @param {string} styleVariationSelector The style variation selector.\n * @return {string} Combined selector string.\n *\n */\nfunction concatFeatureVariationSelectorString(\n\tfeatureSelector,\n\tstyleVariationSelector\n) {\n\tconst featureSelectors = featureSelector.split( ',' );\n\tconst combinedSelectors = [];\n\tfeatureSelectors.forEach( ( selector ) => {\n\t\tcombinedSelectors.push(\n\t\t\t`${ styleVariationSelector.trim() }${ selector.trim() }`\n\t\t);\n\t} );\n\treturn combinedSelectors.join( ', ' );\n}\n\n/**\n * Transform given style tree into a set of style declarations.\n *\n * @param {Object}  blockStyles         Block styles.\n *\n * @param {string}  selector            The selector these declarations should attach to.\n *\n * @param {boolean} useRootPaddingAlign Whether to use CSS custom properties in root selector.\n *\n * @param {Object}  tree                A theme.json tree containing layout definitions.\n *\n * @return {Array} An array of style declarations.\n */\nexport function getStylesDeclarations(\n\tblockStyles = {},\n\tselector = '',\n\tuseRootPaddingAlign,\n\ttree = {}\n) {\n\tconst isRoot = ROOT_BLOCK_SELECTOR === selector;\n\tconst output = Object.entries( STYLE_PROPERTY ).reduce(\n\t\t(\n\t\t\tdeclarations,\n\t\t\t[ key, { value, properties, useEngine, rootOnly } ]\n\t\t) => {\n\t\t\tif ( rootOnly && ! isRoot ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\t\t\tconst pathToValue = value;\n\t\t\tif ( pathToValue[ 0 ] === 'elements' || useEngine ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst styleValue = get( blockStyles, pathToValue );\n\n\t\t\t// Root-level padding styles don't currently support strings with CSS shorthand values.\n\t\t\t// This may change: https://github.com/WordPress/gutenberg/issues/40132.\n\t\t\tif (\n\t\t\t\tkey === '--wp--style--root--padding' &&\n\t\t\t\t( typeof styleValue === 'string' || ! useRootPaddingAlign )\n\t\t\t) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tif ( !! properties && typeof styleValue !== 'string' ) {\n\t\t\t\tObject.entries( properties ).forEach( ( entry ) => {\n\t\t\t\t\tconst [ name, prop ] = entry;\n\n\t\t\t\t\tif ( ! get( styleValue, [ prop ], false ) ) {\n\t\t\t\t\t\t// Do not create a declaration\n\t\t\t\t\t\t// for sub-properties that don't have any value.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cssProperty = name.startsWith( '--' )\n\t\t\t\t\t\t? name\n\t\t\t\t\t\t: kebabCase( name );\n\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\t\tget( styleValue, [ prop ] )\n\t\t\t\t\t\t) }`\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t} else if ( get( blockStyles, pathToValue, false ) ) {\n\t\t\t\tconst cssProperty = key.startsWith( '--' )\n\t\t\t\t\t? key\n\t\t\t\t\t: kebabCase( key );\n\t\t\t\tdeclarations.push(\n\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\tget( blockStyles, pathToValue )\n\t\t\t\t\t) }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n\n\t// The goal is to move everything to server side generated engine styles\n\t// This is temporary as we absorb more and more styles into the engine.\n\tconst extraRules = getCSSRules( blockStyles );\n\textraRules.forEach( ( rule ) => {\n\t\t// Don't output padding properties if padding variables are set.\n\t\tif (\n\t\t\tisRoot &&\n\t\t\tuseRootPaddingAlign &&\n\t\t\trule.key.startsWith( 'padding' )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst cssProperty = rule.key.startsWith( '--' )\n\t\t\t? rule.key\n\t\t\t: kebabCase( rule.key );\n\n\t\tlet ruleValue = rule.value;\n\t\tif ( typeof ruleValue !== 'string' && ruleValue?.ref ) {\n\t\t\tconst refPath = ruleValue.ref.split( '.' );\n\t\t\truleValue = get( tree, refPath );\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif ( ! ruleValue || !! ruleValue?.ref ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Calculate fluid typography rules where available.\n\t\tif ( cssProperty === 'font-size' ) {\n\t\t\t/*\n\t\t\t * getTypographyFontSizeValue() will check\n\t\t\t * if fluid typography has been activated and also\n\t\t\t * whether the incoming value can be converted to a fluid value.\n\t\t\t * Values that already have a \"clamp()\" function will not pass the test,\n\t\t\t * and therefore the original $value will be returned.\n\t\t\t */\n\t\t\truleValue = getTypographyFontSizeValue(\n\t\t\t\t{ size: ruleValue },\n\t\t\t\ttree?.settings?.typography\n\t\t\t);\n\t\t}\n\n\t\toutput.push( `${ cssProperty }: ${ ruleValue }` );\n\t} );\n\n\treturn output;\n}\n\n/**\n * Get generated CSS for layout styles by looking up layout definitions provided\n * in theme.json, and outputting common layout styles, and specific blockGap values.\n *\n * @param {Object}  props\n * @param {Object}  props.tree                  A theme.json tree containing layout definitions.\n * @param {Object}  props.style                 A style object containing spacing values.\n * @param {string}  props.selector              Selector used to group together layout styling rules.\n * @param {boolean} props.hasBlockGapSupport    Whether or not the theme opts-in to blockGap support.\n * @param {boolean} props.hasFallbackGapSupport Whether or not the theme allows fallback gap styles.\n * @param {?string} props.fallbackGapValue      An optional fallback gap value if no real gap value is available.\n * @return {string} Generated CSS rules for the layout styles.\n */\nexport function getLayoutStyles( {\n\ttree,\n\tstyle,\n\tselector,\n\thasBlockGapSupport,\n\thasFallbackGapSupport,\n\tfallbackGapValue,\n} ) {\n\tlet ruleset = '';\n\tlet gapValue = hasBlockGapSupport\n\t\t? getGapCSSValue( style?.spacing?.blockGap )\n\t\t: '';\n\n\t// Ensure a fallback gap value for the root layout definitions,\n\t// and use a fallback value if one is provided for the current block.\n\tif ( hasFallbackGapSupport ) {\n\t\tif ( selector === ROOT_BLOCK_SELECTOR ) {\n\t\t\tgapValue = ! gapValue ? '0.5em' : gapValue;\n\t\t} else if ( ! hasBlockGapSupport && fallbackGapValue ) {\n\t\t\tgapValue = fallbackGapValue;\n\t\t}\n\t}\n\n\tif ( gapValue && tree?.settings?.layout?.definitions ) {\n\t\tObject.values( tree.settings.layout.definitions ).forEach(\n\t\t\t( { className, name, spacingStyles } ) => {\n\t\t\t\t// Allow outputting fallback gap styles for flex layout type when block gap support isn't available.\n\t\t\t\tif ( ! hasBlockGapSupport && 'flex' !== name ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( spacingStyles?.length ) {\n\t\t\t\t\tspacingStyles.forEach( ( spacingStyle ) => {\n\t\t\t\t\t\tconst declarations = [];\n\n\t\t\t\t\t\tif ( spacingStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( spacingStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${\n\t\t\t\t\t\t\t\t\t\t\tcssValue ? cssValue : gapValue\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tlet combinedSelector = '';\n\n\t\t\t\t\t\t\tif ( ! hasBlockGapSupport ) {\n\t\t\t\t\t\t\t\t// For fallback gap styles, use lower specificity, to ensure styles do not unintentionally override theme styles.\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `:where(.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`\n\t\t\t\t\t\t\t\t\t\t: `:where(${ selector }.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `${ selector } .${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: `${ selector }.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// For backwards compatibility, ensure the legacy block gap CSS variable is still available.\n\t\tif ( selector === ROOT_BLOCK_SELECTOR && hasBlockGapSupport ) {\n\t\t\truleset += `${ selector } { --wp--style--block-gap: ${ gapValue }; }`;\n\t\t}\n\t}\n\n\t// Output base styles\n\tif (\n\t\tselector === ROOT_BLOCK_SELECTOR &&\n\t\ttree?.settings?.layout?.definitions\n\t) {\n\t\tconst validDisplayModes = [ 'block', 'flex', 'grid' ];\n\t\tObject.values( tree.settings.layout.definitions ).forEach(\n\t\t\t( { className, displayMode, baseStyles } ) => {\n\t\t\t\tif (\n\t\t\t\t\tdisplayMode &&\n\t\t\t\t\tvalidDisplayModes.includes( displayMode )\n\t\t\t\t) {\n\t\t\t\t\truleset += `${ selector } .${ className } { display:${ displayMode }; }`;\n\t\t\t\t}\n\n\t\t\t\tif ( baseStyles?.length ) {\n\t\t\t\t\tbaseStyles.forEach( ( baseStyle ) => {\n\t\t\t\t\t\tconst declarations = [];\n\n\t\t\t\t\t\tif ( baseStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( baseStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${ cssValue }`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tconst combinedSelector = `${ selector } .${ className }${\n\t\t\t\t\t\t\t\tbaseStyle?.selector || ''\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\treturn ruleset;\n}\n\nexport const getNodesWithStyles = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.styles ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickStyleKeys = ( treeToPickFrom ) =>\n\t\tObject.fromEntries(\n\t\t\tObject.entries( treeToPickFrom ?? {} ).filter( ( [ key ] ) =>\n\t\t\t\t[\n\t\t\t\t\t'border',\n\t\t\t\t\t'color',\n\t\t\t\t\t'dimensions',\n\t\t\t\t\t'spacing',\n\t\t\t\t\t'typography',\n\t\t\t\t\t'filter',\n\t\t\t\t\t'outline',\n\t\t\t\t\t'shadow',\n\t\t\t\t].includes( key )\n\t\t\t)\n\t\t);\n\n\t// Top-level.\n\tconst styles = pickStyleKeys( tree.styles );\n\tif ( !! styles ) {\n\t\tnodes.push( {\n\t\t\tstyles,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\n\tObject.entries( ELEMENTS ).forEach( ( [ name, selector ] ) => {\n\t\tif ( !! tree.styles?.elements[ name ] ) {\n\t\t\tnodes.push( {\n\t\t\t\tstyles: tree.styles?.elements[ name ],\n\t\t\t\tselector,\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// Iterate over blocks: they can have styles & elements.\n\tObject.entries( tree.styles?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockStyles = pickStyleKeys( node );\n\n\t\t\tif ( node?.variations ) {\n\t\t\t\tconst variations = {};\n\t\t\t\tObject.keys( node.variations ).forEach( ( variation ) => {\n\t\t\t\t\tvariations[ variation ] = pickStyleKeys(\n\t\t\t\t\t\tnode.variations[ variation ]\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t\tblockStyles.variations = variations;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t!! blockStyles &&\n\t\t\t\t!! blockSelectors?.[ blockName ]?.selector\n\t\t\t) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tduotoneSelector:\n\t\t\t\t\t\tblockSelectors[ blockName ].duotoneSelector,\n\t\t\t\t\tfallbackGapValue:\n\t\t\t\t\t\tblockSelectors[ blockName ].fallbackGapValue,\n\t\t\t\t\thasLayoutSupport:\n\t\t\t\t\t\tblockSelectors[ blockName ].hasLayoutSupport,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t\t\tstyles: blockStyles,\n\t\t\t\t\tfeatureSelectors:\n\t\t\t\t\t\tblockSelectors[ blockName ].featureSelectors,\n\t\t\t\t\tstyleVariationSelectors:\n\t\t\t\t\t\tblockSelectors[ blockName ].styleVariationSelectors,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tObject.entries( node?.elements ?? {} ).forEach(\n\t\t\t\t( [ elementName, value ] ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!! value &&\n\t\t\t\t\t\t!! blockSelectors?.[ blockName ] &&\n\t\t\t\t\t\t!! ELEMENTS?.[ elementName ]\n\t\t\t\t\t) {\n\t\t\t\t\t\tnodes.push( {\n\t\t\t\t\t\t\tstyles: value,\n\t\t\t\t\t\t\tselector: blockSelectors[ blockName ].selector\n\t\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t\t.map( ( sel ) => {\n\t\t\t\t\t\t\t\t\tconst elementSelectors =\n\t\t\t\t\t\t\t\t\t\tELEMENTS[ elementName ].split( ',' );\n\t\t\t\t\t\t\t\t\treturn elementSelectors.map(\n\t\t\t\t\t\t\t\t\t\t( elementSelector ) =>\n\t\t\t\t\t\t\t\t\t\t\tsel + ' ' + elementSelector\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.join( ',' ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const getNodesWithSettings = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.settings ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickPresets = ( treeToPickFrom ) => {\n\t\tconst presets = {};\n\t\tPRESET_METADATA.forEach( ( { path } ) => {\n\t\t\tconst value = get( treeToPickFrom, path, false );\n\t\t\tif ( value !== false ) {\n\t\t\t\tset( presets, path, value );\n\t\t\t}\n\t\t} );\n\t\treturn presets;\n\t};\n\n\t// Top-level.\n\tconst presets = pickPresets( tree.settings );\n\tconst custom = tree.settings?.custom;\n\tif ( ! isEmpty( presets ) || !! custom ) {\n\t\tnodes.push( {\n\t\t\tpresets,\n\t\t\tcustom,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\n\t// Blocks.\n\tObject.entries( tree.settings?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockPresets = pickPresets( node );\n\t\t\tconst blockCustom = node.custom;\n\t\t\tif ( ! isEmpty( blockPresets ) || !! blockCustom ) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tpresets: blockPresets,\n\t\t\t\t\tcustom: blockCustom,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const toCustomProperties = ( tree, blockSelectors ) => {\n\tconst settings = getNodesWithSettings( tree, blockSelectors );\n\tlet ruleset = '';\n\tsettings.forEach( ( { presets, custom, selector } ) => {\n\t\tconst declarations = getPresetsDeclarations( presets, tree?.settings );\n\t\tconst customProps = flattenTree( custom, '--wp--custom--', '--' );\n\t\tif ( customProps.length > 0 ) {\n\t\t\tdeclarations.push( ...customProps );\n\t\t}\n\n\t\tif ( declarations.length > 0 ) {\n\t\t\truleset = ruleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport const toStyles = (\n\ttree,\n\tblockSelectors,\n\thasBlockGapSupport,\n\thasFallbackGapSupport,\n\tdisableLayoutStyles = false\n) => {\n\tconst nodesWithStyles = getNodesWithStyles( tree, blockSelectors );\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\tconst useRootPaddingAlign = tree?.settings?.useRootPaddingAwareAlignments;\n\tconst { contentSize, wideSize } = tree?.settings?.layout || {};\n\n\t/*\n\t * Reset default browser margin on the root body element.\n\t * This is set on the root selector **before** generating the ruleset\n\t * from the `theme.json`. This is to ensure that if the `theme.json` declares\n\t * `margin` in its `spacing` declaration for the `body` element then these\n\t * user-generated values take precedence in the CSS cascade.\n\t * @link https://github.com/WordPress/gutenberg/issues/36147.\n\t */\n\tlet ruleset = 'body {margin: 0;';\n\n\tif ( contentSize ) {\n\t\truleset += ` --wp--style--global--content-size: ${ contentSize };`;\n\t}\n\n\tif ( wideSize ) {\n\t\truleset += ` --wp--style--global--wide-size: ${ wideSize };`;\n\t}\n\n\tif ( useRootPaddingAlign ) {\n\t\truleset += `padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) { padding-right: 0; padding-left: 0; }\n\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull { margin-right: 0; margin-left: 0; }\n\t\t\t.has-global-padding > .alignfull:where(:not(.has-global-padding)) > :where([class*=\"wp-block-\"]:not(.alignfull):not([class*=\"__\"]),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull:where(:not(.has-global-padding)) > :where([class*=\"wp-block-\"]:not(.alignfull):not([class*=\"__\"]),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: 0; padding-left: 0;`;\n\t}\n\n\truleset += '}';\n\n\tnodesWithStyles.forEach(\n\t\t( {\n\t\t\tselector,\n\t\t\tduotoneSelector,\n\t\t\tstyles,\n\t\t\tfallbackGapValue,\n\t\t\thasLayoutSupport,\n\t\t\tfeatureSelectors,\n\t\t\tstyleVariationSelectors,\n\t\t} ) => {\n\t\t\t// Process styles for block support features with custom feature level\n\t\t\t// CSS selectors set.\n\t\t\tif ( featureSelectors ) {\n\t\t\t\tObject.entries( featureSelectors ).forEach(\n\t\t\t\t\t( [ featureName, featureSelector ] ) => {\n\t\t\t\t\t\tif ( styles?.[ featureName ] ) {\n\t\t\t\t\t\t\tconst featureStyles = {\n\t\t\t\t\t\t\t\t[ featureName ]: styles[ featureName ],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconst featureDeclarations =\n\t\t\t\t\t\t\t\tgetStylesDeclarations( featureStyles );\n\t\t\t\t\t\t\tdelete styles[ featureName ];\n\n\t\t\t\t\t\t\tif ( !! featureDeclarations.length ) {\n\t\t\t\t\t\t\t\truleset =\n\t\t\t\t\t\t\t\t\truleset +\n\t\t\t\t\t\t\t\t\t`${ featureSelector }{${ featureDeclarations.join(\n\t\t\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t\t\t) } }`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( styleVariationSelectors ) {\n\t\t\t\tObject.entries( styleVariationSelectors ).forEach(\n\t\t\t\t\t( [ styleVariationName, styleVariationSelector ] ) => {\n\t\t\t\t\t\tif ( styles?.variations?.[ styleVariationName ] ) {\n\t\t\t\t\t\t\t// If the block uses any custom selectors for block support, add those first.\n\t\t\t\t\t\t\tif ( featureSelectors ) {\n\t\t\t\t\t\t\t\tObject.entries( featureSelectors ).forEach(\n\t\t\t\t\t\t\t\t\t( [ featureName, featureSelector ] ) => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tstyles?.variations?.[\n\t\t\t\t\t\t\t\t\t\t\t\tstyleVariationName\n\t\t\t\t\t\t\t\t\t\t\t]?.[ featureName ]\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tconst featureStyles = {\n\t\t\t\t\t\t\t\t\t\t\t\t[ featureName ]:\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.variations[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyleVariationName\n\t\t\t\t\t\t\t\t\t\t\t\t\t][ featureName ],\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tconst featureDeclarations =\n\t\t\t\t\t\t\t\t\t\t\t\tgetStylesDeclarations(\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeatureStyles\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tdelete styles.variations[\n\t\t\t\t\t\t\t\t\t\t\t\tstyleVariationName\n\t\t\t\t\t\t\t\t\t\t\t][ featureName ];\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t!! featureDeclarations.length\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\truleset =\n\t\t\t\t\t\t\t\t\t\t\t\t\truleset +\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${ concatFeatureVariationSelectorString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfeatureSelector,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyleVariationSelector\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }{${ featureDeclarations.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) } }`;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Otherwise add regular selectors.\n\t\t\t\t\t\t\tconst styleVariationDeclarations =\n\t\t\t\t\t\t\t\tgetStylesDeclarations(\n\t\t\t\t\t\t\t\t\tstyles?.variations?.[ styleVariationName ],\n\t\t\t\t\t\t\t\t\tstyleVariationSelector,\n\t\t\t\t\t\t\t\t\tuseRootPaddingAlign,\n\t\t\t\t\t\t\t\t\ttree\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( !! styleVariationDeclarations.length ) {\n\t\t\t\t\t\t\t\truleset =\n\t\t\t\t\t\t\t\t\truleset +\n\t\t\t\t\t\t\t\t\t`${ styleVariationSelector }{${ styleVariationDeclarations.join(\n\t\t\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t\t\t) }}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst duotoneStyles = {};\n\t\t\tif ( styles?.filter ) {\n\t\t\t\tduotoneStyles.filter = styles.filter;\n\t\t\t\tdelete styles.filter;\n\t\t\t}\n\n\t\t\t// Process duotone styles (they use color.__experimentalDuotone selector).\n\t\t\tif ( duotoneSelector ) {\n\t\t\t\tconst duotoneDeclarations =\n\t\t\t\t\tgetStylesDeclarations( duotoneStyles );\n\t\t\t\tif ( duotoneDeclarations.length > 0 ) {\n\t\t\t\t\truleset =\n\t\t\t\t\t\truleset +\n\t\t\t\t\t\t`${ duotoneSelector }{${ duotoneDeclarations.join(\n\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t) };}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Process blockGap and layout styles.\n\t\t\tif (\n\t\t\t\t! disableLayoutStyles &&\n\t\t\t\t( ROOT_BLOCK_SELECTOR === selector || hasLayoutSupport )\n\t\t\t) {\n\t\t\t\truleset += getLayoutStyles( {\n\t\t\t\t\ttree,\n\t\t\t\t\tstyle: styles,\n\t\t\t\t\tselector,\n\t\t\t\t\thasBlockGapSupport,\n\t\t\t\t\thasFallbackGapSupport,\n\t\t\t\t\tfallbackGapValue,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Process the remaining block styles (they use either normal block class or __experimentalSelector).\n\t\t\tconst declarations = getStylesDeclarations(\n\t\t\t\tstyles,\n\t\t\t\tselector,\n\t\t\t\tuseRootPaddingAlign,\n\t\t\t\ttree\n\t\t\t);\n\t\t\tif ( declarations?.length ) {\n\t\t\t\truleset =\n\t\t\t\t\truleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t\t}\n\n\t\t\t// Check for pseudo selector in `styles` and handle separately.\n\t\t\tconst pseudoSelectorStyles = Object.entries( styles ).filter(\n\t\t\t\t( [ key ] ) => key.startsWith( ':' )\n\t\t\t);\n\n\t\t\tif ( pseudoSelectorStyles?.length ) {\n\t\t\t\tpseudoSelectorStyles.forEach(\n\t\t\t\t\t( [ pseudoKey, pseudoStyle ] ) => {\n\t\t\t\t\t\tconst pseudoDeclarations =\n\t\t\t\t\t\t\tgetStylesDeclarations( pseudoStyle );\n\n\t\t\t\t\t\tif ( ! pseudoDeclarations?.length ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `selector` maybe provided in a form\n\t\t\t\t\t\t// where block level selectors have sub element\n\t\t\t\t\t\t// selectors appended to them as a comma separated\n\t\t\t\t\t\t// string.\n\t\t\t\t\t\t// e.g. `h1 a,h2 a,h3 a,h4 a,h5 a,h6 a`;\n\t\t\t\t\t\t// Split and append pseudo selector to create\n\t\t\t\t\t\t// the proper rules to target the elements.\n\t\t\t\t\t\tconst _selector = selector\n\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t.map( ( sel ) => sel + pseudoKey )\n\t\t\t\t\t\t\t.join( ',' );\n\n\t\t\t\t\t\tconst pseudoRule = `${ _selector }{${ pseudoDeclarations.join(\n\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t) };}`;\n\n\t\t\t\t\t\truleset = ruleset + pseudoRule;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t);\n\n\t/* Add alignment / layout styles */\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .alignleft { float: left; margin-right: 2em; }';\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .alignright { float: right; margin-left: 2em; }';\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }';\n\n\tif ( hasBlockGapSupport ) {\n\t\t// Use fallback of `0.5em` just in case, however if there is blockGap support, there should nearly always be a real value.\n\t\tconst gapValue =\n\t\t\tgetGapCSSValue( tree?.styles?.spacing?.blockGap ) || '0.5em';\n\t\truleset =\n\t\t\truleset +\n\t\t\t'.wp-site-blocks > * { margin-block-start: 0; margin-block-end: 0; }';\n\t\truleset =\n\t\t\truleset +\n\t\t\t`.wp-site-blocks > * + * { margin-block-start: ${ gapValue }; }`;\n\t}\n\n\tnodesWithSettings.forEach( ( { selector, presets } ) => {\n\t\tif ( ROOT_BLOCK_SELECTOR === selector ) {\n\t\t\t// Do not add extra specificity for top-level classes.\n\t\t\tselector = '';\n\t\t}\n\n\t\tconst classes = getPresetsClasses( selector, presets );\n\t\tif ( ! isEmpty( classes ) ) {\n\t\t\truleset = ruleset + classes;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport function toSvgFilters( tree, blockSelectors ) {\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\treturn nodesWithSettings.flatMap( ( { presets } ) => {\n\t\treturn getPresetsSvgFilters( presets );\n\t} );\n}\n\nexport const getBlockSelectors = ( blockTypes, getBlockStyles ) => {\n\tconst result = {};\n\tblockTypes.forEach( ( blockType ) => {\n\t\tconst name = blockType.name;\n\t\tconst selector =\n\t\t\tblockType?.supports?.__experimentalSelector ??\n\t\t\t'.wp-block-' + name.replace( 'core/', '' ).replace( '/', '-' );\n\t\tconst duotoneSelector =\n\t\t\tblockType?.supports?.color?.__experimentalDuotone ?? null;\n\t\tconst hasLayoutSupport = !! blockType?.supports?.__experimentalLayout;\n\t\tconst fallbackGapValue =\n\t\t\tblockType?.supports?.spacing?.blockGap?.__experimentalDefault;\n\n\t\tconst blockStyleVariations = getBlockStyles( name );\n\t\tconst styleVariationSelectors = {};\n\t\tif ( blockStyleVariations?.length ) {\n\t\t\tblockStyleVariations.forEach( ( variation ) => {\n\t\t\t\tconst styleVariationSelector = `.is-style-${ variation.name }${ selector }`;\n\t\t\t\tstyleVariationSelectors[ variation.name ] =\n\t\t\t\t\tstyleVariationSelector;\n\t\t\t} );\n\t\t}\n\t\t// For each block support feature add any custom selectors.\n\t\tconst featureSelectors = {};\n\t\tObject.entries( BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS ).forEach(\n\t\t\t( [ featureKey, featureName ] ) => {\n\t\t\t\tconst featureSelector =\n\t\t\t\t\tblockType?.supports?.[ featureKey ]?.__experimentalSelector;\n\n\t\t\t\tif ( featureSelector ) {\n\t\t\t\t\tfeatureSelectors[ featureName ] = scopeSelector(\n\t\t\t\t\t\tselector,\n\t\t\t\t\t\tfeatureSelector\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tresult[ name ] = {\n\t\t\tduotoneSelector,\n\t\t\tfallbackGapValue,\n\t\t\tfeatureSelectors: Object.keys( featureSelectors ).length\n\t\t\t\t? featureSelectors\n\t\t\t\t: undefined,\n\t\t\thasLayoutSupport,\n\t\t\tname,\n\t\t\tselector,\n\t\t\tstyleVariationSelectors: Object.keys( styleVariationSelectors )\n\t\t\t\t.length\n\t\t\t\t? styleVariationSelectors\n\t\t\t\t: undefined,\n\t\t};\n\t} );\n\n\treturn result;\n};\n\n/**\n * If there is a separator block whose color is defined in theme.json via background,\n * update the separator color to the same value by using border color.\n *\n * @param {Object} config Theme.json configuration file object.\n * @return {Object} configTheme.json configuration file object updated.\n */\nfunction updateConfigWithSeparator( config ) {\n\tconst needsSeparatorStyleUpdate =\n\t\tconfig.styles?.blocks[ 'core/separator' ] &&\n\t\tconfig.styles?.blocks[ 'core/separator' ].color?.background &&\n\t\t! config.styles?.blocks[ 'core/separator' ].color?.text &&\n\t\t! config.styles?.blocks[ 'core/separator' ].border?.color;\n\tif ( needsSeparatorStyleUpdate ) {\n\t\treturn {\n\t\t\t...config,\n\t\t\tstyles: {\n\t\t\t\t...config.styles,\n\t\t\t\tblocks: {\n\t\t\t\t\t...config.styles.blocks,\n\t\t\t\t\t'core/separator': {\n\t\t\t\t\t\t...config.styles.blocks[ 'core/separator' ],\n\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t...config.styles.blocks[ 'core/separator' ].color,\n\t\t\t\t\t\t\ttext: config.styles?.blocks[ 'core/separator' ]\n\t\t\t\t\t\t\t\t.color.background,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\treturn config;\n}\n\nexport function useGlobalStylesOutput() {\n\tlet { merged: mergedConfig } = useContext( GlobalStylesContext );\n\n\tconst [ blockGap ] = useSetting( 'spacing.blockGap' );\n\tconst hasBlockGapSupport = blockGap !== null;\n\tconst hasFallbackGapSupport = ! hasBlockGapSupport; // This setting isn't useful yet: it exists as a placeholder for a future explicit fallback styles support.\n\tconst disableLayoutStyles = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn !! getSettings().disableLayoutStyles;\n\t} );\n\n\tconst getBlockStyles = useSelect( ( select ) => {\n\t\treturn select( blocksStore ).getBlockStyles;\n\t}, [] );\n\n\treturn useMemo( () => {\n\t\tif ( ! mergedConfig?.styles || ! mergedConfig?.settings ) {\n\t\t\treturn [];\n\t\t}\n\t\tmergedConfig = updateConfigWithSeparator( mergedConfig );\n\t\tconst blockSelectors = getBlockSelectors(\n\t\t\tgetBlockTypes(),\n\t\t\tgetBlockStyles\n\t\t);\n\t\tconst customProperties = toCustomProperties(\n\t\t\tmergedConfig,\n\t\t\tblockSelectors\n\t\t);\n\t\tconst globalStyles = toStyles(\n\t\t\tmergedConfig,\n\t\t\tblockSelectors,\n\t\t\thasBlockGapSupport,\n\t\t\thasFallbackGapSupport,\n\t\t\tdisableLayoutStyles\n\t\t);\n\n\t\tconst filters = toSvgFilters( mergedConfig, blockSelectors );\n\t\tconst stylesheets = [\n\t\t\t{\n\t\t\t\tcss: customProperties,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tcss: globalStyles,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t\t// Load custom CSS in own stylesheet so that any invalid CSS entered in the input won't break all the global styles in the editor.\n\t\t\t{\n\t\t\t\tcss: mergedConfig.styles.css ?? '',\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t];\n\n\t\treturn [ stylesheets, mergedConfig.settings, filters ];\n\t}, [\n\t\thasBlockGapSupport,\n\t\thasFallbackGapSupport,\n\t\tmergedConfig,\n\t\tdisableLayoutStyles,\n\t] );\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__unstableIframe as Iframe,\n\t__unstableEditorStyles as EditorStyles,\n} from '@wordpress/block-editor';\nimport {\n\t__unstableMotion as motion,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useReducedMotion, useResizeObserver } from '@wordpress/compose';\nimport { useState, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useStyle } from './hooks';\nimport { useGlobalStylesOutput } from './use-global-styles-output';\n\nconst firstFrame = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst midFrame = {\n\thover: {\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\topacity: 0.5,\n\t},\n};\n\nconst secondFrame = {\n\thover: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst normalizedWidth = 248;\nconst normalizedHeight = 152;\n\nconst normalizedColorSwatchSize = 32;\n\nconst StylesPreview = ( { label, isFocused, withHoverView } ) => {\n\tconst [ fontWeight ] = useStyle( 'typography.fontWeight' );\n\tconst [ fontFamily = 'serif' ] = useStyle( 'typography.fontFamily' );\n\tconst [ headingFontFamily = fontFamily ] = useStyle(\n\t\t'elements.h1.typography.fontFamily'\n\t);\n\tconst [ headingFontWeight = fontWeight ] = useStyle(\n\t\t'elements.h1.typography.fontWeight'\n\t);\n\tconst [ textColor = 'black' ] = useStyle( 'color.text' );\n\tconst [ headingColor = textColor ] = useStyle( 'elements.h1.color.text' );\n\tconst [ backgroundColor = 'white' ] = useStyle( 'color.background' );\n\tconst [ gradientValue ] = useStyle( 'color.gradient' );\n\tconst [ styles ] = useGlobalStylesOutput();\n\tconst disableMotion = useReducedMotion();\n\tconst [ coreColors ] = useSetting( 'color.palette.core' );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme' );\n\tconst [ customColors ] = useSetting( 'color.palette.custom' );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ containerResizeListener, { width } ] = useResizeObserver();\n\tconst ratio = width ? width / normalizedWidth : 1;\n\n\tconst paletteColors = ( themeColors ?? [] )\n\t\t.concat( customColors ?? [] )\n\t\t.concat( coreColors ?? [] );\n\tconst highlightedColors = paletteColors\n\t\t.filter(\n\t\t\t// we exclude these two colors because they are already visible in the preview.\n\t\t\t( { color } ) => color !== backgroundColor && color !== headingColor\n\t\t)\n\t\t.slice( 0, 2 );\n\n\t// Reset leaked styles from WP common.css and remove main content layout padding and border.\n\tconst editorStyles = useMemo( () => {\n\t\tif ( styles ) {\n\t\t\treturn [\n\t\t\t\t...styles,\n\t\t\t\t{\n\t\t\t\t\tcss: 'html{overflow:hidden}body{min-width: 0;padding: 0;border: none;}',\n\t\t\t\t\tisGlobalStyles: true,\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\treturn styles;\n\t}, [ styles ] );\n\n\treturn (\n\t\t<Iframe\n\t\t\tclassName=\"edit-site-global-styles-preview__iframe\"\n\t\t\thead={ <EditorStyles styles={ editorStyles } /> }\n\t\t\tstyle={ {\n\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\tvisibility: ! width ? 'hidden' : 'visible',\n\t\t\t} }\n\t\t\tonMouseEnter={ () => setIsHovered( true ) }\n\t\t\tonMouseLeave={ () => setIsHovered( false ) }\n\t\t\ttabIndex={ -1 }\n\t\t>\n\t\t\t{ containerResizeListener }\n\t\t\t<motion.div\n\t\t\t\tstyle={ {\n\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t} }\n\t\t\t\tinitial=\"start\"\n\t\t\t\tanimate={\n\t\t\t\t\t( isHovered || isFocused ) && ! disableMotion && label\n\t\t\t\t\t\t? 'hover'\n\t\t\t\t\t\t: 'start'\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ firstFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\tfontSize: 65 * ratio,\n\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tanimate={ { scale: 1, opacity: 1 } }\n\t\t\t\t\t\t\tinitial={ { scale: 0.1, opacity: 0 } }\n\t\t\t\t\t\t\ttransition={ { delay: 0.3, type: 'tween' } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAa\n\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t<VStack spacing={ 4 * ratio }>\n\t\t\t\t\t\t\t{ highlightedColors.map(\n\t\t\t\t\t\t\t\t( { slug, color }, index ) => (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\theight:\n\t\t\t\t\t\t\t\t\t\t\t\tnormalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\tratio,\n\t\t\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\t\t\tnormalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\tratio,\n\t\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\t\tborderRadius:\n\t\t\t\t\t\t\t\t\t\t\t\t( normalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\t\tratio ) /\n\t\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tanimate={ { scale: 1, opacity: 1 } }\n\t\t\t\t\t\t\t\t\t\tinitial={ { scale: 0.1, opacity: 0 } }\n\t\t\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\t\t\tdelay: index === 1 ? 0.2 : 0.1,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ withHoverView && midFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tfilter: 'blur(60px)',\n\t\t\t\t\t\topacity: 0.1,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ paletteColors\n\t\t\t\t\t\t\t.slice( 0, 4 )\n\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ secondFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 3 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\tpadding: 10 * ratio,\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tfontSize: 40 * ratio,\n\t\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t\t\tlineHeight: '1em',\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</motion.div>\n\t\t\t</motion.div>\n\t\t</Iframe>\n\t);\n};\n\nexport default StylesPreview;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tCardBody,\n\tCard,\n\tCardDivider,\n\tCardMedia,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport ContextMenu from './context-menu';\nimport StylesPreview from './preview';\n\nfunction ScreenRoot() {\n\tconst { variations } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations:\n\t\t\t\tselect(\n\t\t\t\t\tcoreStore\n\t\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\t\t};\n\t}, [] );\n\n\tconst __experimentalGlobalStylesCustomCSS =\n\t\twindow?.__experimentalEnableGlobalStylesCustomCSS;\n\treturn (\n\t\t<Card size=\"small\">\n\t\t\t<CardBody>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<CardMedia>\n\t\t\t\t\t\t\t<StylesPreview />\n\t\t\t\t\t\t</CardMedia>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{ !! variations?.length && (\n\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\t\t\tpath=\"/variations\"\n\t\t\t\t\t\t\t\taria-label={ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<ContextMenu />\n\t\t\t\t</VStack>\n\t\t\t</CardBody>\n\n\t\t\t<CardDivider />\n\n\t\t\t<CardBody>\n\t\t\t\t<Spacer\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tpaddingTop={ 2 }\n\t\t\t\t\t/*\n\t\t\t\t\t * 13px matches the text inset of the NavigationButton (12px padding, plus the width of the button's border).\n\t\t\t\t\t * This is an ad hoc override for this instance and the Addtional CSS option below. Other options for matching the\n\t\t\t\t\t * the nav button inset should be looked at before reusing further.\n\t\t\t\t\t */\n\t\t\t\t\tpaddingX=\"13px\"\n\t\t\t\t\tmarginBottom={ 4 }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Customize the appearance of specific blocks for the whole site.'\n\t\t\t\t\t) }\n\t\t\t\t</Spacer>\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\tpath=\"/blocks\"\n\t\t\t\t\t\taria-label={ __( 'Blocks styles' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Blocks' ) }</FlexItem>\n\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t</ItemGroup>\n\t\t\t</CardBody>\n\n\t\t\t{ __experimentalGlobalStylesCustomCSS && (\n\t\t\t\t<>\n\t\t\t\t\t<CardDivider />\n\t\t\t\t\t<CardBody>\n\t\t\t\t\t\t<Spacer\n\t\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t\t\tpaddingTop={ 2 }\n\t\t\t\t\t\t\tpaddingX=\"13px\"\n\t\t\t\t\t\t\tmarginBottom={ 4 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Add your own CSS to customize the appearance and layout of your site.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\t\t\tpath=\"/css\"\n\t\t\t\t\t\t\t\taria-label={ __( 'Additional CSS' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t<FlexItem>{ __( 'Custom' ) }</FlexItem>\n\t\t\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</CardBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Card>\n\t);\n}\n\nexport default ScreenRoot;\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport {\n\tFlexItem,\n\tSearchControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo, useEffect, useRef } from '@wordpress/element';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport { useHasVariationsPanel } from './variations-panel';\nimport ScreenHeader from './header';\nimport { NavigationButtonAsItem } from './navigation-button';\n\nfunction useSortedBlockTypes() {\n\tconst blockItems = useSelect(\n\t\t( select ) => select( blocksStore ).getBlockTypes(),\n\t\t[]\n\t);\n\t// Ensure core blocks are prioritized in the returned results,\n\t// because third party blocks can be registered earlier than\n\t// the core blocks (usually by using the `init` action),\n\t// thus affecting the display order.\n\t// We don't sort reusable blocks as they are handled differently.\n\tconst groupByType = ( blocks, block ) => {\n\t\tconst { core, noncore } = blocks;\n\t\tconst type = block.name.startsWith( 'core/' ) ? core : noncore;\n\t\ttype.push( block );\n\t\treturn blocks;\n\t};\n\tconst { core: coreItems, noncore: nonCoreItems } = blockItems.reduce(\n\t\tgroupByType,\n\t\t{ core: [], noncore: [] }\n\t);\n\treturn [ ...coreItems, ...nonCoreItems ];\n}\n\nfunction BlockMenuItem( { block } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( block.name );\n\tconst hasColorPanel = useHasColorPanel( block.name );\n\tconst hasBorderPanel = useHasBorderPanel( block.name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( block.name );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\tconst hasVariationsPanel = useHasVariationsPanel( block.name );\n\tconst hasBlockMenuItem =\n\t\thasTypographyPanel ||\n\t\thasColorPanel ||\n\t\thasLayoutPanel ||\n\t\thasVariationsPanel;\n\n\tif ( ! hasBlockMenuItem ) {\n\t\treturn null;\n\t}\n\n\tconst navigationButtonLabel = sprintf(\n\t\t// translators: %s: is the name of a block e.g., 'Image' or 'Table'.\n\t\t__( '%s block styles' ),\n\t\tblock.title\n\t);\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ '/blocks/' + encodeURIComponent( block.name ) }\n\t\t\taria-label={ navigationButtonLabel }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<BlockIcon icon={ block.icon } />\n\t\t\t\t<FlexItem>{ block.title }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenBlockList() {\n\tconst sortedBlockTypes = useSortedBlockTypes();\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\tconst isMatchingSearchTerm = useSelect(\n\t\t( select ) => select( blocksStore ).isMatchingSearchTerm,\n\t\t[]\n\t);\n\tconst filteredBlockTypes = useMemo( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn sortedBlockTypes;\n\t\t}\n\t\treturn sortedBlockTypes.filter( ( blockType ) =>\n\t\t\tisMatchingSearchTerm( blockType, filterValue )\n\t\t);\n\t}, [ filterValue, sortedBlockTypes, isMatchingSearchTerm ] );\n\n\tconst blockTypesListRef = useRef();\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn;\n\t\t}\n\t\t// We extract the results from the wrapper div's `ref` because\n\t\t// filtered items can contain items that will eventually not\n\t\t// render and there is no reliable way to detect when a child\n\t\t// will return `null`.\n\t\t// TODO: We should find a better way of handling this as it's\n\t\t// fragile and depends on the number of rendered elements of `BlockMenuItem`,\n\t\t// which is now one.\n\t\t// @see https://github.com/WordPress/gutenberg/pull/39117#discussion_r816022116\n\t\tconst count = blockTypesListRef.current.childElementCount;\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', count ),\n\t\t\tcount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage, count );\n\t}, [ filterValue, debouncedSpeak ] );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Blocks' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of specific blocks and for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<SearchControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tclassName=\"edit-site-block-types-search\"\n\t\t\t\tonChange={ setFilterValue }\n\t\t\t\tvalue={ filterValue }\n\t\t\t\tlabel={ __( 'Search for blocks' ) }\n\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tref={ blockTypesListRef }\n\t\t\t\tclassName=\"edit-site-block-types-item-list\"\n\t\t\t>\n\t\t\t\t{ filteredBlockTypes.map( ( block ) => (\n\t\t\t\t\t<BlockMenuItem\n\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\tkey={ 'menu-itemblock-' + block.name }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenBlockList;\n","/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ContextMenu from './context-menu';\nimport ScreenHeader from './header';\nimport BlockPreviewPanel from './block-preview-panel';\n\nfunction ScreenBlock( { name } ) {\n\tconst blockType = getBlockType( name );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ blockType.title } />\n\t\t\t<BlockPreviewPanel name={ name } />\n\t\t\t<ContextMenu\n\t\t\t\tparentMenu={ '/blocks/' + encodeURIComponent( name ) }\n\t\t\t\tname={ name }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenBlock;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useStyle } from './hooks';\nimport Subtitle from './subtitle';\nimport TypographyPanel from './typography-panel';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { getVariationClassNameFromPath } from './utils';\n\nfunction Item( { name, parentMenu, element, label } ) {\n\tconst hasSupport = ! name;\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\tconst navigationButtonLabel = sprintf(\n\t\t// translators: %s: is a subset of Typography, e.g., 'text' or 'links'.\n\t\t__( 'Typography %s styles' ),\n\t\tlabel\n\t);\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/typography/' + element }\n\t\t\taria-label={ navigationButtonLabel }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem\n\t\t\t\t\tclassName=\"edit-site-global-styles-screen-typography__indicator\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\tletterSpacing,\n\t\t\t\t\t\t...extraStyles,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Aa' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ label }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenTypography( { name, variationPath = '' } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\tconst variationClassName = getVariationClassNameFromPath( variationPath );\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Typography' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage the typography settings for different elements.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<BlockPreviewPanel name={ name } variation={ variationClassName } />\n\n\t\t\t{ ! name && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-typography\">\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"text\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"link\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Links' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"heading\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Headings' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"button\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Buttons' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ /* No typography elements support yet for blocks. */ }\n\t\t\t{ !! name && (\n\t\t\t\t<TypographyPanel\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\telement=\"text\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenTypography;\n","/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\nexport default function TypographyPreview( { name, element, headingLevel } ) {\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\tconst [ fontSize ] = useStyle( prefix + 'typography.fontSize', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"edit-site-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\tcolor,\n\t\t\t\tfontSize,\n\t\t\t\tfontStyle,\n\t\t\t\tfontWeight,\n\t\t\t\tletterSpacing,\n\t\t\t\t...extraStyles,\n\t\t\t} }\n\t\t>\n\t\t\tAa\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport TypographyPanel from './typography-panel';\nimport ScreenHeader from './header';\nimport TypographyPreview from './typography-preview';\n\nconst elements = {\n\ttext: {\n\t\tdescription: __( 'Manage the fonts used on the site.' ),\n\t\ttitle: __( 'Text' ),\n\t},\n\tlink: {\n\t\tdescription: __( 'Manage the fonts and typography used on the links.' ),\n\t\ttitle: __( 'Links' ),\n\t},\n\theading: {\n\t\tdescription: __( 'Manage the fonts and typography used on headings.' ),\n\t\ttitle: __( 'Headings' ),\n\t},\n\tbutton: {\n\t\tdescription: __( 'Manage the fonts and typography used on buttons.' ),\n\t\ttitle: __( 'Buttons' ),\n\t},\n};\n\nfunction ScreenTypographyElement( { name, element } ) {\n\tconst [ headingLevel, setHeadingLevel ] = useState( 'heading' );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ elements[ element ].title }\n\t\t\t\tdescription={ elements[ element ].description }\n\t\t\t/>\n\t\t\t<Spacer marginX={ 4 }>\n\t\t\t\t<TypographyPreview\n\t\t\t\t\tname={ name }\n\t\t\t\t\telement={ element }\n\t\t\t\t\theadingLevel={ headingLevel }\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t\t{ element === 'heading' && (\n\t\t\t\t<Spacer marginX={ 4 } marginBottom=\"1em\">\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ headingLevel }\n\t\t\t\t\t\tonChange={ setHeadingLevel }\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t\t/* translators: 'All' refers to selecting all heading levels \n\t\t\t\t\t\t\tand applying the same style to h1-h6. */\n\t\t\t\t\t\t\tlabel={ __( 'All' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h1\"\n\t\t\t\t\t\t\tlabel={ __( 'H1' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h2\"\n\t\t\t\t\t\t\tlabel={ __( 'H2' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h3\"\n\t\t\t\t\t\t\tlabel={ __( 'H3' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h4\"\n\t\t\t\t\t\t\tlabel={ __( 'H4' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h5\"\n\t\t\t\t\t\t\tlabel={ __( 'H5' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h6\"\n\t\t\t\t\t\t\tlabel={ __( 'H6' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</Spacer>\n\t\t\t) }\n\t\t\t<TypographyPanel\n\t\t\t\tname={ name }\n\t\t\t\telement={ element }\n\t\t\t\theadingLevel={ headingLevel }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypographyElement;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst shuffle = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/SVG\">\n\t\t<Path d=\"M17.192 6.75L15.47 5.03l1.06-1.06 3.537 3.53-3.537 3.53-1.06-1.06 1.723-1.72h-3.19c-.602 0-.993.202-1.28.498-.309.319-.538.792-.695 1.383-.13.488-.222 1.023-.296 1.508-.034.664-.116 1.413-.303 2.117-.193.721-.513 1.467-1.068 2.04-.575.594-1.359.954-2.357.954H4v-1.5h4.003c.601 0 .993-.202 1.28-.498.308-.319.538-.792.695-1.383.149-.557.216-1.093.288-1.662l.039-.31a9.653 9.653 0 0 1 .272-1.653c.193-.722.513-1.467 1.067-2.04.576-.594 1.36-.954 2.358-.954h3.19zM8.004 6.75c.8 0 1.46.23 1.988.628a6.24 6.24 0 0 0-.684 1.396 1.725 1.725 0 0 0-.024-.026c-.287-.296-.679-.498-1.28-.498H4v-1.5h4.003zM12.699 14.726c-.161.459-.38.94-.684 1.396.527.397 1.188.628 1.988.628h3.19l-1.722 1.72 1.06 1.06L20.067 16l-3.537-3.53-1.06 1.06 1.723 1.72h-3.19c-.602 0-.993-.202-1.28-.498a1.96 1.96 0 0 1-.024-.026z\" />\n\t</SVG>\n);\n\nexport default shuffle;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Flex } from '@wordpress/components';\n\nfunction ColorIndicatorWrapper( { className, ...props } ) {\n\treturn (\n\t\t<Flex\n\t\t\tclassName={ classnames(\n\t\t\t\t'edit-site-global-styles__color-indicator-wrapper',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default ColorIndicatorWrapper;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\tColorIndicator,\n\tButton,\n} from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { shuffle } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Subtitle from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useColorRandomizer, useSetting } from './hooks';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\n\nconst EMPTY_COLORS = [];\n\nfunction Palette( { name } ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom' );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme' );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default' );\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst [ randomizeThemeColors ] = useColorRandomizer();\n\n\tconst colors = useMemo(\n\t\t() => [\n\t\t\t...( customColors || EMPTY_COLORS ),\n\t\t\t...( themeColors || EMPTY_COLORS ),\n\t\t\t...( defaultColors && defaultPaletteEnabled\n\t\t\t\t? defaultColors\n\t\t\t\t: EMPTY_COLORS ),\n\t\t],\n\t\t[ customColors, themeColors, defaultColors, defaultPaletteEnabled ]\n\t);\n\n\tconst screenPath = ! name\n\t\t? '/colors/palette'\n\t\t: '/blocks/' + encodeURIComponent( name ) + '/colors/palette';\n\tconst paletteButtonText =\n\t\tcolors.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t// Translators: %d: Number of palette colors.\n\t\t\t\t\t_n( '%d color', '%d colors', colors.length ),\n\t\t\t\t\tcolors.length\n\t\t\t  )\n\t\t\t: __( 'Add custom colors' );\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle>{ __( 'Palette' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\tpath={ screenPath }\n\t\t\t\t\taria-label={ __( 'Color palettes' ) }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tdirection={\n\t\t\t\t\t\t\tcolors.length === 0 ? 'row-reverse' : 'row'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t\t\t{ colors\n\t\t\t\t\t\t\t\t.slice( 0, 5 )\n\t\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t\t<ColorIndicatorWrapper\n\t\t\t\t\t\t\t\t\t\tkey={ `${ color }-${ index }` }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</ZStack>\n\t\t\t\t\t\t<FlexItem>{ paletteButtonText }</FlexItem>\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t\t{ randomizeThemeColors && (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ticon={ shuffle }\n\t\t\t\t\tonClick={ randomizeThemeColors }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Randomize colors' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default Palette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalZStack as ZStack,\n\tFlexItem,\n\tColorIndicator,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport Palette from './palette';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { getSupportedGlobalStylesPanels, useStyle } from './hooks';\nimport Subtitle from './subtitle';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { getVariationClassNameFromPath } from './utils';\n\nfunction variationPathToURL( variationPath ) {\n\tif ( ! variationPath ) {\n\t\treturn '';\n\t}\n\t// Replace the dots with slashes, add slash at the beginning and remove the last slash.\n\treturn '/' + variationPath.replace( /\\./g, '/' ).slice( 0, -1 );\n}\n\nfunction BackgroundColorItem( { name, parentMenu, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport =\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' );\n\tconst [ backgroundColor ] = useStyle(\n\t\tvariationPath + 'color.background',\n\t\tname\n\t);\n\tconst [ gradientValue ] = useStyle(\n\t\tvariationPath + 'color.gradient',\n\t\tname\n\t);\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={\n\t\t\t\tparentMenu +\n\t\t\t\tvariationPathToURL( variationPath ) +\n\t\t\t\t'/colors/background'\n\t\t\t}\n\t\t\taria-label={ __( 'Colors background styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\tcolorValue={ gradientValue ?? backgroundColor }\n\t\t\t\t\t\tdata-testid=\"background-color-indicator\"\n\t\t\t\t\t/>\n\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Background' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction TextColorItem( { name, parentMenu, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'color' );\n\tconst [ color ] = useStyle( variationPath + 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={\n\t\t\t\tparentMenu +\n\t\t\t\tvariationPathToURL( variationPath ) +\n\t\t\t\t'/colors/text'\n\t\t\t}\n\t\t\taria-label={ __( 'Colors text styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\tdata-testid=\"text-color-indicator\"\n\t\t\t\t\t/>\n\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Text' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction LinkColorItem( { name, parentMenu, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'linkColor' );\n\tconst [ color ] = useStyle(\n\t\tvariationPath + 'elements.link.color.text',\n\t\tname\n\t);\n\tconst [ colorHover ] = useStyle(\n\t\tvariationPath + 'elements.link.:hover.color.text',\n\t\tname\n\t);\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={\n\t\t\t\tparentMenu +\n\t\t\t\tvariationPathToURL( variationPath ) +\n\t\t\t\t'/colors/link'\n\t\t\t}\n\t\t\taria-label={ __( 'Colors link styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ colorHover } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Links' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction HeadingColorItem( { name, parentMenu, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'color' );\n\tconst [ color ] = useStyle(\n\t\tvariationPath + 'elements.heading.color.text',\n\t\tname\n\t);\n\tconst [ bgColor ] = useStyle(\n\t\tvariationPath + 'elements.heading.color.background',\n\t\tname\n\t);\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={\n\t\t\t\tparentMenu +\n\t\t\t\tvariationPathToURL( variationPath ) +\n\t\t\t\t'/colors/heading'\n\t\t\t}\n\t\t\taria-label={ __( 'Colors heading styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ bgColor } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem>{ __( 'Headings' ) }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ButtonColorItem( { name, parentMenu, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'buttonColor' );\n\tconst [ color ] = useStyle(\n\t\tvariationPath + 'elements.button.color.text',\n\t\tname\n\t);\n\tconst [ bgColor ] = useStyle(\n\t\tvariationPath + 'elements.button.color.background',\n\t\tname\n\t);\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={\n\t\t\t\tparentMenu +\n\t\t\t\tvariationPathToURL( variationPath ) +\n\t\t\t\t'/colors/button'\n\t\t\t}\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ bgColor } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Buttons' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenColors( { name, variationPath = '' } ) {\n\tconst parentMenu =\n\t\tname === undefined ? '' : '/blocks/' + encodeURIComponent( name );\n\tconst variationClassName = getVariationClassNameFromPath( variationPath );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Colors' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage palettes and the default color of different global elements on the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<BlockPreviewPanel name={ name } variation={ variationClassName } />\n\n\t\t\t<div className=\"edit-site-global-styles-screen-colors\">\n\t\t\t\t<VStack spacing={ 10 }>\n\t\t\t\t\t<Palette name={ name } />\n\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<BackgroundColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<LinkColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HeadingColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ButtonColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenColors;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\n\nexport default function ColorPalettePanel( { name } ) {\n\tconst [ themeColors, setThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\tconst [ baseThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultColors, setDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname\n\t);\n\tconst [ baseDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customColors, setCustomColors ] = useSetting(\n\t\t'color.palette.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-color-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeColors && !! themeColors.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeColors !== baseThemeColors }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tcolors={ themeColors }\n\t\t\t\t\tonChange={ setThemeColors }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultColors &&\n\t\t\t\t!! defaultColors.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultColors !== baseDefaultColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ defaultColors }\n\t\t\t\t\t\tonChange={ setDefaultColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tcolors={ customColors }\n\t\t\t\tonChange={ setCustomColors }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom colors are empty! Add some colors to create your own color palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalSpacer as Spacer,\n\tDuotonePicker,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\nimport Subtitle from './subtitle';\n\nconst noop = () => {};\n\nexport default function GradientPalettePanel( { name } ) {\n\tconst [ themeGradients, setThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname\n\t);\n\tconst [ baseThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultGradients, setDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname\n\t);\n\tconst [ baseDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customGradients, setCustomGradients ] = useSetting(\n\t\t'color.gradients.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultGradients',\n\t\tname\n\t);\n\n\tconst [ customDuotone ] = useSetting( 'color.duotone.custom' ) || [];\n\tconst [ defaultDuotone ] = useSetting( 'color.duotone.default' ) || [];\n\tconst [ themeDuotone ] = useSetting( 'color.duotone.theme' ) || [];\n\tconst [ defaultDuotoneEnabled ] = useSetting( 'color.defaultDuotone' );\n\n\tconst duotonePalette = [\n\t\t...( customDuotone || [] ),\n\t\t...( themeDuotone || [] ),\n\t\t...( defaultDuotone && defaultDuotoneEnabled ? defaultDuotone : [] ),\n\t];\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-gradient-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeGradients && !! themeGradients.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeGradients !== baseThemeGradients }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tgradients={ themeGradients }\n\t\t\t\t\tonChange={ setThemeGradients }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultGradients &&\n\t\t\t\t!! defaultGradients.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultGradients !== baseDefaultGradients }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tgradients={ defaultGradients }\n\t\t\t\t\t\tonChange={ setDefaultGradients }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tgradients={ customGradients }\n\t\t\t\tonChange={ setCustomGradients }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom gradients are empty! Add some gradients to create your own palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t\t{ !! duotonePalette && !! duotonePalette.length && (\n\t\t\t\t<div>\n\t\t\t\t\t<Subtitle>{ __( 'Duotone' ) }</Subtitle>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<DuotonePicker\n\t\t\t\t\t\tduotonePalette={ duotonePalette }\n\t\t\t\t\t\tdisableCustomDuotone={ true }\n\t\t\t\t\t\tdisableCustomColors={ true }\n\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\tonChange={ noop }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TabPanel } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ColorPalettePanel from './color-palette-panel';\nimport GradientPalettePanel from './gradients-palette-panel';\nimport ScreenHeader from './header';\n\nfunction ScreenColorPalette( { name } ) {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Palette' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Palettes are used to provide default color options for blocks and various design tools. Here you can edit the colors with their labels.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<TabPanel\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'solid',\n\t\t\t\t\t\ttitle: 'Solid',\n\t\t\t\t\t\tvalue: 'solid',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'gradient',\n\t\t\t\t\t\ttitle: 'Gradient',\n\t\t\t\t\t\tvalue: 'gradient',\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ ( tab ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ tab.value === 'solid' && (\n\t\t\t\t\t\t\t<ColorPalettePanel name={ name } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ tab.value === 'gradient' && (\n\t\t\t\t\t\t\t<GradientPalettePanel name={ name } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</TabPanel>\n\t\t</>\n\t);\n}\n\nexport default ScreenColorPalette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseColorsPerOrigin,\n\tuseGradientsPerOrigin,\n\tuseSetting,\n\tuseStyle,\n} from './hooks';\n\nfunction ScreenBackgroundColor( { name, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ gradients ] = useSetting( 'color.gradients', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ areCustomGradientsEnabled ] = useSetting(\n\t\t'color.customGradient',\n\t\tname\n\t);\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\tconst gradientsPerOrigin = useGradientsPerOrigin( name );\n\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst hasBackgroundColor =\n\t\tsupports.includes( 'backgroundColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\tconst hasGradientColor =\n\t\tsupports.includes( 'background' ) &&\n\t\t( gradients.length > 0 || areCustomGradientsEnabled );\n\tconst [ backgroundColor, setBackgroundColor ] = useStyle(\n\t\tvariationPath + 'color.background',\n\t\tname\n\t);\n\tconst [ userBackgroundColor ] = useStyle(\n\t\tvariationPath + 'color.background',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ gradient, setGradient ] = useStyle(\n\t\tvariationPath + 'color.gradient',\n\t\tname\n\t);\n\tconst [ userGradient ] = useStyle(\n\t\tvariationPath + 'color.gradient',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasBackgroundColor && ! hasGradientColor ) {\n\t\treturn null;\n\t}\n\n\tlet backgroundSettings = {};\n\tif ( hasBackgroundColor ) {\n\t\tbackgroundSettings = {\n\t\t\tcolorValue: backgroundColor,\n\t\t\tonColorChange: setBackgroundColor,\n\t\t};\n\t\tif ( backgroundColor ) {\n\t\t\tbackgroundSettings.clearable =\n\t\t\t\tbackgroundColor === userBackgroundColor;\n\t\t}\n\t}\n\n\tlet gradientSettings = {};\n\tif ( hasGradientColor ) {\n\t\tgradientSettings = {\n\t\t\tgradientValue: gradient,\n\t\t\tonGradientChange: setGradient,\n\t\t};\n\t\tif ( gradient ) {\n\t\t\tgradientSettings.clearable = gradient === userGradient;\n\t\t}\n\t}\n\n\tconst controlProps = {\n\t\t...backgroundSettings,\n\t\t...gradientSettings,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Background' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set a background color or gradient for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-background-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tgradients={ gradientsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tdisableCustomGradients={ ! areCustomGradientsEnabled }\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t{ ...controlProps }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenBackgroundColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenTextColor( { name, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ isTextEnabled ] = useSetting( 'color.text', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst hasTextColor =\n\t\tsupports.includes( 'color' ) &&\n\t\tisTextEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ color, setColor ] = useStyle( variationPath + 'color.text', name );\n\tconst [ userColor ] = useStyle(\n\t\tvariationPath + 'color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasTextColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Text' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for text across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-text-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ color }\n\t\t\t\tonColorChange={ setColor }\n\t\t\t\tclearable={ color === userColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTextColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\nimport { TabPanel } from '@wordpress/components';\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenLinkColor( { name, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst [ isLinkEnabled ] = useSetting( 'color.link', name );\n\n\tconst hasLinkColor =\n\t\tsupports.includes( 'linkColor' ) &&\n\t\tisLinkEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst pseudoStates = {\n\t\tdefault: {\n\t\t\tlabel: __( 'Default' ),\n\t\t\tvalue: useStyle(\n\t\t\t\tvariationPath + 'elements.link.color.text',\n\t\t\t\tname\n\t\t\t)[ 0 ],\n\t\t\thandler: useStyle(\n\t\t\t\tvariationPath + 'elements.link.color.text',\n\t\t\t\tname\n\t\t\t)[ 1 ],\n\t\t\tuserValue: useStyle(\n\t\t\t\tvariationPath + 'elements.link.color.text',\n\t\t\t\tname,\n\t\t\t\t'user'\n\t\t\t)[ 0 ],\n\t\t},\n\t\thover: {\n\t\t\tlabel: __( 'Hover' ),\n\t\t\tvalue: useStyle(\n\t\t\t\tvariationPath + 'elements.link.:hover.color.text',\n\t\t\t\tname\n\t\t\t)[ 0 ],\n\t\t\thandler: useStyle(\n\t\t\t\tvariationPath + 'elements.link.:hover.color.text',\n\t\t\t\tname\n\t\t\t)[ 1 ],\n\t\t\tuserValue: useStyle(\n\t\t\t\tvariationPath + 'elements.link.:hover.color.text',\n\t\t\t\tname,\n\t\t\t\t'user'\n\t\t\t)[ 0 ],\n\t\t},\n\t};\n\n\tif ( ! hasLinkColor ) {\n\t\treturn null;\n\t}\n\n\tconst tabs = Object.entries( pseudoStates ).map(\n\t\t( [ selector, config ] ) => {\n\t\t\treturn {\n\t\t\t\tname: selector,\n\t\t\t\ttitle: config.label,\n\t\t\t\tclassName: `color-text-${ selector }`,\n\t\t\t};\n\t\t}\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Links' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the colors used for links across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<TabPanel tabs={ tabs }>\n\t\t\t\t{ ( tab ) => {\n\t\t\t\t\tconst pseudoSelectorConfig =\n\t\t\t\t\t\tpseudoStates[ tab.name ] ?? null;\n\n\t\t\t\t\tif ( ! pseudoSelectorConfig ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\t\t\tclassName=\"edit-site-screen-link-color__control\"\n\t\t\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\t\t\tcolorValue={ pseudoSelectorConfig.value }\n\t\t\t\t\t\t\t\tonColorChange={ pseudoSelectorConfig.handler }\n\t\t\t\t\t\t\t\tclearable={\n\t\t\t\t\t\t\t\t\tpseudoSelectorConfig.value ===\n\t\t\t\t\t\t\t\t\tpseudoSelectorConfig.userValue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t</TabPanel>\n\t\t</>\n\t);\n}\n\nexport default ScreenLinkColor;\n","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n\tuseGradientsPerOrigin,\n} from './hooks';\n\nfunction ScreenHeadingColor( { name, variationPath = '' } ) {\n\tconst [ selectedLevel, setCurrentTab ] = useState( 'heading' );\n\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ gradients ] = useSetting( 'color.gradients', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ areCustomGradientsEnabled ] = useSetting(\n\t\t'color.customGradient',\n\t\tname\n\t);\n\tconst [ isTextEnabled ] = useSetting( 'color.text', name );\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\tconst gradientsPerOrigin = useGradientsPerOrigin( name );\n\n\tconst hasTextColor =\n\t\tsupports.includes( 'color' ) &&\n\t\tisTextEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst hasBackgroundColor =\n\t\tsupports.includes( 'backgroundColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\tconst hasGradientColor =\n\t\tsupports.includes( 'background' ) &&\n\t\t( gradients.length > 0 || areCustomGradientsEnabled );\n\n\tconst [ color, setColor ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.text',\n\t\tname\n\t);\n\tconst [ userColor ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tconst [ backgroundColor, setBackgroundColor ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.background',\n\t\tname\n\t);\n\tconst [ userBackgroundColor ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.background',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ gradient, setGradient ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.gradient',\n\t\tname\n\t);\n\tconst [ userGradient ] = useStyle(\n\t\tvariationPath + 'elements.' + selectedLevel + '.color.gradient',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasTextColor && ! hasBackgroundColor && ! hasGradientColor ) {\n\t\treturn null;\n\t}\n\n\tlet backgroundSettings = {};\n\tif ( hasBackgroundColor ) {\n\t\tbackgroundSettings = {\n\t\t\tcolorValue: backgroundColor,\n\t\t\tonColorChange: setBackgroundColor,\n\t\t};\n\t\tif ( backgroundColor ) {\n\t\t\tbackgroundSettings.clearable =\n\t\t\t\tbackgroundColor === userBackgroundColor;\n\t\t}\n\t}\n\n\tlet gradientSettings = {};\n\tif ( hasGradientColor ) {\n\t\tgradientSettings = {\n\t\t\tgradientValue: gradient,\n\t\t\tonGradientChange: setGradient,\n\t\t};\n\t\tif ( gradient ) {\n\t\t\tgradientSettings.clearable = gradient === userGradient;\n\t\t}\n\t}\n\n\tconst controlProps = {\n\t\t...backgroundSettings,\n\t\t...gradientSettings,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Headings' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for headings across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t<h4>{ __( 'Select heading level' ) }</h4>\n\n\t\t\t\t<ToggleGroupControl\n\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\thideLabelFromVision={ true }\n\t\t\t\t\tvalue={ selectedLevel }\n\t\t\t\t\tonChange={ setCurrentTab }\n\t\t\t\t\tisBlock\n\t\t\t\t>\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t/* translators: 'All' refers to selecting all heading levels\n\t\t\t\t\t\tand applying the same style to h1-h6. */\n\t\t\t\t\t\tlabel={ __( 'All' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleGroupControlOption value=\"h1\" label={ __( 'H1' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h2\" label={ __( 'H2' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h3\" label={ __( 'H3' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h4\" label={ __( 'H4' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h5\" label={ __( 'H5' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h6\" label={ __( 'H6' ) } />\n\t\t\t\t</ToggleGroupControl>\n\t\t\t</div>\n\t\t\t{ hasTextColor && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t{ selectedLevel === 'heading'\n\t\t\t\t\t\t\t? __( 'Text color for all heading levels' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: heading level (h1-h6) */\n\t\t\t\t\t\t\t\t\t__( 'Text color for %s' ),\n\t\t\t\t\t\t\t\t\tselectedLevel.toUpperCase()\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</h4>\n\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\tclassName=\"edit-site-screen-heading-text-color__control\"\n\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\tonColorChange={ setColor }\n\t\t\t\t\t\tclearable={ color === userColor }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ hasBackgroundColor && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t{ selectedLevel === 'heading'\n\t\t\t\t\t\t\t? __( 'Background color for all heading levels' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: heading level (h1-h6) */\n\t\t\t\t\t\t\t\t\t__( 'Background color for %s' ),\n\t\t\t\t\t\t\t\t\tselectedLevel.toUpperCase()\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</h4>\n\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\tclassName=\"edit-site-screen-heading-background-color__control\"\n\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\tgradients={ gradientsPerOrigin }\n\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\tdisableCustomGradients={ ! areCustomGradientsEnabled }\n\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\t{ ...controlProps }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenHeadingColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenButtonColor( { name, variationPath = '' } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst hasButtonColor =\n\t\tsupports.includes( 'buttonColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ buttonTextColor, setButtonTextColor ] = useStyle(\n\t\tvariationPath + 'elements.button.color.text',\n\t\tname\n\t);\n\tconst [ userButtonTextColor ] = useStyle(\n\t\t'elements.button.color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tconst [ buttonBgColor, setButtonBgColor ] = useStyle(\n\t\t'elements.button.color.background',\n\t\tname\n\t);\n\tconst [ userButtonBgColor ] = useStyle(\n\t\t'elements.button.color.background',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasButtonColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Buttons' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default colors used for buttons across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<h4 className=\"edit-site-global-styles-section-title\">\n\t\t\t\t{ __( 'Text color' ) }\n\t\t\t</h4>\n\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-button-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ buttonTextColor }\n\t\t\t\tonColorChange={ setButtonTextColor }\n\t\t\t\tclearable={ buttonTextColor === userButtonTextColor }\n\t\t\t/>\n\n\t\t\t<h4 className=\"edit-site-global-styles-section-title\">\n\t\t\t\t{ __( 'Background color' ) }\n\t\t\t</h4>\n\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-button-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ buttonBgColor }\n\t\t\t\tonColorChange={ setButtonBgColor }\n\t\t\t\tclearable={ buttonBgColor === userButtonBgColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenButtonColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport DimensionsPanel, { useHasDimensionsPanel } from './dimensions-panel';\nimport ScreenHeader from './header';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { getVariationClassNameFromPath } from './utils';\n\nfunction ScreenLayout( { name, variationPath = '' } ) {\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\tconst variationClassName = getVariationClassNameFromPath( variationPath );\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Layout' ) } />\n\t\t\t<BlockPreviewPanel name={ name } variation={ variationClassName } />\n\t\t\t{ hasDimensionsPanel && (\n\t\t\t\t<DimensionsPanel\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenLayout;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * External dependencies\n */\nimport { mergeWith, isEmpty, mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\n\nfunction mergeTreesCustomizer( _, srcValue ) {\n\t// We only pass as arrays the presets,\n\t// in which case we want the new array of values\n\t// to override the old array (no merging).\n\tif ( Array.isArray( srcValue ) ) {\n\t\treturn srcValue;\n\t}\n}\n\nexport function mergeBaseAndUserConfigs( base, user ) {\n\treturn mergeWith( {}, base, user, mergeTreesCustomizer );\n}\n\nconst cleanEmptyObject = ( object ) => {\n\tif (\n\t\tobject === null ||\n\t\ttypeof object !== 'object' ||\n\t\tArray.isArray( object )\n\t) {\n\t\treturn object;\n\t}\n\tconst cleanedNestedObjects = Object.fromEntries(\n\t\tObject.entries( mapValues( object, cleanEmptyObject ) ).filter(\n\t\t\t( [ , value ] ) => Boolean( value )\n\t\t)\n\t);\n\treturn isEmpty( cleanedNestedObjects ) ? undefined : cleanedNestedObjects;\n};\n\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, isReady, settings, styles } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _globalStylesId =\n\t\t\t\tselect( coreStore ).__experimentalGetCurrentGlobalStylesId();\n\t\t\tconst record = _globalStylesId\n\t\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId\n\t\t\t\t  )\n\t\t\t\t: undefined;\n\n\t\t\tlet hasResolved = false;\n\t\t\tif (\n\t\t\t\thasFinishedResolution(\n\t\t\t\t\t'__experimentalGetCurrentGlobalStylesId'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\thasResolved = _globalStylesId\n\t\t\t\t\t? hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t  ] )\n\t\t\t\t\t: true;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tglobalStylesId: _globalStylesId,\n\t\t\t\tisReady: hasResolved,\n\t\t\t\tsettings: record?.settings,\n\t\t\t\tstyles: record?.styles,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t};\n\t}, [ settings, styles ] );\n\n\tconst setConfig = useCallback(\n\t\t( callback, options = {} ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t};\n\t\t\tconst updatedConfig = callback( currentConfig );\n\t\t\teditEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId,\n\t\t\t\t{\n\t\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t\t},\n\t\t\t\toptions\n\t\t\t);\n\t\t},\n\t\t[ globalStylesId ]\n\t);\n\n\treturn [ isReady, config, setConfig ];\n}\n\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect( ( select ) => {\n\t\treturn select(\n\t\t\tcoreStore\n\t\t).__experimentalGetCurrentThemeBaseGlobalStyles();\n\t}, [] );\n\n\treturn [ !! baseConfig, baseConfig ];\n}\n\nfunction useGlobalStylesContext() {\n\tconst [ isUserConfigReady, userConfig, setUserConfig ] =\n\t\tuseGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! baseConfig || ! userConfig ) {\n\t\t\treturn {};\n\t\t}\n\t\treturn mergeBaseAndUserConfigs( baseConfig, userConfig );\n\t}, [ userConfig, baseConfig ] );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t\t\tuser: userConfig,\n\t\t\tbase: baseConfig,\n\t\t\tmerged: mergedConfig,\n\t\t\tsetUserConfig,\n\t\t};\n\t}, [\n\t\tmergedConfig,\n\t\tuserConfig,\n\t\tbaseConfig,\n\t\tsetUserConfig,\n\t\tisUserConfigReady,\n\t\tisBaseConfigReady,\n\t] );\n\n\treturn context;\n}\n\nexport function GlobalStylesProvider( { children } ) {\n\tconst context = useGlobalStylesContext();\n\tif ( ! context.isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseMemo,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseRef,\n} from '@wordpress/element';\nimport { ENTER } from '@wordpress/keycodes';\nimport {\n\t__experimentalGrid as Grid,\n\tCard,\n\tCardBody,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { mergeBaseAndUserConfigs } from './global-styles-provider';\nimport { GlobalStylesContext } from './context';\nimport StylesPreview from './preview';\nimport ScreenHeader from './header';\n\nfunction compareVariations( a, b ) {\n\treturn (\n\t\tfastDeepEqual( a.styles, b.styles ) &&\n\t\tfastDeepEqual( a.settings, b.settings )\n\t);\n}\n\nfunction Variation( { variation } ) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst { base, user, setUserConfig } = useContext( GlobalStylesContext );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\tstyles: variation.styles ?? {},\n\t\t\t},\n\t\t\tbase,\n\t\t\tmerged: mergeBaseAndUserConfigs( base, variation ),\n\t\t\tsetUserConfig: () => {},\n\t\t};\n\t}, [ variation, base ] );\n\n\tconst selectVariation = () => {\n\t\tsetUserConfig( () => {\n\t\t\treturn {\n\t\t\t\tsettings: variation.settings,\n\t\t\t\tstyles: variation.styles,\n\t\t\t};\n\t\t} );\n\t};\n\n\tconst selectOnEnter = ( event ) => {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tselectVariation();\n\t\t}\n\t};\n\n\tconst isActive = useMemo( () => {\n\t\treturn compareVariations( user, variation );\n\t}, [ user, variation ] );\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'edit-site-global-styles-variations_item',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-active': isActive,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\trole=\"button\"\n\t\t\t\tonClick={ selectVariation }\n\t\t\t\tonKeyDown={ selectOnEnter }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\taria-label={ variation?.title }\n\t\t\t\taria-current={ isActive }\n\t\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-global-styles-variations_item-preview\">\n\t\t\t\t\t<StylesPreview\n\t\t\t\t\t\tlabel={ variation?.title }\n\t\t\t\t\t\tisFocused={ isFocused }\n\t\t\t\t\t\twithHoverView\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n\nfunction ScreenStyleVariations() {\n\tconst { variations, mode } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations:\n\t\t\t\tselect(\n\t\t\t\t\tcoreStore\n\t\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\n\t\t\tmode: select( blockEditorStore ).__unstableGetEditorMode(),\n\t\t};\n\t}, [] );\n\n\tconst withEmptyVariation = useMemo( () => {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: __( 'Default' ),\n\t\t\t\tsettings: {},\n\t\t\t\tstyles: {},\n\t\t\t},\n\t\t\t...variations.map( ( variation ) => ( {\n\t\t\t\t...variation,\n\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\tstyles: variation.styles ?? {},\n\t\t\t} ) ),\n\t\t];\n\t}, [ variations ] );\n\n\tconst { __unstableSetEditorMode } = useDispatch( blockEditorStore );\n\tconst shouldRevertInitialMode = useRef( null );\n\tuseEffect( () => {\n\t\t// ignore changes to zoom-out mode as we explictily change to it on mount.\n\t\tif ( mode !== 'zoom-out' ) {\n\t\t\tshouldRevertInitialMode.current = false;\n\t\t}\n\t}, [ mode ] );\n\n\t// Intentionality left without any dependency.\n\t// This effect should only run the first time the component is rendered.\n\t// The effect opens the zoom-out view if it is not open before when applying a style variation.\n\tuseEffect( () => {\n\t\tif ( mode !== 'zoom-out' ) {\n\t\t\t__unstableSetEditorMode( 'zoom-out' );\n\t\t\tshouldRevertInitialMode.current = true;\n\t\t\treturn () => {\n\t\t\t\t// if there were not mode changes revert to the initial mode when unmounting.\n\t\t\t\tif ( shouldRevertInitialMode.current ) {\n\t\t\t\t\t__unstableSetEditorMode( mode );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\tback=\"/\"\n\t\t\t\ttitle={ __( 'Browse styles' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Choose a variation to change the look of the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<Card size=\"small\" isBorderless>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Grid columns={ 2 }>\n\t\t\t\t\t\t{ withEmptyVariation?.map( ( variation, index ) => (\n\t\t\t\t\t\t\t<Variation key={ index } variation={ variation } />\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</>\n\t);\n}\n\nexport default ScreenStyleVariations;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport BorderPanel, { useHasBorderPanel } from './border-panel';\nimport BlockPreviewPanel from './block-preview-panel';\nimport { getVariationClassNameFromPath } from './utils';\n\nfunction ScreenBorder( { name, variationPath = '' } ) {\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst variationClassName = getVariationClassNameFromPath( variationPath );\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Border' ) } />\n\t\t\t<BlockPreviewPanel name={ name } variation={ variationClassName } />\n\t\t\t{ hasBorderPanel && (\n\t\t\t\t<BorderPanel name={ name } variationPath={ variationPath } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenBorder;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tTabPanel,\n\tcreateSlotFill,\n\t__experimentalUseSlotFills as useSlotFills,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tgetCategories,\n\tgetBlockTypes,\n\tgetBlockFromExample,\n\tcreateBlock,\n} from '@wordpress/blocks';\nimport { BlockPreview } from '@wordpress/block-editor';\nimport { closeSmall } from '@wordpress/icons';\nimport { useResizeObserver } from '@wordpress/compose';\nimport { useMemo, memo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from '../global-styles';\n\nconst SLOT_FILL_NAME = 'EditSiteStyleBook';\nconst { Slot: StyleBookSlot, Fill: StyleBookFill } =\n\tcreateSlotFill( SLOT_FILL_NAME );\n\nfunction getExamples() {\n\t// Use our own example for the Heading block so that we can show multiple\n\t// heading levels.\n\tconst headingsExample = {\n\t\tname: 'core/heading',\n\t\ttitle: __( 'Headings' ),\n\t\tcategory: 'text',\n\t\tblocks: [\n\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\tcontent: __( 'Code Is Poetry' ),\n\t\t\t\tlevel: 1,\n\t\t\t} ),\n\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\tcontent: __( 'Code Is Poetry' ),\n\t\t\t\tlevel: 2,\n\t\t\t} ),\n\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\tcontent: __( 'Code Is Poetry' ),\n\t\t\t\tlevel: 3,\n\t\t\t} ),\n\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\tcontent: __( 'Code Is Poetry' ),\n\t\t\t\tlevel: 4,\n\t\t\t} ),\n\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\tcontent: __( 'Code Is Poetry' ),\n\t\t\t\tlevel: 5,\n\t\t\t} ),\n\t\t],\n\t};\n\n\tconst otherExamples = getBlockTypes()\n\t\t.filter(\n\t\t\t( blockType ) =>\n\t\t\t\tblockType.name !== 'core/heading' && !! blockType.example\n\t\t)\n\t\t.map( ( blockType ) => ( {\n\t\t\tname: blockType.name,\n\t\t\ttitle: blockType.title,\n\t\t\tcategory: blockType.category,\n\t\t\tblocks: getBlockFromExample( blockType.name, blockType.example ),\n\t\t} ) );\n\n\treturn [ headingsExample, ...otherExamples ];\n}\n\nfunction StyleBook( { isSelected, onSelect, onClose } ) {\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst [ textColor ] = useStyle( 'color.text' );\n\tconst [ backgroundColor ] = useStyle( 'color.background' );\n\tconst examples = useMemo( getExamples, [] );\n\tconst tabs = useMemo(\n\t\t() =>\n\t\t\tgetCategories()\n\t\t\t\t.filter( ( category ) =>\n\t\t\t\t\texamples.some(\n\t\t\t\t\t\t( example ) => example.category === category.slug\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( category ) => ( {\n\t\t\t\t\tname: category.slug,\n\t\t\t\t\ttitle: category.title,\n\t\t\t\t\ticon: category.icon,\n\t\t\t\t} ) ),\n\t\t[ examples ]\n\t);\n\treturn (\n\t\t<StyleBookFill>\n\t\t\t<section\n\t\t\t\tclassName={ classnames( 'edit-site-style-book', {\n\t\t\t\t\t'is-wide': sizes.width > 600,\n\t\t\t\t} ) }\n\t\t\t\tstyle={ {\n\t\t\t\t\tcolor: textColor,\n\t\t\t\t\tbackground: backgroundColor,\n\t\t\t\t} }\n\t\t\t\taria-label={ __( 'Style Book' ) }\n\t\t\t>\n\t\t\t\t{ resizeObserver }\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"edit-site-style-book__close-button\"\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close Style Book' ) }\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t/>\n\t\t\t\t<TabPanel\n\t\t\t\t\tclassName=\"edit-site-style-book__tab-panel\"\n\t\t\t\t\ttabs={ tabs }\n\t\t\t\t>\n\t\t\t\t\t{ ( tab ) => (\n\t\t\t\t\t\t<Examples\n\t\t\t\t\t\t\texamples={ examples }\n\t\t\t\t\t\t\tcategory={ tab.name }\n\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</TabPanel>\n\t\t\t</section>\n\t\t</StyleBookFill>\n\t);\n}\n\nconst Examples = memo( ( { examples, category, isSelected, onSelect } ) => (\n\t<div className=\"edit-site-style-book__examples\">\n\t\t{ examples\n\t\t\t.filter( ( example ) => example.category === category )\n\t\t\t.map( ( example ) => (\n\t\t\t\t<Example\n\t\t\t\t\tkey={ example.name }\n\t\t\t\t\ttitle={ example.title }\n\t\t\t\t\tblocks={ example.blocks }\n\t\t\t\t\tisSelected={ isSelected( example.name ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonSelect( example.name );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) ) }\n\t</div>\n) );\n\nconst Example = memo( ( { title, blocks, isSelected, onClick } ) => (\n\t<button\n\t\tclassName={ classnames( 'edit-site-style-book__example', {\n\t\t\t'is-selected': isSelected,\n\t\t} ) }\n\t\taria-label={ sprintf(\n\t\t\t// translators: %s: Title of a block, e.g. Heading.\n\t\t\t__( 'Open %s styles in Styles panel' ),\n\t\t\ttitle\n\t\t) }\n\t\tonClick={ onClick }\n\t>\n\t\t<span className=\"edit-site-style-book__example-title\">{ title }</span>\n\t\t<div className=\"edit-site-style-book__example-preview\">\n\t\t\t<BlockPreview\n\t\t\t\tblocks={ blocks }\n\t\t\t\tviewportWidth={ 0 }\n\t\t\t\t__experimentalStyles={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tcss:\n\t\t\t\t\t\t\t'.wp-block:first-child { margin-top: 0; }' +\n\t\t\t\t\t\t\t'.wp-block:last-child { margin-bottom: 0; }',\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t</div>\n\t</button>\n) );\n\nfunction useHasStyleBook() {\n\tconst fills = useSlotFills( SLOT_FILL_NAME );\n\treturn !! fills?.length;\n}\n\nStyleBook.Slot = StyleBookSlot;\nexport default StyleBook;\nexport { useHasStyleBook };\n","/**\n * WordPress dependencies\n */\nimport { TextareaControl, Panel, PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\nfunction CustomCSSControl() {\n\tconst [ customCSS, setCustomCSS ] = useStyle( 'css' );\n\tconst [ themeCSS ] = useStyle( 'css', null, 'base' );\n\tconst ignoreThemeCustomCSS = '/* IgnoreThemeCustomCSS */';\n\n\t// If there is custom css from theme.json show it in the edit box\n\t// so the user can selectively overwrite it, rather than have the user CSS\n\t// completely overwrite the theme CSS by default.\n\tconst themeCustomCSS =\n\t\t! customCSS && themeCSS\n\t\t\t? `/* ${ __(\n\t\t\t\t\t'Theme Custom CSS start'\n\t\t\t  ) } */\\n${ themeCSS }\\n/* ${ __( 'Theme Custom CSS end' ) } */`\n\t\t\t: undefined;\n\n\tfunction handleOnChange( value ) {\n\t\t// If there is theme custom CSS, but the user clears the input box then save the\n\t\t// ignoreThemeCustomCSS string so that the theme custom CSS is not re-applied.\n\t\tif ( themeCSS && value === '' ) {\n\t\t\tsetCustomCSS( ignoreThemeCustomCSS );\n\t\t\treturn;\n\t\t}\n\t\tsetCustomCSS( value );\n\t}\n\n\tconst originalThemeCustomCSS =\n\t\tthemeCSS && customCSS && themeCustomCSS !== customCSS\n\t\t\t? themeCSS\n\t\t\t: undefined;\n\n\treturn (\n\t\t<>\n\t\t\t<TextareaControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tvalue={\n\t\t\t\t\tcustomCSS?.replace( ignoreThemeCustomCSS, '' ) ||\n\t\t\t\t\tthemeCustomCSS\n\t\t\t\t}\n\t\t\t\tonChange={ ( value ) => handleOnChange( value ) }\n\t\t\t\trows={ 15 }\n\t\t\t\tclassName=\"edit-site-global-styles__custom-css-input\"\n\t\t\t\tspellCheck={ false }\n\t\t\t\thelp={ __(\n\t\t\t\t\t\"Enter your custom CSS in the textarea and preview in the editor. Changes won't take effect until you've saved the template.\"\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ originalThemeCustomCSS && (\n\t\t\t\t<Panel>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\ttitle={ __( 'Original Theme Custom CSS' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t<pre className=\"edit-site-global-styles__custom-css-theme-css\">\n\t\t\t\t\t\t\t{ originalThemeCustomCSS }\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</Panel>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default CustomCSSControl;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport Subtitle from './subtitle';\nimport CustomCSSControl from './custom-css';\n\nfunction ScreenCSS() {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'CSS' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Add your own CSS to customize the appearance and layout of your site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"edit-site-global-styles-screen-css\">\n\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t<Subtitle>{ __( 'ADDITIONAL CSS' ) }</Subtitle>\n\t\t\t\t\t<CustomCSSControl />\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenCSS;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorProvider as NavigatorProvider,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n\t__experimentalUseNavigator as useNavigator,\n} from '@wordpress/components';\nimport { getBlockTypes, store as blocksStore } from '@wordpress/blocks';\n\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport ScreenRoot from './screen-root';\nimport ScreenBlockList from './screen-block-list';\nimport ScreenBlock from './screen-block';\nimport ScreenTypography from './screen-typography';\nimport ScreenTypographyElement from './screen-typography-element';\nimport ScreenColors from './screen-colors';\nimport ScreenColorPalette from './screen-color-palette';\nimport ScreenBackgroundColor from './screen-background-color';\nimport ScreenTextColor from './screen-text-color';\nimport ScreenLinkColor from './screen-link-color';\nimport ScreenHeadingColor from './screen-heading-color';\nimport ScreenButtonColor from './screen-button-color';\nimport ScreenLayout from './screen-layout';\nimport ScreenStyleVariations from './screen-style-variations';\nimport { ScreenVariation } from './screen-variations';\nimport ScreenBorder from './screen-border';\nimport StyleBook from '../style-book';\nimport ScreenCSS from './screen-css';\n\nfunction GlobalStylesNavigationScreen( { className, ...props } ) {\n\treturn (\n\t\t<NavigatorScreen\n\t\t\tclassName={ [\n\t\t\t\t'edit-site-global-styles-sidebar__navigator-screen',\n\t\t\t\tclassName,\n\t\t\t]\n\t\t\t\t.filter( Boolean )\n\t\t\t\t.join( ' ' ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nfunction BlockStyleVariationsScreens( { name } ) {\n\tconst blockStyleVariations = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\tif ( ! blockStyleVariations?.length ) {\n\t\treturn null;\n\t}\n\n\treturn blockStyleVariations.map( ( variation ) => (\n\t\t<ContextScreens\n\t\t\tkey={ variation.name + name }\n\t\t\tname={ name }\n\t\t\tparentMenu={\n\t\t\t\t'/blocks/' +\n\t\t\t\tencodeURIComponent( name ) +\n\t\t\t\t'/variations/' +\n\t\t\t\tencodeURIComponent( variation.name )\n\t\t\t}\n\t\t/>\n\t) );\n}\n\nfunction ContextScreens( { name, parentMenu = '' } ) {\n\tconst hasVariationPath = parentMenu.search( 'variations' );\n\tconst variationPath =\n\t\thasVariationPath !== -1\n\t\t\t? parentMenu\n\t\t\t\t\t.substring( hasVariationPath )\n\t\t\t\t\t.replace( '/', '.' )\n\t\t\t\t\t.concat( '', '.' )\n\t\t\t: '';\n\tconst blockStyleVariations = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockStyles } = select( blocksStore );\n\t\t\treturn getBlockStyles( name );\n\t\t},\n\t\t[ name ]\n\t);\n\n\tconst BlockStylesNavigationScreens = ( { blockStyles, blockName } ) => {\n\t\treturn blockStyles.map( ( style, index ) => (\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tkey={ index }\n\t\t\t\tpath={ parentMenu + '/variations/' + style.name }\n\t\t\t>\n\t\t\t\t<ScreenVariation blockName={ blockName } style={ style } />\n\t\t\t</GlobalStylesNavigationScreen>\n\t\t) );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/typography' }>\n\t\t\t\t<ScreenTypography\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/text' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"text\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/link' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"link\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/heading' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"heading\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/button' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"button\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors' }>\n\t\t\t\t<ScreenColors name={ name } variationPath={ variationPath } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/palette' }\n\t\t\t>\n\t\t\t\t<ScreenColorPalette name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/background' }\n\t\t\t>\n\t\t\t\t<ScreenBackgroundColor\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/text' }>\n\t\t\t\t<ScreenTextColor\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/link' }>\n\t\t\t\t<ScreenLinkColor\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/heading' }\n\t\t\t>\n\t\t\t\t<ScreenHeadingColor\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/button' }\n\t\t\t>\n\t\t\t\t<ScreenButtonColor\n\t\t\t\t\tname={ name }\n\t\t\t\t\tvariationPath={ variationPath }\n\t\t\t\t/>\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/border' }>\n\t\t\t\t<ScreenBorder name={ name } variationPath={ variationPath } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/layout' }>\n\t\t\t\t<ScreenLayout name={ name } variationPath={ variationPath } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t{ !! blockStyleVariations?.length && (\n\t\t\t\t<BlockStylesNavigationScreens\n\t\t\t\t\tblockStyles={ blockStyleVariations }\n\t\t\t\t\tblockName={ name }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction GlobalStylesStyleBook( { onClose } ) {\n\tconst navigator = useNavigator();\n\tconst { path } = navigator.location;\n\treturn (\n\t\t<StyleBook\n\t\t\tisSelected={ ( blockName ) =>\n\t\t\t\t// Match '/blocks/core%2Fbutton' and\n\t\t\t\t// '/blocks/core%2Fbutton/typography', but not\n\t\t\t\t// '/blocks/core%2Fbuttons'.\n\t\t\t\tpath === `/blocks/${ encodeURIComponent( blockName ) }` ||\n\t\t\t\tpath.startsWith(\n\t\t\t\t\t`/blocks/${ encodeURIComponent( blockName ) }/`\n\t\t\t\t)\n\t\t\t}\n\t\t\tonSelect={ ( blockName ) => {\n\t\t\t\t// Clear navigator history by going back to the root.\n\t\t\t\tconst depth = path.match( /\\//g ).length;\n\t\t\t\tfor ( let i = 0; i < depth; i++ ) {\n\t\t\t\t\tnavigator.goBack();\n\t\t\t\t}\n\t\t\t\t// Now go to the selected block.\n\t\t\t\tnavigator.goTo( '/blocks/' + encodeURIComponent( blockName ) );\n\t\t\t} }\n\t\t\tonClose={ onClose }\n\t\t/>\n\t);\n}\n\nfunction GlobalStylesUI( { isStyleBookOpened, onCloseStyleBook } ) {\n\tconst blocks = getBlockTypes();\n\n\treturn (\n\t\t<NavigatorProvider\n\t\t\tclassName=\"edit-site-global-styles-sidebar__navigator-provider\"\n\t\t\tinitialPath=\"/\"\n\t\t>\n\t\t\t<GlobalStylesNavigationScreen path=\"/\">\n\t\t\t\t<ScreenRoot />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\n\t\t\t\t<ScreenStyleVariations />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\n\t\t\t\t<ScreenBlockList />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\t\tkey={ 'menu-block-' + block.name }\n\t\t\t\t\tpath={ '/blocks/' + encodeURIComponent( block.name ) }\n\t\t\t\t>\n\t\t\t\t\t<ScreenBlock name={ block.name } />\n\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t) ) }\n\n\t\t\t<ContextScreens />\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<ContextScreens\n\t\t\t\t\tkey={ 'screens-block-' + block.name }\n\t\t\t\t\tname={ block.name }\n\t\t\t\t\tparentMenu={ '/blocks/' + encodeURIComponent( block.name ) }\n\t\t\t\t/>\n\t\t\t) ) }\n\n\t\t\t{ blocks.map( ( block, index ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<BlockStyleVariationsScreens\n\t\t\t\t\t\tkey={ 'screens-block-styles-' + block.name + index }\n\t\t\t\t\t\tname={ block.name }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ isStyleBookOpened && (\n\t\t\t\t<GlobalStylesStyleBook onClose={ onCloseStyleBook } />\n\t\t\t) }\n\t\t\t<GlobalStylesNavigationScreen path=\"/css\">\n\t\t\t\t<ScreenCSS />\n\t\t\t</GlobalStylesNavigationScreen>\n\t\t</NavigatorProvider>\n\t);\n}\n\nexport default GlobalStylesUI;\n","/**\n * WordPress dependencies\n */\nimport {\n\tDropdownMenu,\n\tFlexItem,\n\tFlexBlock,\n\tFlex,\n\tButton,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { styles, moreVertical, seen } from '@wordpress/icons';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport { GlobalStylesUI, useGlobalStylesReset } from '../global-styles';\nimport { store as editSiteStore } from '../../store';\n\nexport default function GlobalStylesSidebar() {\n\tconst [ canReset, onReset ] = useGlobalStylesReset();\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst [ isStyleBookOpened, setIsStyleBookOpened ] = useState( false );\n\tconst editorMode = useSelect(\n\t\t( select ) => select( editSiteStore ).getEditorMode(),\n\t\t[]\n\t);\n\tuseEffect( () => {\n\t\tif ( editorMode !== 'visual' ) {\n\t\t\tsetIsStyleBookOpened( false );\n\t\t}\n\t}, [ editorMode ] );\n\treturn (\n\t\t<DefaultSidebar\n\t\t\tclassName=\"edit-site-global-styles-sidebar\"\n\t\t\tidentifier=\"edit-site/global-styles\"\n\t\t\ttitle={ __( 'Styles' ) }\n\t\t\ticon={ styles }\n\t\t\tcloseLabel={ __( 'Close Styles sidebar' ) }\n\t\t\tpanelClassName=\"edit-site-global-styles-sidebar__panel\"\n\t\t\theader={\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<strong>{ __( 'Styles' ) }</strong>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ seen }\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tisStyleBookOpened\n\t\t\t\t\t\t\t\t\t? __( 'Close Style Book' )\n\t\t\t\t\t\t\t\t\t: __( 'Open Style Book' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisPressed={ isStyleBookOpened }\n\t\t\t\t\t\t\tdisabled={ editorMode !== 'visual' }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetIsStyleBookOpened( ! isStyleBookOpened );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'More Styles actions' ) }\n\t\t\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Reset to defaults' ),\n\t\t\t\t\t\t\t\t\tonClick: onReset,\n\t\t\t\t\t\t\t\t\tisDisabled: ! canReset,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Welcome Guide' ),\n\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\ttoggle(\n\t\t\t\t\t\t\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t\t\t\t\t\t\t'welcomeGuideStyles'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t>\n\t\t\t<GlobalStylesUI\n\t\t\t\tisStyleBookOpened={ isStyleBookOpened }\n\t\t\t\tonCloseStyleBook={ () => setIsStyleBookOpened( false ) }\n\t\t\t/>\n\t\t</DefaultSidebar>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst navigation = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n\nexport default navigation;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalListView as ListView,\n\t__experimentalOffCanvasEditor as OffCanvasEditor,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\nconst ALLOWED_BLOCKS = {\n\t'core/navigation': [\n\t\t'core/navigation-link',\n\t\t'core/search',\n\t\t'core/social-links',\n\t\t'core/page-list',\n\t\t'core/spacer',\n\t\t'core/home-link',\n\t\t'core/site-title',\n\t\t'core/site-logo',\n\t\t'core/navigation-submenu',\n\t],\n\t'core/social-links': [ 'core/social-link' ],\n\t'core/navigation-submenu': [\n\t\t'core/navigation-link',\n\t\t'core/navigation-submenu',\n\t],\n\t'core/navigation-link': [\n\t\t'core/navigation-link',\n\t\t'core/navigation-submenu',\n\t],\n};\n\nexport default function NavigationMenu( { innerBlocks, id } ) {\n\tconst { updateBlockListSettings } = useDispatch( blockEditorStore );\n\n\t//TODO: Block settings are normally updated as a side effect of rendering InnerBlocks in BlockList\n\t//Think through a better way of doing this, possible with adding allowed blocks to block library metadata\n\tuseEffect( () => {\n\t\tupdateBlockListSettings( '', {\n\t\t\tallowedBlocks: ALLOWED_BLOCKS[ 'core/navigation' ],\n\t\t} );\n\t\tinnerBlocks.forEach( ( block ) => {\n\t\t\tif ( ALLOWED_BLOCKS[ block.name ] ) {\n\t\t\t\tupdateBlockListSettings( block.clientId, {\n\t\t\t\t\tallowedBlocks: ALLOWED_BLOCKS[ block.name ],\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}, [ updateBlockListSettings, innerBlocks ] );\n\n\tif ( window?.__experimentalEnableOffCanvasNavigationEditor ) {\n\t\treturn (\n\t\t\t<OffCanvasEditor\n\t\t\t\tblocks={ innerBlocks }\n\t\t\t\tselectBlockInCanvas={ false }\n\t\t\t/>\n\t\t);\n\t}\n\treturn <ListView id={ id } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport { SelectControl } from '@wordpress/components';\nimport { store as coreStore, useEntityBlockEditor } from '@wordpress/core-data';\nimport {\n\tstore as blockEditorStore,\n\tBlockEditorProvider,\n} from '@wordpress/block-editor';\nimport { speak } from '@wordpress/a11y';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigationMenu from './navigation-menu';\n\nconst NAVIGATION_MENUS_QUERY = [ { per_page: -1, status: 'publish' } ];\n\nexport default function NavigationInspector() {\n\tconst {\n\t\tselectedNavigationBlockId,\n\t\tclientIdToRef,\n\t\tnavigationMenus,\n\t\tisResolvingNavigationMenus,\n\t\thasResolvedNavigationMenus,\n\t\tfirstNavigationBlockId,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetActiveBlockIdByBlockNames,\n\t\t\t__experimentalGetGlobalBlocksByName,\n\t\t\tgetBlock,\n\t\t} = select( blockEditorStore );\n\n\t\tconst { getEntityRecords, hasFinishedResolution, isResolving } =\n\t\t\tselect( coreStore );\n\n\t\tconst navigationMenusQuery = [\n\t\t\t'postType',\n\t\t\t'wp_navigation',\n\t\t\tNAVIGATION_MENUS_QUERY[ 0 ],\n\t\t];\n\n\t\t// Get the active Navigation block (if present).\n\t\tconst selectedNavId =\n\t\t\t__experimentalGetActiveBlockIdByBlockNames( 'core/navigation' );\n\n\t\t// Get all Navigation blocks currently within the editor canvas.\n\t\tconst navBlockIds =\n\t\t\t__experimentalGetGlobalBlocksByName( 'core/navigation' );\n\t\tconst idToRef = {};\n\t\tnavBlockIds.forEach( ( id ) => {\n\t\t\tidToRef[ id ] = getBlock( id )?.attributes?.ref;\n\t\t} );\n\t\treturn {\n\t\t\tselectedNavigationBlockId: selectedNavId,\n\t\t\tfirstNavigationBlockId: navBlockIds?.[ 0 ],\n\t\t\tclientIdToRef: idToRef,\n\t\t\tnavigationMenus: getEntityRecords( ...navigationMenusQuery ),\n\t\t\tisResolvingNavigationMenus: isResolving(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tnavigationMenusQuery\n\t\t\t),\n\t\t\thasResolvedNavigationMenus: hasFinishedResolution(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tnavigationMenusQuery\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst navMenuListId = useInstanceId(\n\t\tNavigationMenu,\n\t\t'edit-site-navigation-inspector-menu'\n\t);\n\n\tconst firstNavRefInTemplate = clientIdToRef[ firstNavigationBlockId ];\n\tconst firstNavigationMenuRef = navigationMenus?.[ 0 ]?.id;\n\n\t// Default Navigation Menu is either:\n\t// - the Navigation Menu referenced by the first Nav block within the template.\n\t// - the first of the available Navigation Menus (`wp_navigation`) posts.\n\tconst defaultNavigationMenuId =\n\t\tfirstNavRefInTemplate || firstNavigationMenuRef;\n\n\t// The Navigation Menu manually selected by the user within the Nav inspector.\n\tconst [ currentMenuId, setCurrentMenuId ] = useState(\n\t\tfirstNavRefInTemplate\n\t);\n\n\t// If a Nav block is selected within the canvas then set the\n\t// Navigation Menu referenced by it's `ref` attribute  to be\n\t// active within the Navigation sidebar.\n\tuseEffect( () => {\n\t\tif ( selectedNavigationBlockId ) {\n\t\t\tsetCurrentMenuId( clientIdToRef[ selectedNavigationBlockId ] );\n\t\t}\n\t}, [ selectedNavigationBlockId ] );\n\n\tlet options = [];\n\tif ( navigationMenus ) {\n\t\toptions = navigationMenus.map( ( { id, title } ) => ( {\n\t\t\tvalue: id,\n\t\t\tlabel: title.rendered,\n\t\t} ) );\n\t}\n\n\tconst [ innerBlocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\t'wp_navigation',\n\t\t{ id: currentMenuId || defaultNavigationMenuId }\n\t);\n\n\tconst { isLoadingInnerBlocks, hasLoadedInnerBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isResolving, hasFinishedResolution } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tisLoadingInnerBlocks: isResolving( 'getEntityRecord', [\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_navigation',\n\t\t\t\t\tcurrentMenuId || defaultNavigationMenuId,\n\t\t\t\t] ),\n\t\t\t\thasLoadedInnerBlocks: hasFinishedResolution(\n\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\t[\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'wp_navigation',\n\t\t\t\t\t\tcurrentMenuId || defaultNavigationMenuId,\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ currentMenuId, defaultNavigationMenuId ]\n\t);\n\n\tconst isLoading = ! ( hasResolvedNavigationMenus && hasLoadedInnerBlocks );\n\n\tconst hasMoreThanOneNavigationMenu = navigationMenus?.length > 1;\n\n\tconst hasNavigationMenus = !! navigationMenus?.length;\n\n\t// Entity block editor will return entities that are not currently published.\n\t// Guard by only allowing their usage if there are published Nav Menus.\n\tconst publishedInnerBlocks = hasNavigationMenus ? innerBlocks : [];\n\n\tconst hasInnerBlocks = !! publishedInnerBlocks?.length;\n\n\tuseEffect( () => {\n\t\tif ( isResolvingNavigationMenus ) {\n\t\t\tspeak( 'Loading Navigation sidebar menus.' );\n\t\t}\n\n\t\tif ( hasResolvedNavigationMenus ) {\n\t\t\tspeak( 'Navigation sidebar menus have loaded.' );\n\t\t}\n\t}, [ isResolvingNavigationMenus, hasResolvedNavigationMenus ] );\n\n\tuseEffect( () => {\n\t\tif ( isLoadingInnerBlocks ) {\n\t\t\tspeak( 'Loading Navigation sidebar selected menu items.' );\n\t\t}\n\n\t\tif ( hasLoadedInnerBlocks ) {\n\t\t\tspeak( 'Navigation sidebar selected menu items have loaded.' );\n\t\t}\n\t}, [ isLoadingInnerBlocks, hasLoadedInnerBlocks ] );\n\n\treturn (\n\t\t<div className=\"edit-site-navigation-inspector\">\n\t\t\t{ hasResolvedNavigationMenus && ! hasNavigationMenus && (\n\t\t\t\t<p className=\"edit-site-navigation-inspector__empty-msg\">\n\t\t\t\t\t{ __( 'There are no Navigation Menus.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\n\t\t\t{ ! hasResolvedNavigationMenus && (\n\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder\" />\n\t\t\t) }\n\t\t\t{ hasResolvedNavigationMenus && hasMoreThanOneNavigationMenu && (\n\t\t\t\t<SelectControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tclassName=\"edit-site-navigation-inspector__select-menu\"\n\t\t\t\t\taria-controls={\n\t\t\t\t\t\t// aria-controls should only apply when referenced element is in DOM\n\t\t\t\t\t\thasLoadedInnerBlocks ? navMenuListId : undefined\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ currentMenuId || defaultNavigationMenuId }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ ( newMenuId ) =>\n\t\t\t\t\t\tsetCurrentMenuId( Number( newMenuId ) )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isLoading && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ hasInnerBlocks && ! isLoading && (\n\t\t\t\t<BlockEditorProvider\n\t\t\t\t\tvalue={ publishedInnerBlocks }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tonInput={ onInput }\n\t\t\t\t>\n\t\t\t\t\t<NavigationMenu\n\t\t\t\t\t\tid={ navMenuListId }\n\t\t\t\t\t\tinnerBlocks={ publishedInnerBlocks }\n\t\t\t\t\t/>\n\t\t\t\t</BlockEditorProvider>\n\t\t\t) }\n\n\t\t\t{ ! hasInnerBlocks && ! isLoading && (\n\t\t\t\t<p className=\"edit-site-navigation-inspector__empty-msg\">\n\t\t\t\t\t{ __( 'Navigation Menu is empty.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { FlexBlock, Flex } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { navigation } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from '../default-sidebar';\nimport NavigationInspector from './navigation-inspector';\n\nexport default function NavigationMenuSidebar() {\n\treturn (\n\t\t<DefaultSidebar\n\t\t\tclassName=\"edit-site-navigation-menu-sidebar\"\n\t\t\tidentifier=\"edit-site/navigation-menu\"\n\t\t\ttitle={ __( 'Navigation' ) }\n\t\t\ticon={ navigation }\n\t\t\tcloseLabel={ __( 'Close navigation menu sidebar' ) }\n\t\t\tpanelClassName=\"edit-site-navigation-menu-sidebar__panel\"\n\t\t\theader={\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<strong>{ __( 'Navigation Menus' ) }</strong>\n\t\t\t\t\t\t<span className=\"edit-site-navigation-sidebar__beta\">\n\t\t\t\t\t\t\t{ __( 'Beta' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t>\n\t\t\t<NavigationInspector />\n\t\t</DefaultSidebar>\n\t);\n}\n","export const SIDEBAR_TEMPLATE = 'edit-site/template';\nexport const SIDEBAR_BLOCK = 'edit-site/block-inspector';\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME } from '../../../store/constants';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from '../constants';\n\nconst SettingsHeader = ( { sidebarName } ) => {\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst openTemplateSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\tconst openBlockSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\n\tconst [ templateAriaLabel, templateActiveClass ] =\n\t\tsidebarName === SIDEBAR_TEMPLATE\n\t\t\t? // translators: ARIA label for the Template sidebar tab, selected.\n\t\t\t  [ __( 'Template (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Template Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Template' ), '' ];\n\n\tconst [ blockAriaLabel, blockActiveClass ] =\n\t\tsidebarName === SIDEBAR_BLOCK\n\t\t\t? // translators: ARIA label for the Block Settings Sidebar tab, selected.\n\t\t\t  [ __( 'Block (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Block Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Block' ), '' ];\n\n\t/* Use a list so screen readers will announce how many tabs there are. */\n\treturn (\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openTemplateSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar-edit-mode__panel-tab ${ templateActiveClass }` }\n\t\t\t\t\taria-label={ templateAriaLabel }\n\t\t\t\t\t// translators: Data label for the Template Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Template' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Template Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Template' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openBlockSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar-edit-mode__panel-tab ${ blockActiveClass }` }\n\t\t\t\t\taria-label={ blockAriaLabel }\n\t\t\t\t\t// translators: Data label for the Block Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Block' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Block Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Block' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</ul>\n\t);\n};\n\nexport default SettingsHeader;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport isTemplateRevertable from '../../../utils/is-template-revertable';\n\nexport default function Actions( { template } ) {\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\tconst isRevertable = isTemplateRevertable( template );\n\tif ( ! isRevertable ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Actions' ) }\n\t\t\tclassName=\"edit-site-template-card__actions\"\n\t\t\ttoggleProps={ { isSmall: true } }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\trevertTemplate( template );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nfunction TemplateAreaItem( { area, clientId } ) {\n\tconst { selectBlock, toggleBlockHighlight } =\n\t\tuseDispatch( blockEditorStore );\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas =\n\t\t\t\tselect(\n\t\t\t\t\teditorStore\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === area\n\t\t\t);\n\t\t},\n\t\t[ area ]\n\t);\n\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-template-card__template-areas-item\"\n\t\t\ticon={ templatePartArea?.icon }\n\t\t\tonMouseOver={ highlightBlock }\n\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\tonFocus={ highlightBlock }\n\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( clientId );\n\t\t\t} }\n\t\t>\n\t\t\t{ templatePartArea?.label }\n\t\t</Button>\n\t);\n}\n\nexport default function TemplateAreas() {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<section className=\"edit-site-template-card__template-areas\">\n\t\t\t<Heading\n\t\t\t\tlevel={ 3 }\n\t\t\t\tclassName=\"edit-site-template-card__template-areas-title\"\n\t\t\t>\n\t\t\t\t{ __( 'Areas' ) }\n\t\t\t</Heading>\n\n\t\t\t<ul className=\"edit-site-template-card__template-areas-list\">\n\t\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t\t<li key={ templatePart.slug }>\n\t\t\t\t\t\t<TemplateAreaItem\n\t\t\t\t\t\t\tarea={ templatePart.area }\n\t\t\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</section>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Icon } from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport TemplateActions from './template-actions';\nimport TemplateAreas from './template-areas';\n\nexport default function TemplateCard() {\n\tconst {\n\t\tinfo: { title, description, icon },\n\t\ttemplate,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEditedPostType, getEditedPostId } = select( editSiteStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\n\t\t\tselect( editorStore );\n\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\t\tconst record = getEditedEntityRecord( 'postType', postType, postId );\n\n\t\tconst info = record ? getTemplateInfo( record ) : {};\n\n\t\treturn { info, template: record };\n\t}, [] );\n\n\tif ( ! title && ! description ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-site-template-card\">\n\t\t\t<Icon className=\"edit-site-template-card__icon\" icon={ icon } />\n\t\t\t<div className=\"edit-site-template-card__content\">\n\t\t\t\t<div className=\"edit-site-template-card__header\">\n\t\t\t\t\t<h2 className=\"edit-site-template-card__title\">\n\t\t\t\t\t\t{ decodeEntities( title ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<TemplateActions template={ template } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-site-template-card__description\">\n\t\t\t\t\t{ decodeEntities( description ) }\n\t\t\t\t</div>\n\t\t\t\t<TemplateAreas />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { drawerLeft, drawerRight } from '@wordpress/icons';\nimport { useEffect, Fragment } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport GlobalStylesSidebar from './global-styles-sidebar';\nimport NavigationMenuSidebar from './navigation-menu-sidebar';\nimport { STORE_NAME } from '../../store/constants';\nimport SettingsHeader from './settings-header';\nimport TemplateCard from './template-card';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from './constants';\nimport { store as editSiteStore } from '../../store';\n\nconst { Slot: InspectorSlot, Fill: InspectorFill } = createSlotFill(\n\t'EditSiteSidebarInspector'\n);\nexport const SidebarInspectorFill = InspectorFill;\n\nexport function SidebarComplementaryAreaFills() {\n\tconst {\n\t\tsidebar,\n\t\tisEditorSidebarOpened,\n\t\thasBlockSelection,\n\t\tsupportsGlobalStyles,\n\t} = useSelect( ( select ) => {\n\t\tconst _sidebar =\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( STORE_NAME );\n\t\tconst _isEditorSidebarOpened = [\n\t\t\tSIDEBAR_BLOCK,\n\t\t\tSIDEBAR_TEMPLATE,\n\t\t].includes( _sidebar );\n\t\tconst settings = select( editSiteStore ).getSettings();\n\t\treturn {\n\t\t\tsidebar: _sidebar,\n\t\t\tisEditorSidebarOpened: _isEditorSidebarOpened,\n\t\t\thasBlockSelection:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t\tsupportsGlobalStyles: ! settings?.supportsTemplatePartsMode,\n\t\t};\n\t}, [] );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif ( ! isEditorSidebarOpened ) return;\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\t\t}\n\t}, [ hasBlockSelection, isEditorSidebarOpened ] );\n\n\tlet sidebarName = sidebar;\n\tif ( ! isEditorSidebarOpened ) {\n\t\tsidebarName = hasBlockSelection ? SIDEBAR_BLOCK : SIDEBAR_TEMPLATE;\n\t}\n\n\t// Conditionally include NavMenu sidebar in Plugin only.\n\t// Optimise for dead code elimination.\n\t// See https://github.com/WordPress/gutenberg/blob/trunk/docs/how-to-guides/feature-flags.md#dead-code-elimination.\n\tlet MaybeNavigationMenuSidebar = Fragment;\n\n\tif ( window?.__experimentalEnableOffCanvasNavigationEditor === true ) {\n\t\tMaybeNavigationMenuSidebar = NavigationMenuSidebar;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<DefaultSidebar\n\t\t\t\tidentifier={ sidebarName }\n\t\t\t\ttitle={ __( 'Settings' ) }\n\t\t\t\ticon={ isRTL() ? drawerLeft : drawerRight }\n\t\t\t\tcloseLabel={ __( 'Close settings sidebar' ) }\n\t\t\t\theader={ <SettingsHeader sidebarName={ sidebarName } /> }\n\t\t\t\theaderClassName=\"edit-site-sidebar-edit-mode__panel-tabs\"\n\t\t\t>\n\t\t\t\t{ sidebarName === SIDEBAR_TEMPLATE && (\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<TemplateCard />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t\t{ sidebarName === SIDEBAR_BLOCK && (\n\t\t\t\t\t<InspectorSlot bubblesVirtually />\n\t\t\t\t) }\n\t\t\t</DefaultSidebar>\n\t\t\t{ supportsGlobalStyles && <GlobalStylesSidebar /> }\n\t\t\t<MaybeNavigationMenuSidebar />\n\t\t</>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"reusableBlocks\"];","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToRegularBlocks( { clientId } ) {\n\tconst { getBlocks } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst canRemove = useSelect(\n\t\t( select ) => select( blockEditorStore ).canRemoveBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\tif ( ! canRemove ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\treplaceBlocks( clientId, getBlocks( clientId ) );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Detach blocks from template part' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { createBlock, serialize } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { symbolFilled } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport CreateTemplatePartModal from '../create-template-part-modal';\nimport { store as editSiteStore } from '../../store';\n\nexport default function ConvertToTemplatePart( { clientIds, blocks } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst { canCreate } = useSelect( ( select ) => {\n\t\tconst { supportsTemplatePartsMode } =\n\t\t\tselect( editSiteStore ).getSettings();\n\t\treturn {\n\t\t\tcanCreate: ! supportsTemplatePartsMode,\n\t\t};\n\t}, [] );\n\n\tif ( ! canCreate ) {\n\t\treturn null;\n\t}\n\n\tconst onConvert = async ( { title, area } ) => {\n\t\t// Currently template parts only allow latin chars.\n\t\t// Fallback slug will receive suffix by default.\n\t\tconst cleanSlug =\n\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\n\n\t\tconst templatePart = await saveEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t{\n\t\t\t\tslug: cleanSlug,\n\t\t\t\ttitle,\n\t\t\t\tcontent: serialize( blocks ),\n\t\t\t\tarea,\n\t\t\t}\n\t\t);\n\t\treplaceBlocks(\n\t\t\tclientIds,\n\t\t\tcreateBlock( 'core/template-part', {\n\t\t\t\tslug: templatePart.slug,\n\t\t\t\ttheme: templatePart.theme,\n\t\t\t} )\n\t\t);\n\t\tcreateSuccessNotice( __( 'Template part created.' ), {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\t// The modal and this component will be unmounted because of `replaceBlocks` above,\n\t\t// so no need to call `closeModal` or `onClose`.\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockSettingsMenuControls>\n\t\t\t\t{ () => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\ticon={ symbolFilled }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Create Template part' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t) }\n\t\t\t</BlockSettingsMenuControls>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\tonCreate={ onConvert }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ConvertToRegularBlocks from './convert-to-regular';\nimport ConvertToTemplatePart from './convert-to-template-part';\n\nexport default function TemplatePartConverter() {\n\tconst { clientIds, blocks } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientIds, getBlocksByClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\treturn {\n\t\t\tclientIds: selectedBlockClientIds,\n\t\t\tblocks: getBlocksByClientId( selectedBlockClientIds ),\n\t\t};\n\t}, [] );\n\n\t// Allow converting a single template part to standard blocks.\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\n\t\treturn <ConvertToRegularBlocks clientId={ clientIds[ 0 ] } />;\n\t}\n\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { getPathAndQueryString } from '@wordpress/url';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { edit } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function NavigateToLink( { type, id, onActivePageChange } ) {\n\tconst post = useSelect(\n\t\t( select ) =>\n\t\t\ttype &&\n\t\t\tid &&\n\t\t\ttype !== 'URL' &&\n\t\t\tselect( coreStore ).getEntityRecord( 'postType', type, id ),\n\t\t[ type, id ]\n\t);\n\n\tconst onClick = useMemo( () => {\n\t\tif ( ! post?.link ) return null;\n\t\tconst path = getPathAndQueryString( post.link );\n\t\treturn () =>\n\t\t\tonActivePageChange( {\n\t\t\t\ttype,\n\t\t\t\tslug: post.slug,\n\t\t\t\tpath,\n\t\t\t\tcontext: {\n\t\t\t\t\tpostType: post.type,\n\t\t\t\t\tpostId: post.id,\n\t\t\t\t},\n\t\t\t} );\n\t}, [ post, onActivePageChange ] );\n\n\treturn (\n\t\tonClick && (\n\t\t\t<Button\n\t\t\t\ticon={ edit }\n\t\t\t\tlabel={ __( 'Edit Page Template' ) }\n\t\t\t\tonClick={ onClick }\n\t\t\t/>\n\t\t)\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z\" />\n\t</SVG>\n);\n\nexport default arrowLeft;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { arrowLeft } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useLocation, useHistory } from '../routes';\n\nfunction BackButton() {\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst isTemplatePart = location.params.postType === 'wp_template_part';\n\tconst previousTemplateId = location.state?.fromTemplateId;\n\n\tif ( ! isTemplatePart || ! previousTemplateId ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-visual-editor__back-button\"\n\t\t\ticon={ arrowLeft }\n\t\t\tonClick={ () => {\n\t\t\t\thistory.back();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Back' ) }\n\t\t</Button>\n\t);\n}\n\nexport default BackButton;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { LEFT, RIGHT } from '@wordpress/keycodes';\nimport { VisuallyHidden } from '@wordpress/components';\n\nconst DELTA_DISTANCE = 20; // The distance to resize per keydown in pixels.\n\nexport default function ResizeHandle( {\n\tvariation = 'default',\n\tdirection,\n\tresizeWidthBy,\n} ) {\n\tfunction handleKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif (\n\t\t\t( direction === 'left' && keyCode === LEFT ) ||\n\t\t\t( direction === 'right' && keyCode === RIGHT )\n\t\t) {\n\t\t\tresizeWidthBy( DELTA_DISTANCE );\n\t\t} else if (\n\t\t\t( direction === 'left' && keyCode === RIGHT ) ||\n\t\t\t( direction === 'right' && keyCode === LEFT )\n\t\t) {\n\t\t\tresizeWidthBy( -DELTA_DISTANCE );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName={ `resizable-editor__drag-handle is-${ direction } is-variation-${ variation }` }\n\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\taria-describedby={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t/>\n\t\t\t<VisuallyHidden\n\t\t\t\tid={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t>\n\t\t\t\t{ __( 'Use left and right arrow keys to resize the canvas.' ) }\n\t\t\t</VisuallyHidden>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useState, useRef, useCallback } from '@wordpress/element';\nimport { ResizableBox } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ResizeHandle from './resize-handle';\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nfunction ResizableEditor( { enableResizing, height, children } ) {\n\tconst [ width, setWidth ] = useState( '100%' );\n\tconst resizableRef = useRef();\n\tconst resizeWidthBy = useCallback( ( deltaPixels ) => {\n\t\tif ( resizableRef.current ) {\n\t\t\tsetWidth( resizableRef.current.offsetWidth + deltaPixels );\n\t\t}\n\t}, [] );\n\treturn (\n\t\t<ResizableBox\n\t\t\tref={ ( api ) => {\n\t\t\t\tresizableRef.current = api?.resizable;\n\t\t\t} }\n\t\t\tsize={ {\n\t\t\t\twidth: enableResizing ? width : '100%',\n\t\t\t\theight: enableResizing && height ? height : '100%',\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, element ) => {\n\t\t\t\tsetWidth( element.style.width );\n\t\t\t} }\n\t\t\tminWidth={ 300 }\n\t\t\tmaxWidth=\"100%\"\n\t\t\tmaxHeight=\"100%\"\n\t\t\tenable={ {\n\t\t\t\tright: enableResizing,\n\t\t\t\tleft: enableResizing,\n\t\t\t} }\n\t\t\tshowHandle={ enableResizing }\n\t\t\t// The editor is centered horizontally, resizing it only\n\t\t\t// moves half the distance. Hence double the ratio to correctly\n\t\t\t// align the cursor to the resizer handle.\n\t\t\tresizeRatio={ 2 }\n\t\t\thandleComponent={ {\n\t\t\t\tleft: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tright: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableEditor;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n\t__unstableEditorStyles as EditorStyles,\n\t__unstableIframe as Iframe,\n\t__unstableUseMouseMoveTypingReset as useMouseMoveTypingReset,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nfunction EditorCanvas( { enableResizing, settings, children, ...props } ) {\n\tconst { deviceType, isZoomOutMode } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdeviceType:\n\t\t\t\tselect( editSiteStore ).__experimentalGetPreviewDeviceType(),\n\t\t\tisZoomOutMode:\n\t\t\t\tselect( blockEditorStore ).__unstableGetEditorMode() ===\n\t\t\t\t'zoom-out',\n\t\t} ),\n\t\t[]\n\t);\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst mouseMoveTypingRef = useMouseMoveTypingReset();\n\treturn (\n\t\t<Iframe\n\t\t\tscale={ ( isZoomOutMode && 0.45 ) || undefined }\n\t\t\tframeSize={ isZoomOutMode ? 100 : undefined }\n\t\t\tstyle={ enableResizing ? {} : deviceStyles }\n\t\t\thead={\n\t\t\t\t<>\n\t\t\t\t\t<EditorStyles styles={ settings.styles } />\n\t\t\t\t\t<style>{\n\t\t\t\t\t\t// Forming a \"block formatting context\" to prevent margin collapsing.\n\t\t\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\n\t\t\t\t\t\t`.is-root-container { display: flow-root; }\n\t\t\t\t\t\t\tbody { position: relative; }`\n\t\t\t\t\t}</style>\n\t\t\t\t\t{ enableResizing && (\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// Some themes will have `min-height: 100vh` for the root container,\n\t\t\t\t\t\t\t\t// which isn't a requirement in auto resize mode.\n\t\t\t\t\t\t\t\t`.is-root-container { min-height: 0 !important; }`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</style>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t\tref={ mouseMoveTypingRef }\n\t\t\tname=\"editor-canvas\"\n\t\t\tclassName=\"edit-site-visual-editor__editor-canvas\"\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ /* Filters need to be rendered before children to avoid Safari rendering issues. */ }\n\t\t\t{ settings.svgFilters }\n\t\t\t{ children }\n\t\t</Iframe>\n\t);\n}\n\nexport default EditorCanvas;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useCallback, useMemo, useRef } from '@wordpress/element';\nimport {\n\tuseEntityBlockEditor,\n\t__experimentalFetchMedia as fetchMedia,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport {\n\tBlockList,\n\tBlockEditorProvider,\n\t__experimentalLinkControl,\n\tBlockInspector,\n\tBlockTools,\n\t__unstableUseClipboardHandler as useClipboardHandler,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tBlockEditorKeyboardShortcuts,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tuseMergeRefs,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { ReusableBlocksMenuItems } from '@wordpress/reusable-blocks';\n\n/**\n * Internal dependencies\n */\nimport TemplatePartConverter from '../template-part-converter';\nimport NavigateToLink from '../navigate-to-link';\nimport { SidebarInspectorFill } from '../sidebar-edit-mode';\nimport { store as editSiteStore } from '../../store';\nimport BackButton from './back-button';\nimport ResizableEditor from './resizable-editor';\nimport EditorCanvas from './editor-canvas';\nimport StyleBook from '../style-book';\n\nconst LAYOUT = {\n\ttype: 'default',\n\t// At the root level of the site editor, no alignments should be allowed.\n\talignments: [],\n};\n\nexport default function BlockEditor() {\n\tconst { setPage, setIsInserterOpened } = useDispatch( editSiteStore );\n\tconst { storedSettings, templateType, canvasMode } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings, getEditedPostType, __unstableGetCanvasMode } =\n\t\t\t\tselect( editSiteStore );\n\n\t\t\treturn {\n\t\t\t\tstoredSettings: getSettings( setIsInserterOpened ),\n\t\t\t\ttemplateType: getEditedPostType(),\n\t\t\t\tcanvasMode: __unstableGetCanvasMode(),\n\t\t\t};\n\t\t},\n\t\t[ setIsInserterOpened ]\n\t);\n\n\tconst settingsBlockPatterns =\n\t\tstoredSettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tstoredSettings.__experimentalBlockPatterns; // WP 5.9\n\tconst settingsBlockPatternCategories =\n\t\tstoredSettings.__experimentalAdditionalBlockPatternCategories ?? // WP 6.0\n\t\tstoredSettings.__experimentalBlockPatternCategories; // WP 5.9\n\n\tconst { restBlockPatterns, restBlockPatternCategories } = useSelect(\n\t\t( select ) => ( {\n\t\t\trestBlockPatterns: select( coreStore ).getBlockPatterns(),\n\t\t\trestBlockPatternCategories:\n\t\t\t\tselect( coreStore ).getBlockPatternCategories(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatterns || [] ),\n\t\t\t\t...( restBlockPatterns || [] ),\n\t\t\t]\n\t\t\t\t.filter(\n\t\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t\t)\n\t\t\t\t.filter( ( { postTypes } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t! postTypes ||\n\t\t\t\t\t\t( Array.isArray( postTypes ) &&\n\t\t\t\t\t\t\tpostTypes.includes( templateType ) )\n\t\t\t\t\t);\n\t\t\t\t} ),\n\t\t[ settingsBlockPatterns, restBlockPatterns, templateType ]\n\t);\n\n\tconst blockPatternCategories = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatternCategories || [] ),\n\t\t\t\t...( restBlockPatternCategories || [] ),\n\t\t\t].filter(\n\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t),\n\t\t[ settingsBlockPatternCategories, restBlockPatternCategories ]\n\t);\n\n\tconst settings = useMemo( () => {\n\t\tconst {\n\t\t\t__experimentalAdditionalBlockPatterns,\n\t\t\t__experimentalAdditionalBlockPatternCategories,\n\t\t\t...restStoredSettings\n\t\t} = storedSettings;\n\n\t\treturn {\n\t\t\t...restStoredSettings,\n\t\t\t__unstableFetchMedia: fetchMedia,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\t__experimentalBlockPatternCategories: blockPatternCategories,\n\t\t};\n\t}, [ storedSettings, blockPatterns, blockPatternCategories ] );\n\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\n\tconst contentRef = useRef();\n\tconst mergedRefs = useMergeRefs( [\n\t\tcontentRef,\n\t\tuseClipboardHandler(),\n\t\tuseTypingObserver(),\n\t] );\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\n\tconst isTemplatePart = templateType === 'wp_template_part';\n\tconst hasBlocks = blocks.length !== 0;\n\tconst enableResizing =\n\t\tisTemplatePart &&\n\t\tcanvasMode !== 'view' &&\n\t\t// Disable resizing in mobile viewport.\n\t\t! isMobileViewport;\n\tconst isViewMode = canvasMode === 'view';\n\tconst showBlockAppender =\n\t\t( isTemplatePart && hasBlocks ) || isViewMode ? false : undefined;\n\n\treturn (\n\t\t<BlockEditorProvider\n\t\t\tsettings={ settings }\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t<TemplatePartConverter />\n\t\t\t<__experimentalLinkControl.ViewerFill>\n\t\t\t\t{ useCallback(\n\t\t\t\t\t( fillProps ) => (\n\t\t\t\t\t\t<NavigateToLink\n\t\t\t\t\t\t\t{ ...fillProps }\n\t\t\t\t\t\t\tonActivePageChange={ setPage }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\t[]\n\t\t\t\t) }\n\t\t\t</__experimentalLinkControl.ViewerFill>\n\t\t\t<SidebarInspectorFill>\n\t\t\t\t<BlockInspector />\n\t\t\t</SidebarInspectorFill>\n\t\t\t{ /* Potentially this could be a generic slot (e.g. EditorCanvas.Slot) if there are other uses for it. */ }\n\t\t\t<StyleBook.Slot>\n\t\t\t\t{ ( [ styleBook ] ) =>\n\t\t\t\t\tstyleBook ? (\n\t\t\t\t\t\t<div className=\"edit-site-visual-editor is-focus-mode\">\n\t\t\t\t\t\t\t<ResizableEditor enableResizing>\n\t\t\t\t\t\t\t\t{ styleBook }\n\t\t\t\t\t\t\t</ResizableEditor>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<BlockTools\n\t\t\t\t\t\t\tclassName={ classnames( 'edit-site-visual-editor', {\n\t\t\t\t\t\t\t\t'is-focus-mode': isTemplatePart || !! styleBook,\n\t\t\t\t\t\t\t\t'is-view-mode': isViewMode,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t__unstableContentRef={ contentRef }\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\t// Clear selected block when clicking on the gray background.\n\t\t\t\t\t\t\t\tif ( event.target === event.currentTarget ) {\n\t\t\t\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockEditorKeyboardShortcuts.Register />\n\t\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t\t\t<ResizableEditor\n\t\t\t\t\t\t\t\tenableResizing={ enableResizing }\n\t\t\t\t\t\t\t\theight={ sizes.height }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EditorCanvas\n\t\t\t\t\t\t\t\t\tenableResizing={ enableResizing }\n\t\t\t\t\t\t\t\t\tsettings={ settings }\n\t\t\t\t\t\t\t\t\tcontentRef={ mergedRefs }\n\t\t\t\t\t\t\t\t\treadonly={ canvasMode === 'view' }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ resizeObserver }\n\t\t\t\t\t\t\t\t\t<BlockList\n\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-block-editor__block-list wp-site-blocks\"\n\t\t\t\t\t\t\t\t\t\t__experimentalLayout={ LAYOUT }\n\t\t\t\t\t\t\t\t\t\trenderAppender={ showBlockAppender }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</EditorCanvas>\n\t\t\t\t\t\t\t</ResizableEditor>\n\t\t\t\t\t\t</BlockTools>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</StyleBook.Slot>\n\t\t\t<ReusableBlocksMenuItems />\n\t\t</BlockEditorProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState, useRef } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\nexport default function CodeEditorTextArea( { value, onChange, onInput } ) {\n\tconst [ stateValue, setStateValue ] = useState( value );\n\tconst [ isDirty, setIsDirty ] = useState( false );\n\tconst instanceId = useInstanceId( CodeEditorTextArea );\n\tconst valueRef = useRef();\n\n\tif ( ! isDirty && stateValue !== value ) {\n\t\tsetStateValue( value );\n\t}\n\n\t/**\n\t * Handles a textarea change event to notify the onChange prop callback and\n\t * reflect the new value in the component's own state. This marks the start\n\t * of the user's edits, if not already changed, preventing future props\n\t * changes to value from replacing the rendered value. This is expected to\n\t * be followed by a reset to dirty state via `stopEditing`.\n\t *\n\t * @see stopEditing\n\t *\n\t * @param {Event} event Change event.\n\t */\n\tconst onChangeHandler = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tonInput( newValue );\n\t\tsetStateValue( newValue );\n\t\tsetIsDirty( true );\n\t\tvalueRef.current = newValue;\n\t};\n\n\t/**\n\t * Function called when the user has completed their edits, responsible for\n\t * ensuring that changes, if made, are surfaced to the onPersist prop\n\t * callback and resetting dirty state.\n\t */\n\tconst stopEditing = () => {\n\t\tif ( isDirty ) {\n\t\t\tonChange( stateValue );\n\t\t\tsetIsDirty( false );\n\t\t}\n\t};\n\n\t// Ensure changes aren't lost when component unmounts.\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( valueRef.current ) {\n\t\t\t\tonChange( valueRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `code-editor-text-area-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ stateValue }\n\t\t\t\tonChange={ onChangeHandler }\n\t\t\t\tonBlur={ stopEditing }\n\t\t\t\tclassName=\"edit-site-code-editor-text-area\"\n\t\t\t\tid={ `code-editor-text-area-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { useEntityBlockEditor, useEntityProp } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport CodeEditorTextArea from './code-editor-text-area';\n\nexport default function CodeEditor() {\n\tconst { templateType, shortcut } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType } = select( editSiteStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\treturn {\n\t\t\ttemplateType: getEditedPostType(),\n\t\t\tshortcut: getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t};\n\t}, [] );\n\tconst [ contentStructure, setContent ] = useEntityProp(\n\t\t'postType',\n\t\ttemplateType,\n\t\t'content'\n\t);\n\tconst [ blocks, , onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\n\t// Replicates the logic found in getEditedPostContent().\n\tlet content;\n\tif ( contentStructure instanceof Function ) {\n\t\tcontent = contentStructure( { blocks } );\n\t} else if ( blocks ) {\n\t\t// If we have parsed blocks already, they should be our source of truth.\n\t\t// Parsing applies block deprecations and legacy block conversions that\n\t\t// unparsed content will not have.\n\t\tcontent = __unstableSerializeAndClean( blocks );\n\t} else {\n\t\tcontent = contentStructure;\n\t}\n\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\treturn (\n\t\t<div className=\"edit-site-code-editor\">\n\t\t\t<div className=\"edit-site-code-editor__toolbar\">\n\t\t\t\t<h2>{ __( 'Editing code' ) }</h2>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ () => switchEditorMode( 'visual' ) }\n\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Exit code editor' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-code-editor__body\">\n\t\t\t\t<CodeEditorTextArea\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( newContent ) => {\n\t\t\t\t\t\tonChange( parse( newContent ), {\n\t\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonInput={ setContent }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { SIDEBAR_BLOCK } from '../sidebar-edit-mode/constants';\nimport { STORE_NAME } from '../../store/constants';\n\nfunction KeyboardShortcuts() {\n\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\tuseSelect( coreStore );\n\tconst { getEditorMode } = useSelect( editSiteStore );\n\tconst isListViewOpen = useSelect(\n\t\t( select ) => select( editSiteStore ).isListViewOpened(),\n\t\t[]\n\t);\n\tconst isBlockInspectorOpen = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\teditSiteStore.name\n\t\t\t) === SIDEBAR_BLOCK,\n\t\t[]\n\t);\n\tconst { redo, undo } = useDispatch( coreStore );\n\tconst { setIsListViewOpened, switchEditorMode } =\n\t\tuseDispatch( editSiteStore );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\n\tuseShortcut( 'core/edit-site/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst isDirty = !! dirtyEntityRecords.length;\n\t\tconst isSaving = dirtyEntityRecords.some( ( record ) =>\n\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t);\n\n\t\tif ( ! isSaving && isDirty ) {\n\t\t\tsetIsSaveViewOpened( true );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-list-view', () => {\n\t\tsetIsListViewOpened( ! isListViewOpen );\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-block-settings-sidebar', ( event ) => {\n\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t// obscure shortcuts from triggering.\n\t\tevent.preventDefault();\n\n\t\tif ( isBlockInspectorOpen ) {\n\t\t\tdisableComplementaryArea( STORE_NAME );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-mode', () => {\n\t\tswitchEditorMode( getEditorMode() === 'visual' ? 'text' : 'visual' );\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the block list view.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-block-settings-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the block settings sidebar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { close } from '@wordpress/icons';\nimport {\n\tuseViewportMatch,\n\t__experimentalUseDialog as useDialog,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function InserterSidebar() {\n\tconst { setIsInserterOpened } = useDispatch( editSiteStore );\n\tconst insertionPoint = useSelect(\n\t\t( select ) => select( editSiteStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tconst TagName = ! isMobile ? VisuallyHidden : 'div';\n\tconst [ inserterDialogRef, inserterDialogProps ] = useDialog( {\n\t\tonClose: () => setIsInserterOpened( false ),\n\t\tfocusOnMount: null,\n\t} );\n\n\tconst libraryRef = useRef();\n\tuseEffect( () => {\n\t\tlibraryRef.current.focusSearch();\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ inserterDialogRef }\n\t\t\t{ ...inserterDialogProps }\n\t\t\tclassName=\"edit-site-editor__inserter-panel\"\n\t\t>\n\t\t\t<TagName className=\"edit-site-editor__inserter-panel-header\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Close block inserter' ) }\n\t\t\t\t\tonClick={ () => setIsInserterOpened( false ) }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t\t<div className=\"edit-site-editor__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tshouldFocusBlock={ isMobile }\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalFilterValue={ insertionPoint.filterValue }\n\t\t\t\t\tref={ libraryRef }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport {\n\tuseFocusOnMount,\n\tuseFocusReturn,\n\tuseInstanceId,\n\tuseMergeRefs,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editSiteStore );\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst headerFocusReturnRef = useFocusReturn();\n\tconst contentFocusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-site-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\taria-labelledby={ labelId }\n\t\t\tclassName=\"edit-site-editor__list-view-panel\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-header\"\n\t\t\t\tref={ headerFocusReturnRef }\n\t\t\t>\n\t\t\t\t<strong id={ labelId }>{ __( 'List View' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close List View Sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [\n\t\t\t\t\tcontentFocusReturnRef,\n\t\t\t\t\tfocusOnMountRef,\n\t\t\t\t] ) }\n\t\t\t>\n\t\t\t\t<ListView />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export default function WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"edit-site-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\n\nexport default function WelcomeGuideEditor() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst isActive = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t[]\n\t);\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to the site editor' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Edit your site' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Design everything on your site — from the header right down to the footer — using blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Click <StylesIconImage /> to start designing your blocks, and choose your typography, layout, and colors.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tStylesIconImage: (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\talt={ __( 'styles' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z' fill='%231E1E1E'/%3E%3C/svg%3E%0A\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ExternalLink, Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\nimport { store as editSiteStore } from '../../store';\n\nexport default function WelcomeGuideStyles() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst { isActive, isStylesOpen } = useSelect( ( select ) => {\n\t\tconst sidebar = select( interfaceStore ).getActiveComplementaryArea(\n\t\t\teditSiteStore.name\n\t\t);\n\n\t\treturn {\n\t\t\tisActive: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuideStyles'\n\t\t\t),\n\t\t\tisStylesOpen: sidebar === 'edit-site/global-styles',\n\t\t};\n\t}, [] );\n\n\tif ( ! isActive || ! isStylesOpen ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to styles' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuideStyles' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Welcome to Styles' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Tweak your site, or give it a whole new look! Get creative — how about a new color palette for your buttons, or choosing a new font? Take a look at what you can do here.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Set the design' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can customize your site as much as you like with different colors, typography, and layouts. Or if you prefer, just leave it up to your theme to handle! '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Personalize blocks' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can adjust your blocks to ensure a cohesive experience across your site — add your unique colors to a branded Button block, or adjust the Heading block to your preferred size.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'New to block themes and styling your site? '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/styles-overview/'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Here’s a detailed guide to learn how to make the most of it.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport WelcomeGuideEditor from './editor';\nimport WelcomeGuideStyles from './styles';\n\nexport default function WelcomeGuide() {\n\treturn (\n\t\t<>\n\t\t\t<WelcomeGuideEditor />\n\t\t\t<WelcomeGuideStyles />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\n/**\n * Internal dependencies\n */\nimport { useGlobalStylesOutput } from '../global-styles/use-global-styles-output';\n\nfunction useGlobalStylesRenderer() {\n\tconst [ styles, settings, svgFilters ] = useGlobalStylesOutput();\n\tconst { getSettings } = useSelect( editSiteStore );\n\tconst { updateSettings } = useDispatch( editSiteStore );\n\n\tuseEffect( () => {\n\t\tif ( ! styles || ! settings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentStoreSettings = getSettings();\n\t\tconst nonGlobalStyles = Object.values(\n\t\t\tcurrentStoreSettings.styles ?? []\n\t\t).filter( ( style ) => ! style.isGlobalStyles );\n\t\tupdateSettings( {\n\t\t\t...currentStoreSettings,\n\t\t\tstyles: [ ...nonGlobalStyles, ...styles ],\n\t\t\tsvgFilters,\n\t\t\t__experimentalFeatures: settings,\n\t\t} );\n\t}, [ styles, settings ] );\n}\n\nexport function GlobalStylesRenderer() {\n\tuseGlobalStylesRenderer();\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from './index';\n\nexport default function useTitle( title ) {\n\tconst location = useLocation();\n\tconst siteTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord( 'root', 'site' )?.title,\n\t\t[]\n\t);\n\tconst isInitialLocationRef = useRef( true );\n\n\tuseEffect( () => {\n\t\tisInitialLocationRef.current = false;\n\t}, [ location ] );\n\n\tuseEffect( () => {\n\t\t// Don't update or announce the title for initial page load.\n\t\tif ( isInitialLocationRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( title && siteTitle ) {\n\t\t\t// @see https://github.com/WordPress/wordpress-develop/blob/94849898192d271d533e09756007e176feb80697/src/wp-admin/admin-header.php#L67-L68\n\t\t\tconst formattedTitle = sprintf(\n\t\t\t\t/* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */\n\t\t\t\t__( '%1$s ‹ %2$s — WordPress' ),\n\t\t\t\tdecodeEntities( title ),\n\t\t\t\tdecodeEntities( siteTitle )\n\t\t\t);\n\n\t\t\tdocument.title = formattedTitle;\n\n\t\t\t// Announce title on route change for screen readers.\n\t\t\tspeak(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: The page title that is currently displaying. */\n\t\t\t\t\t__( 'Now displaying: %s' ),\n\t\t\t\t\tdocument.title\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t}\n\t}, [ title, siteTitle, location ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, Notice } from '@wordpress/components';\nimport { EntityProvider, store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tBlockContextProvider,\n\tBlockBreadcrumb,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tInterfaceSkeleton,\n\tComplementaryArea,\n\tstore as interfaceStore,\n} from '@wordpress/interface';\nimport {\n\tEditorNotices,\n\tEditorSnackbars,\n\tEntitiesSavedStates,\n} from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { SidebarComplementaryAreaFills } from '../sidebar-edit-mode';\nimport BlockEditor from '../block-editor';\nimport CodeEditor from '../code-editor';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport InserterSidebar from '../secondary-sidebar/inserter-sidebar';\nimport ListViewSidebar from '../secondary-sidebar/list-view-sidebar';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editSiteStore } from '../../store';\nimport { GlobalStylesRenderer } from '../global-styles-renderer';\nimport { GlobalStylesProvider } from '../global-styles/global-styles-provider';\nimport useTitle from '../routes/use-title';\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n};\n\nexport default function Editor() {\n\tconst {\n\t\teditedPostId,\n\t\teditedPostType,\n\t\teditedPost,\n\t\tcontext,\n\t\thasLoadedPost,\n\t\teditorMode,\n\t\tcanvasMode,\n\t\tblockEditorMode,\n\t\tisRightSidebarOpen,\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tisSaveViewOpen,\n\t\tshowIconLabels,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostType,\n\t\t\tgetEditedPostId,\n\t\t\tgetEditedPostContext,\n\t\t\tgetEditorMode,\n\t\t\t__unstableGetCanvasMode,\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tisSaveViewOpened,\n\t\t} = select( editSiteStore );\n\t\tconst { hasFinishedResolution, getEntityRecord } = select( coreStore );\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\n\t\tconst { getActiveComplementaryArea } = select( interfaceStore );\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\n\t\t// The currently selected entity to display.\n\t\t// Typically template or template part in the site editor.\n\t\treturn {\n\t\t\teditedPostId: postId,\n\t\t\teditedPostType: postType,\n\t\t\teditedPost: postId\n\t\t\t\t? getEntityRecord( 'postType', postType, postId )\n\t\t\t\t: null,\n\t\t\tcontext: getEditedPostContext(),\n\t\t\thasLoadedPost: postId\n\t\t\t\t? hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpostType,\n\t\t\t\t\t\tpostId,\n\t\t\t\t  ] )\n\t\t\t\t: false,\n\t\t\teditorMode: getEditorMode(),\n\t\t\tcanvasMode: __unstableGetCanvasMode(),\n\t\t\tblockEditorMode: __unstableGetEditorMode(),\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t\tisRightSidebarOpen: getActiveComplementaryArea(\n\t\t\t\teditSiteStore.name\n\t\t\t),\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { setIsSaveViewOpened, setEditedPostContext } =\n\t\tuseDispatch( editSiteStore );\n\n\tconst isViewMode = canvasMode === 'view';\n\tconst isEditMode = canvasMode === 'edit';\n\tconst showVisualEditor = isViewMode || editorMode === 'visual';\n\tconst showBlockBreakcrumb =\n\t\tisEditMode && showVisualEditor && blockEditorMode !== 'zoom-out';\n\tconst shouldShowInserter = isEditMode && showVisualEditor && isInserterOpen;\n\tconst shouldShowListView = isEditMode && showVisualEditor && isListViewOpen;\n\tconst secondarySidebarLabel = isListViewOpen\n\t\t? __( 'List View' )\n\t\t: __( 'Block Library' );\n\tconst blockContext = useMemo(\n\t\t() => ( {\n\t\t\t...context,\n\t\t\tqueryContext: [\n\t\t\t\tcontext?.queryContext || { page: 1 },\n\t\t\t\t( newQueryContext ) =>\n\t\t\t\t\tsetEditedPostContext( {\n\t\t\t\t\t\t...context,\n\t\t\t\t\t\tqueryContext: {\n\t\t\t\t\t\t\t...context?.queryContext,\n\t\t\t\t\t\t\t...newQueryContext,\n\t\t\t\t\t\t},\n\t\t\t\t\t} ),\n\t\t\t],\n\t\t} ),\n\t\t[ context ]\n\t);\n\tconst isReady = editedPostType !== undefined && editedPostId !== undefined;\n\n\t// Only announce the title once the editor is ready to prevent \"Replace\"\n\t// action in <URlQueryController> from double-announcing.\n\tuseTitle( isReady && __( 'Editor (beta)' ) );\n\n\tif ( ! isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isEditMode && <WelcomeGuide /> }\n\t\t\t<KeyboardShortcuts.Register />\n\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t<EntityProvider\n\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\ttype={ editedPostType }\n\t\t\t\t\tid={ editedPostId }\n\t\t\t\t>\n\t\t\t\t\t<GlobalStylesProvider>\n\t\t\t\t\t\t<BlockContextProvider value={ blockContext }>\n\t\t\t\t\t\t\t<SidebarComplementaryAreaFills />\n\t\t\t\t\t\t\t<InterfaceSkeleton\n\t\t\t\t\t\t\t\tenableRegionNavigation={ false }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tshowIconLabels && 'show-icon-labels'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnotices={ isEditMode && <EditorSnackbars /> }\n\t\t\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<GlobalStylesRenderer />\n\t\t\t\t\t\t\t\t\t\t{ isEditMode && <EditorNotices /> }\n\t\t\t\t\t\t\t\t\t\t{ showVisualEditor && editedPost && (\n\t\t\t\t\t\t\t\t\t\t\t<BlockEditor />\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t{ editorMode === 'text' &&\n\t\t\t\t\t\t\t\t\t\t\teditedPost && <CodeEditor /> }\n\t\t\t\t\t\t\t\t\t\t{ hasLoadedPost && ! editedPost && (\n\t\t\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"You attempted to edit an item that doesn't exist. Perhaps it was deleted?\"\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t{ isEditMode && <KeyboardShortcuts /> }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsecondarySidebar={\n\t\t\t\t\t\t\t\t\tisEditMode &&\n\t\t\t\t\t\t\t\t\t( ( shouldShowInserter && (\n\t\t\t\t\t\t\t\t\t\t<InserterSidebar />\n\t\t\t\t\t\t\t\t\t) ) ||\n\t\t\t\t\t\t\t\t\t\t( shouldShowListView && (\n\t\t\t\t\t\t\t\t\t\t\t<ListViewSidebar />\n\t\t\t\t\t\t\t\t\t\t) ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsidebar={\n\t\t\t\t\t\t\t\t\tisEditMode &&\n\t\t\t\t\t\t\t\t\tisRightSidebarOpen && (\n\t\t\t\t\t\t\t\t\t\t<ComplementaryArea.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\tisEditMode && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ isSaveViewOpen ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<EntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\tclose={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsSaveViewOpened(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"edit-site-editor__toggle-save-panel\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-editor__toggle-save-panel-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsSaveViewOpened(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-expanded={ false }\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Open save panel'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t\t\tshowBlockBreakcrumb && (\n\t\t\t\t\t\t\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\t\t\t\t\t\t\trootLabelText={ __( 'Template' ) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\t\t\t...interfaceLabels,\n\t\t\t\t\t\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t\t</GlobalStylesProvider>\n\t\t\t\t</EntityProvider>\n\t\t\t</EntityProvider>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport AddNewTemplate from '../add-new-template';\nimport { store as editSiteStore } from '../../store';\n\nexport default function Header( { templateType } ) {\n\tconst { canCreate, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { supportsTemplatePartsMode } =\n\t\t\t\tselect( editSiteStore ).getSettings();\n\t\t\treturn {\n\t\t\t\tpostType: select( coreStore ).getPostType( templateType ),\n\t\t\t\tcanCreate: ! supportsTemplatePartsMode,\n\t\t\t};\n\t\t},\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<header className=\"edit-site-list-header\">\n\t\t\t<Heading level={ 1 } className=\"edit-site-list-header__title\">\n\t\t\t\t{ postType.labels?.name }\n\t\t\t</Heading>\n\n\t\t\t{ canCreate && (\n\t\t\t\t<div className=\"edit-site-list-header__right\">\n\t\t\t\t\t<AddNewTemplate\n\t\t\t\t\t\ttemplateType={ templateType }\n\t\t\t\t\t\tshowIcon={ false }\n\t\t\t\t\t\ttoggleProps={ { variant: 'primary' } }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</header>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tMenuItem,\n\tModal,\n\tTextControl,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function RenameMenuItem( { template, onClose } ) {\n\tconst [ title, setTitle ] = useState( () => template.title.rendered );\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tif ( ! template.is_custom ) {\n\t\treturn null;\n\t}\n\n\tasync function onTemplateRename( event ) {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\ttitle,\n\t\t\t} );\n\n\t\t\t// Update state before saving rerenders the list.\n\t\t\tsetTitle( '' );\n\t\t\tsetIsModalOpen( false );\n\t\t\tonClose();\n\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\tcreateSuccessNotice( __( 'Entity renamed.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while renaming the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\tsetTitle( template.title.rendered );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Rename' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Rename' ) }\n\t\t\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\t\t\tonRequestClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\toverlayClassName=\"edit-site-list__rename-modal\"\n\t\t\t\t>\n\t\t\t\t\t<form onSubmit={ onTemplateRename }>\n\t\t\t\t\t\t<Flex align=\"flex-start\" gap={ 8 }>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tclassName=\"edit-site-list__rename-modal-actions\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport isTemplateRemovable from '../../../utils/is-template-removable';\nimport isTemplateRevertable from '../../../utils/is-template-revertable';\nimport RenameMenuItem from './rename-menu-item';\n\nexport default function Actions( { template } ) {\n\tconst { removeTemplate, revertTemplate } = useDispatch( editSiteStore );\n\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst isRemovable = isTemplateRemovable( template );\n\tconst isRevertable = isTemplateRevertable( template );\n\n\tif ( ! isRemovable && ! isRevertable ) {\n\t\treturn null;\n\t}\n\n\tasync function revertAndSaveTemplate() {\n\t\ttry {\n\t\t\tawait revertTemplate( template, { allowUndo: false } );\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id\n\t\t\t);\n\n\t\t\tcreateSuccessNotice( __( 'Entity reverted.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while reverting the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Actions' ) }\n\t\t\tclassName=\"edit-site-list-table__actions\"\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t{ isRemovable && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RenameMenuItem\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tremoveTemplate( template );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isRevertable && (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\trevertAndSaveTemplate();\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) }\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * Check if a template is removable.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\n\treturn template.source === 'custom' && ! template.has_theme_file;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plugins = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z\" />\n\t</SVG>\n);\n\nexport default plugins;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst commentAuthorAvatar = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default commentAuthorAvatar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst globe = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z\" />\n\t</SVG>\n);\n\nexport default globe;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\tIcon,\n\tTooltip,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tcommentAuthorAvatar as authorIcon,\n\tlayout as themeIcon,\n\tplugins as pluginIcon,\n\tglobe as globeIcon,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\nconst TEMPLATE_POST_TYPE_NAMES = [ 'wp_template', 'wp_template_part' ];\n\nfunction CustomizedTooltip( { isCustomized, children } ) {\n\tif ( ! isCustomized ) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<Tooltip text={ __( 'This template has been customized' ) }>\n\t\t\t{ children }\n\t\t</Tooltip>\n\t);\n}\n\nfunction BaseAddedBy( { text, icon, imageUrl, isCustomized } ) {\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\n\treturn (\n\t\t<HStack alignment=\"left\">\n\t\t\t<CustomizedTooltip isCustomized={ isCustomized }>\n\t\t\t\t{ imageUrl ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__avatar',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__icon',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-customized': isCustomized,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</CustomizedTooltip>\n\t\t\t<span>{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nfunction AddedByTheme( { slug, isCustomized } ) {\n\tconst theme = useSelect(\n\t\t( select ) => select( coreStore ).getTheme( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ themeIcon }\n\t\t\ttext={ theme?.name?.rendered || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByPlugin( { slug, isCustomized } ) {\n\tconst plugin = useSelect(\n\t\t( select ) => select( coreStore ).getPlugin( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ pluginIcon }\n\t\t\ttext={ plugin?.name || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByAuthor( { id } ) {\n\tconst user = useSelect(\n\t\t( select ) => select( coreStore ).getUser( id ),\n\t\t[ id ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ authorIcon }\n\t\t\timageUrl={ user?.avatar_urls?.[ 48 ] }\n\t\t\ttext={ user?.nickname }\n\t\t/>\n\t);\n}\n\nfunction AddedBySite() {\n\tconst { name, logoURL } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, getMedia } = select( coreStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase' );\n\n\t\treturn {\n\t\t\tname: siteData?.name,\n\t\t\tlogoURL: siteData?.site_logo\n\t\t\t\t? getMedia( siteData.site_logo )?.source_url\n\t\t\t\t: undefined,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<BaseAddedBy icon={ globeIcon } imageUrl={ logoURL } text={ name } />\n\t);\n}\n\nexport default function AddedBy( { templateType, template } ) {\n\tif ( ! template ) {\n\t\treturn;\n\t}\n\n\tif ( TEMPLATE_POST_TYPE_NAMES.includes( templateType ) ) {\n\t\t// Template originally provided by a theme, but customized by a user.\n\t\t// Templates originally didn't have the 'origin' field so identify\n\t\t// older customized templates by checking for no origin and a 'theme'\n\t\t// or 'custom' source.\n\t\tif (\n\t\t\ttemplate.has_theme_file &&\n\t\t\t( template.origin === 'theme' ||\n\t\t\t\t( ! template.origin &&\n\t\t\t\t\t[ 'theme', 'custom' ].includes( template.source ) ) )\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<AddedByTheme\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template originally provided by a plugin, but customized by a user.\n\t\tif ( template.has_theme_file && template.origin === 'plugin' ) {\n\t\t\treturn (\n\t\t\t\t<AddedByPlugin\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template was created from scratch, but has no author. Author support\n\t\t// was only added to templates in WordPress 5.9. Fallback to showing the\n\t\t// site logo and title.\n\t\tif (\n\t\t\t! template.has_theme_file &&\n\t\t\ttemplate.source === 'custom' &&\n\t\t\t! template.author\n\t\t) {\n\t\t\treturn <AddedBySite />;\n\t\t}\n\t}\n\n\t// Simply show the author for templates created from scratch that have an\n\t// author or for any other post type.\n\treturn <AddedByAuthor id={ template.author } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore, useEntityRecords } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tVisuallyHidden,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport Link from '../routes/link';\nimport Actions from './actions';\nimport AddedBy from './added-by';\n\nexport default function Table( { templateType } ) {\n\tconst { records: templates, isResolving: isLoading } = useEntityRecords(\n\t\t'postType',\n\t\ttemplateType,\n\t\t{\n\t\t\tper_page: -1,\n\t\t}\n\t);\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! templates || isLoading ) {\n\t\treturn null;\n\t}\n\n\tif ( ! templates.length ) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: The template type name, should be either \"templates\" or \"template parts\".\n\t\t\t\t\t__( 'No %s found.' ),\n\t\t\t\t\tpostType?.labels?.name?.toLowerCase()\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t// These explicit aria roles are needed for Safari.\n\t\t// See https://developer.mozilla.org/en-US/docs/Web/CSS/display#tables\n\t\t<table className=\"edit-site-list-table\" role=\"table\">\n\t\t\t<thead>\n\t\t\t\t<tr className=\"edit-site-list-table-head\" role=\"row\">\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Template' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Added by' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisuallyHidden>{ __( 'Actions' ) }</VisuallyHidden>\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\n\t\t\t<tbody>\n\t\t\t\t{ templates.map( ( template ) => (\n\t\t\t\t\t<tr\n\t\t\t\t\t\tkey={ template.id }\n\t\t\t\t\t\tclassName=\"edit-site-list-table-row\"\n\t\t\t\t\t\trole=\"row\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Heading level={ 4 }>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: template.id,\n\t\t\t\t\t\t\t\t\t\tpostType: template.type,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ decodeEntities(\n\t\t\t\t\t\t\t\t\t\ttemplate.title?.rendered ||\n\t\t\t\t\t\t\t\t\t\t\ttemplate.slug\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t{ decodeEntities( template.description ) }\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<AddedBy\n\t\t\t\t\t\t\t\ttemplateType={ templateType }\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Actions template={ template } />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t) ) }\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { InterfaceSkeleton } from '@wordpress/interface';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { EditorSnackbars } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport useRegisterShortcuts from './use-register-shortcuts';\nimport Header from './header';\nimport Table from './table';\nimport { useLocation } from '../routes';\nimport useTitle from '../routes/use-title';\n\nexport default function List() {\n\tconst {\n\t\tparams: { postType: templateType },\n\t} = useLocation();\n\n\tuseRegisterShortcuts();\n\n\tconst { previousShortcut, nextShortcut } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/next-region' ),\n\t\t};\n\t}, [] );\n\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tuseTitle( postType?.labels?.name );\n\n\t// `postType` could load in asynchronously. Only provide the detailed region labels if\n\t// the postType has loaded, otherwise `InterfaceSkeleton` will fallback to the defaults.\n\tconst itemsListLabel = postType?.labels?.items_list;\n\tconst detailedRegionLabels = postType\n\t\t? {\n\t\t\t\theader: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Header' as in the header area of that page.\n\t\t\t\t\t__( '%s - Header' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t\t\tbody: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Content' as in the content area of that page.\n\t\t\t\t\t__( '%s - Content' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t  }\n\t\t: undefined;\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tclassName=\"edit-site-list\"\n\t\t\tlabels={ detailedRegionLabels }\n\t\t\theader={ <Header templateType={ templateType } /> }\n\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\tcontent={ <Table templateType={ templateType } /> }\n\t\t\tshortcuts={ {\n\t\t\t\tprevious: previousShortcut,\n\t\t\t\tnext: nextShortcut,\n\t\t\t} }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\n\nimport { useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\nexport default function useRegisterShortcuts() {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [] );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default function ErrorBoundaryWarning( {\n\tmessage,\n\terror,\n\treboot,\n\tdashboardLink,\n} ) {\n\tconst actions = [];\n\n\tif ( reboot ) {\n\t\tactions.push(\n\t\t\t<Button key=\"recovery\" onClick={ reboot } variant=\"secondary\">\n\t\t\t\t{ __( 'Attempt Recovery' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\tif ( error ) {\n\t\tactions.push(\n\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t</CopyButton>\n\t\t);\n\t}\n\n\tif ( dashboardLink ) {\n\t\tactions.push(\n\t\t\t<Button\n\t\t\t\tkey=\"back-to-dashboard\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\thref={ dashboardLink }\n\t\t\t>\n\t\t\t\t{ __( 'Back to dashboard' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Warning className=\"editor-error-boundary\" actions={ actions }>\n\t\t\t{ message }\n\t\t</Warning>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundaryWarning from './warning';\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.reboot = this.reboot.bind( this );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\treboot() {\n\t\tthis.props.onError();\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor has encountered an unexpected error.'\n\t\t\t\t) }\n\t\t\t\terror={ error }\n\t\t\t\treboot={ this.reboot }\n\t\t\t/>\n\t\t);\n\t}\n}\n","/**\n * Returns if the params match the list page route.\n *\n * @param {Object} params          The search params.\n * @param {string} params.postId   The post ID.\n * @param {string} params.postType The post type.\n * @return {boolean} Is list page or not.\n */\nexport default function getIsListPage( { postId, postType } ) {\n\treturn !! ( ! postId && postType );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z\" />\n\t</SVG>\n);\n\nexport default listView;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronUpDown = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m12 20-4.5-3.6-.9 1.2L12 22l5.5-4.4-.9-1.2L12 20zm0-16 4.5 3.6.9-1.2L12 2 6.5 6.4l.9 1.2L12 4z\" />\n\t</SVG>\n);\n\nexport default chevronUpDown;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nexport default function Shortcut( {\n\tdescription,\n\tkeyCombination,\n\taliases = [],\n\tariaLabel,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nexport default function DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ classnames(\n\t\t\t'edit-site-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"edit-site-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/edit-site/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { ___unstablePreferencesModalBaseOption as BaseOption } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function EnableFeature( props ) {\n\tconst { featureName, ...remainingProps } = props;\n\tconst isChecked = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get( 'core/edit-site', featureName ),\n\t\t[ featureName ]\n\t);\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst onChange = () => toggle( 'core/edit-site', featureName );\n\treturn (\n\t\t<BaseOption\n\t\t\tonChange={ onChange }\n\t\t\tisChecked={ isChecked }\n\t\t\t{ ...remainingProps }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tPreferencesModal,\n\tPreferencesModalTabs,\n\tPreferencesModalSection,\n} from '@wordpress/interface';\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport EnableFeature from './enable-feature';\n\nexport default function EditSitePreferencesModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tconst sections = useMemo( () => [\n\t\t{\n\t\t\tname: 'general',\n\t\t\ttabLabel: __( 'General' ),\n\t\t\tcontent: (\n\t\t\t\t<PreferencesModalSection\n\t\t\t\t\ttitle={ __( 'Appearance' ) }\n\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t'Customize options related to the block editor interface and editing flow.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"focusMode\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Highlights the current block and fades other content.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"showIconLabels\"\n\t\t\t\t\t\tlabel={ __( 'Show button text labels' ) }\n\t\t\t\t\t\thelp={ __( 'Show text instead of icons on buttons.' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"showListViewByDefault\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Opens the block list view sidebar by default.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Always open list view' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PreferencesModalSection>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tname: 'blocks',\n\t\t\ttabLabel: __( 'Blocks' ),\n\t\t\tcontent: (\n\t\t\t\t<PreferencesModalSection\n\t\t\t\t\ttitle={ __( 'Block interactions' ) }\n\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t'Customize how you interact with blocks in the block library and editing canvas.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"keepCaretInsideBlock\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Contain text cursor inside block' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PreferencesModalSection>\n\t\t\t),\n\t\t},\n\t] );\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<PreferencesModal closeModal={ toggleModal }>\n\t\t\t<PreferencesModalTabs sections={ sections } />\n\t\t</PreferencesModal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } = createSlotFill(\n\t'EditSiteToolsMoreMenuGroup'\n);\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => (\n\t<Slot fillProps={ fillProps }>\n\t\t{ ( fills ) => ! isEmpty( fills ) && fills }\n\t</Slot>\n);\n\nexport default ToolsMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst download = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n\nexport default download;\n","/**\n * External dependencies\n */\nimport downloadjs from 'downloadjs';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { download } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function SiteExport() {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tasync function handleExport() {\n\t\ttry {\n\t\t\tconst response = await apiFetch( {\n\t\t\t\tpath: '/wp-block-editor/v1/export',\n\t\t\t\tparse: false,\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: 'application/zip',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst blob = await response.blob();\n\t\t\tconst contentDisposition = response.headers.get(\n\t\t\t\t'content-disposition'\n\t\t\t);\n\t\t\tconst contentDispositionMatches =\n\t\t\t\tcontentDisposition.match( /=(.+)\\.zip/ );\n\t\t\tconst fileName = contentDispositionMatches[ 1 ]\n\t\t\t\t? contentDispositionMatches[ 1 ]\n\t\t\t\t: 'edit-site-export';\n\n\t\t\tdownloadjs( blob, fileName + '.zip', 'application/zip' );\n\t\t} catch ( errorResponse ) {\n\t\t\tlet error = {};\n\t\t\ttry {\n\t\t\t\terror = await errorResponse.json();\n\t\t\t} catch ( e ) {}\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the site export.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\trole=\"menuitem\"\n\t\t\ticon={ download }\n\t\t\tonClick={ handleExport }\n\t\t\tinfo={ __(\n\t\t\t\t'Download your theme with updated templates and styles.'\n\t\t\t) }\n\t\t>\n\t\t\t{ _x( 'Export', 'site exporter menu item' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuideMenuItem() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\treturn (\n\t\t<MenuItem onClick={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }>\n\t\t\t{ __( 'Welcome Guide' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst getText = useSelect( ( select ) => {\n\t\treturn () => {\n\t\t\tconst { getEditedPostId, getEditedPostType } =\n\t\t\t\tselect( editSiteStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tgetEditedPostType(),\n\t\t\t\tgetEditedPostId()\n\t\t\t);\n\t\t\tif ( record ) {\n\t\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\t\treturn record.content( record );\n\t\t\t\t} else if ( record.blocks ) {\n\t\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t\t} else if ( record.content ) {\n\t\t\t\t\treturn record.content;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t};\n\t}, [] );\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst { shortcut, mode } = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t\tisRichEditingEnabled:\n\t\t\t\tselect( editSiteStore ).getSettings().richEditingEnabled,\n\t\t\tisCodeEditingEnabled:\n\t\t\t\tselect( editSiteStore ).getSettings().codeEditingEnabled,\n\t\t\tmode: select( editSiteStore ).getEditorMode(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( choice.value !== mode ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useReducer } from '@wordpress/element';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { external } from '@wordpress/icons';\nimport { MenuGroup, MenuItem, VisuallyHidden } from '@wordpress/components';\nimport { ActionItem, MoreMenuDropdown } from '@wordpress/interface';\nimport { PreferenceToggleMenuItem } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../../keyboard-shortcut-help-modal';\nimport EditSitePreferencesModal from '../../preferences-modal';\nimport ToolsMoreMenuGroup from '../tools-more-menu-group';\nimport SiteExport from './site-export';\nimport WelcomeGuideMenuItem from './welcome-guide-menu-item';\nimport CopyContentMenuItem from './copy-content-menu-item';\nimport ModeSwitcher from '../mode-switcher';\n\nexport default function MoreMenu( { showIconLabels } ) {\n\tconst [ isModalActive, toggleModal ] = useReducer(\n\t\t( isActive ) => ! isActive,\n\t\tfalse\n\t);\n\n\tconst [ isPreferencesModalActive, togglePreferencesModal ] = useReducer(\n\t\t( isActive ) => ! isActive,\n\t\tfalse\n\t);\n\n\tuseShortcut( 'core/edit-site/keyboard-shortcuts', toggleModal );\n\n\treturn (\n\t\t<>\n\t\t\t<MoreMenuDropdown\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tshowTooltip: ! showIconLabels,\n\t\t\t\t\t...( showIconLabels && { variant: 'tertiary' } ),\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\t\t\t\t\tname=\"focusMode\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Focus on one block at a time' ) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ModeSwitcher />\n\t\t\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\t\t\tname=\"core/edit-site/plugin-more-menu\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Plugins' ) }\n\t\t\t\t\t\t\t\tas={ MenuGroup }\n\t\t\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<SiteExport />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ toggleModal }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<WelcomeGuideMenuItem />\n\t\t\t\t\t\t\t<CopyContentMenuItem />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/site-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem onClick={ togglePreferencesModal }>\n\t\t\t\t\t\t\t\t{ __( 'Preferences' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</MoreMenuDropdown>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isModalActive }\n\t\t\t\ttoggleModal={ toggleModal }\n\t\t\t/>\n\t\t\t<EditSitePreferencesModal\n\t\t\t\tisModalActive={ isPreferencesModalActive }\n\t\t\t\ttoggleModal={ togglePreferencesModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { displayShortcut } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function SaveButton() {\n\tconst { isDirty, isSaving, isSaveViewOpen } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst { isSaveViewOpened } = select( editSiteStore );\n\t\treturn {\n\t\t\tisDirty: dirtyEntityRecords.length > 0,\n\t\t\tisSaving: dirtyEntityRecords.some( ( record ) =>\n\t\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t\t),\n\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t};\n\t}, [] );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\n\tconst disabled = ! isDirty || isSaving;\n\n\tconst label = __( 'Save' );\n\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"primary\"\n\t\t\tclassName=\"edit-site-save-button__button\"\n\t\t\taria-disabled={ disabled }\n\t\t\taria-expanded={ isSaveViewOpen }\n\t\t\tisBusy={ isSaving }\n\t\t\tonClick={ disabled ? undefined : () => setIsSaveViewOpened( true ) }\n\t\t\tlabel={ label }\n\t\t\t/*\n\t\t\t * We want the tooltip to show the keyboard shortcut only when the\n\t\t\t * button does something, i.e. when it's not disabled.\n\t\t\t */\n\t\t\tshortcut={ disabled ? undefined : displayShortcut.primary( 's' ) }\n\t\t\t/*\n\t\t\t * Displaying the keyboard shortcut conditionally makes the tooltip\n\t\t\t * itself show conditionally. This would trigger a full-rerendering\n\t\t\t * of the button that we want to avoid. By setting `showTooltip`,\n\t\t\t & the tooltip is always rendered even when there's no keyboard shortcut.\n\t\t\t */\n\t\t\tshowTooltip\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction UndoButton( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( coreStore ).hasUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( UndoButton );\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction RedoButton( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( coreStore ).hasRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( RedoButton );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronDown = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\n\t</SVG>\n);\n\nexport default chevronDown;\n","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport { useLocation } from '../routes';\nimport { useLink } from '../routes/link';\n\nfunction TemplatePartItemMore( {\n\tonClose,\n\ttemplatePart,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\tconst { params } = useLocation();\n\tconst editLinkProps = useLink(\n\t\t{\n\t\t\tpostId: templatePart.id,\n\t\t\tpostType: templatePart.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tfunction editTemplatePart( event ) {\n\t\teditLinkProps.onClick( event );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\tfunction clearCustomizations() {\n\t\trevertTemplate( templatePart );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuGroup>\n\t\t\t\t<MenuItem { ...editLinkProps } onClick={ editTemplatePart }>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: template part title */\n\t\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\t\ttemplatePart.title?.rendered\n\t\t\t\t\t) }\n\t\t\t\t</MenuItem>\n\t\t\t</MenuGroup>\n\t\t\t{ isTemplateRevertable( templatePart ) && (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template part as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ clearCustomizations }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatePartItem( {\n\ttemplatePart,\n\tclientId,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { selectBlock, toggleBlockHighlight } =\n\t\tuseDispatch( blockEditorStore );\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas =\n\t\t\t\tselect(\n\t\t\t\t\teditorStore\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === templatePart.area\n\t\t\t);\n\t\t},\n\t\t[ templatePart.area ]\n\t);\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<div\n\t\t\trole=\"menuitem\"\n\t\t\tclassName=\"edit-site-template-details__template-areas-item\"\n\t\t>\n\t\t\t<MenuItem\n\t\t\t\trole=\"button\"\n\t\t\t\ticon={ templatePartArea?.icon }\n\t\t\t\ticonPosition=\"left\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t} }\n\t\t\t\tonMouseOver={ highlightBlock }\n\t\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\t\tonFocus={ highlightBlock }\n\t\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\t>\n\t\t\t\t{ templatePartArea?.label }\n\t\t\t</MenuItem>\n\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\tclassName=\"edit-site-template-details__template-areas-item-more\"\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<TemplatePartItemMore\n\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</div>\n\t);\n}\n\nexport default function TemplateAreas( { closeTemplateDetailsDropdown } ) {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuGroup\n\t\t\tlabel={ __( 'Areas' ) }\n\t\t\tclassName=\"edit-site-template-details__group edit-site-template-details__template-areas\"\n\t\t>\n\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t<TemplatePartItem\n\t\t\t\t\tkey={ templatePart.slug }\n\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MenuGroup>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\nexport default function EditTemplateTitle( { template } ) {\n\tconst [ forceEmpty, setForceEmpty ] = useState( false );\n\tconst [ title, setTitle ] = useEntityProp(\n\t\t'postType',\n\t\ttemplate.type,\n\t\t'title',\n\t\ttemplate.id\n\t);\n\n\treturn (\n\t\t<TextControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Title' ) }\n\t\t\tvalue={ forceEmpty ? '' : title }\n\t\t\thelp={\n\t\t\t\ttemplate.type !== 'wp_template_part'\n\t\t\t\t\t? __(\n\t\t\t\t\t\t\t'Give the template a title that indicates its purpose, e.g. \"Full Width\".'\n\t\t\t\t\t  )\n\t\t\t\t\t: null\n\t\t\t}\n\t\t\tonChange={ ( newTitle ) => {\n\t\t\t\tif ( ! newTitle && ! forceEmpty ) {\n\t\t\t\t\tsetForceEmpty( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetForceEmpty( false );\n\t\t\t\tsetTitle( newTitle );\n\t\t\t} }\n\t\t\tonBlur={ () => setForceEmpty( false ) }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\nexport default function TemplatePartAreaSelector( { id } ) {\n\tconst [ area, setArea ] = useEntityProp(\n\t\t'postType',\n\t\t'wp_template_part',\n\t\t'area',\n\t\tid\n\t);\n\n\tconst definedAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\n\tconst areaOptions = definedAreas.map( ( { label, area: _area } ) => ( {\n\t\tlabel,\n\t\tvalue: _area,\n\t} ) );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Area' ) }\n\t\t\tlabelPosition=\"top\"\n\t\t\toptions={ areaOptions }\n\t\t\tvalue={ area }\n\t\t\tonChange={ setArea }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tMenuGroup,\n\tMenuItem,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport { store as editSiteStore } from '../../store';\nimport TemplateAreas from './template-areas';\nimport EditTemplateTitle from './edit-template-title';\nimport { useLink } from '../routes/link';\nimport TemplatePartAreaSelector from './template-part-area-selector';\n\nexport default function TemplateDetails( { template, onClose } ) {\n\tconst { title, description } = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetTemplateInfo( template ),\n\t\t[]\n\t);\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\n\tconst browseAllLinkProps = useLink( {\n\t\t// TODO: We should update this to filter by template part's areas as well.\n\t\tpostType: template.type,\n\t\tpostId: undefined,\n\t} );\n\n\tconst isTemplatePart = template.type === 'wp_template_part';\n\n\t// Only user-created and non-default templates can change the name.\n\t// But any user-created template part can be renamed.\n\tconst canEditTitle = isTemplatePart\n\t\t? ! template.has_theme_file\n\t\t: template.is_custom && ! template.has_theme_file;\n\n\tif ( ! template ) {\n\t\treturn null;\n\t}\n\n\tconst revert = () => {\n\t\trevertTemplate( template );\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<div className=\"edit-site-template-details\">\n\t\t\t<VStack className=\"edit-site-template-details__group\" spacing={ 3 }>\n\t\t\t\t{ canEditTitle ? (\n\t\t\t\t\t<EditTemplateTitle template={ template } />\n\t\t\t\t) : (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\tweight={ 600 }\n\t\t\t\t\t\tclassName=\"edit-site-template-details__title\"\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodeEntities( title ) }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize=\"body\"\n\t\t\t\t\t\tclassName=\"edit-site-template-details__description\"\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodeEntities( description ) }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</VStack>\n\n\t\t\t{ isTemplatePart && (\n\t\t\t\t<div className=\"edit-site-template-details__group\">\n\t\t\t\t\t<TemplatePartAreaSelector id={ template.id } />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t<TemplateAreas closeTemplateDetailsDropdown={ onClose } />\n\n\t\t\t{ isTemplateRevertable( template ) && (\n\t\t\t\t<MenuGroup className=\"edit-site-template-details__group edit-site-template-details__revert\">\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tclassName=\"edit-site-template-details__revert-button\"\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ revert }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-site-template-details__show-all-button\"\n\t\t\t\t{ ...browseAllLinkProps }\n\t\t\t>\n\t\t\t\t{ template?.type === 'wp_template'\n\t\t\t\t\t? __( 'Browse all templates' )\n\t\t\t\t\t: __( 'Browse all template parts' ) }\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function useEditedEntityRecord() {\n\tconst { record, title, isLoaded } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType, getEditedPostId } = select( editSiteStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\n\t\t\tselect( editorStore );\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\t\tconst _record = getEditedEntityRecord( 'postType', postType, postId );\n\t\tconst _isLoaded = !! postId;\n\n\t\treturn {\n\t\t\trecord: _record,\n\t\t\ttitle: getTemplateInfo( _record ).title,\n\t\t\tisLoaded: _isLoaded,\n\t\t};\n\t}, [] );\n\n\treturn {\n\t\tisLoaded,\n\t\trecord,\n\t\tgetTitle: () => ( title ? decodeEntities( title ) : null ),\n\t};\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tDropdown,\n\tButton,\n\tVisuallyHidden,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\nimport { useState, useMemo } from '@wordpress/element';\nimport {\n\tstore as blockEditorStore,\n\tuseBlockDisplayInformation,\n\tBlockIcon,\n} from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport TemplateDetails from '../../template-details';\nimport useEditedEntityRecord from '../../use-edited-entity-record';\n\nfunction getBlockDisplayText( block ) {\n\tif ( block ) {\n\t\tconst blockType = getBlockType( block.name );\n\t\treturn blockType ? getBlockLabel( blockType, block.attributes ) : null;\n\t}\n\treturn null;\n}\n\nfunction useSecondaryText() {\n\tconst { getBlock } = useSelect( blockEditorStore );\n\tconst activeEntityBlockId = useSelect(\n\t\t( select ) =>\n\t\t\tselect(\n\t\t\t\tblockEditorStore\n\t\t\t).__experimentalGetActiveBlockIdByBlockNames( [\n\t\t\t\t'core/template-part',\n\t\t\t] ),\n\t\t[]\n\t);\n\n\tconst blockInformation = useBlockDisplayInformation( activeEntityBlockId );\n\n\tif ( activeEntityBlockId ) {\n\t\treturn {\n\t\t\tlabel: getBlockDisplayText( getBlock( activeEntityBlockId ) ),\n\t\t\tisActive: true,\n\t\t\ticon: blockInformation?.icon,\n\t\t};\n\t}\n\n\treturn {};\n}\n\nexport default function DocumentActions() {\n\tconst showIconLabels = useSelect(\n\t\t( select ) =>\n\t\t\tselect( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t[]\n\t);\n\tconst { isLoaded, record, getTitle } = useEditedEntityRecord();\n\tconst { label, icon } = useSecondaryText();\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Use the title wrapper as the popover anchor so that the dropdown is\n\t\t\t// centered over the whole title area rather than just one part of it.\n\t\t\tanchor: popoverAnchor,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\t// Return a simple loading indicator until we have information to show.\n\tif ( ! isLoaded ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Loading…' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Return feedback that the template does not seem to exist.\n\tif ( ! record ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Template not found' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst entityLabel =\n\t\trecord.type === 'wp_template_part'\n\t\t\t? __( 'template part' )\n\t\t\t: __( 'template' );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'edit-site-document-actions', {\n\t\t\t\t'has-secondary-label': !! label,\n\t\t\t} ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\tclassName=\"edit-site-document-actions__title-wrapper\"\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tclassName=\"edit-site-document-actions__title\"\n\t\t\t\t\tas=\"h1\"\n\t\t\t\t>\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: the entity being edited, like \"template\"*/\n\t\t\t\t\t\t\t__( 'Editing %s: ' ),\n\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t{ getTitle() }\n\t\t\t\t</Text>\n\t\t\t\t<div className=\"edit-site-document-actions__secondary-item\">\n\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t\t<Text size=\"body\">{ label ?? '' }</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"edit-site-document-actions__get-info\"\n\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: the entity to see details about, like \"template\"*/\n\t\t\t\t\t\t\t\t__( 'Show %s details' ),\n\t\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ showIconLabels && __( 'Details' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\tcontentClassName=\"edit-site-document-actions__info-dropdown\"\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<TemplateDetails\n\t\t\t\t\t\t\ttemplate={ record }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tToolSelector,\n\t__experimentalPreviewOptions as PreviewOptions,\n\tNavigableToolbar,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { PinnedItems } from '@wordpress/interface';\nimport { _x, __ } from '@wordpress/i18n';\nimport { listView, plus, external, chevronUpDown } from '@wordpress/icons';\nimport {\n\tButton,\n\tToolbarItem,\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport MoreMenu from './more-menu';\nimport SaveButton from '../save-button';\nimport UndoButton from './undo-redo/undo';\nimport RedoButton from './undo-redo/redo';\nimport DocumentActions from './document-actions';\nimport { store as editSiteStore } from '../../store';\nimport { useHasStyleBook } from '../style-book';\n\nconst preventDefault = ( event ) => {\n\tevent.preventDefault();\n};\n\nexport default function HeaderEditMode() {\n\tconst inserterButton = useRef();\n\tconst {\n\t\tdeviceType,\n\t\ttemplateType,\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tisVisualMode,\n\t\tblockEditorMode,\n\t\thomeUrl,\n\t\tshowIconLabels,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetPreviewDeviceType,\n\t\t\tgetEditedPostType,\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tgetEditorMode,\n\t\t} = select( editSiteStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\n\n\t\tconst postType = getEditedPostType();\n\n\t\tconst {\n\t\t\tgetUnstableBase, // Site index.\n\t\t} = select( coreStore );\n\n\t\treturn {\n\t\t\tdeviceType: __experimentalGetPreviewDeviceType(),\n\t\t\ttemplateType: postType,\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/edit-site/toggle-list-view'\n\t\t\t),\n\t\t\tisVisualMode: getEditorMode() === 'visual',\n\t\t\tblockEditorMode: __unstableGetEditorMode(),\n\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\t__experimentalSetPreviewDeviceType: setPreviewDeviceType,\n\t\tsetIsInserterOpened,\n\t\tsetIsListViewOpened,\n\t} = useDispatch( editSiteStore );\n\tconst { __unstableSetEditorMode } = useDispatch( blockEditorStore );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst openInserter = useCallback( () => {\n\t\tif ( isInserterOpen ) {\n\t\t\t// Focusing the inserter button closes the inserter popover.\n\t\t\tinserterButton.current.focus();\n\t\t} else {\n\t\t\tsetIsInserterOpened( true );\n\t\t}\n\t}, [ isInserterOpen, setIsInserterOpened ] );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst hasStyleBook = useHasStyleBook();\n\n\tconst isFocusMode = templateType === 'wp_template_part';\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst longLabel = _x(\n\t\t'Toggle block inserter',\n\t\t'Generic label for block inserter button'\n\t);\n\tconst shortLabel = ! isInserterOpen ? __( 'Add' ) : __( 'Close' );\n\n\tconst isZoomedOutViewExperimentEnabled =\n\t\twindow?.__experimentalEnableZoomedOutView && isVisualMode;\n\tconst isZoomedOutView = blockEditorMode === 'zoom-out';\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'edit-site-header-edit-mode', {\n\t\t\t\t'show-icon-labels': showIconLabels,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ ! hasStyleBook && (\n\t\t\t\t<NavigableToolbar\n\t\t\t\t\tclassName=\"edit-site-header-edit-mode__start\"\n\t\t\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"edit-site-header-edit-mode__toolbar\">\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tref={ inserterButton }\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tclassName=\"edit-site-header-edit-mode__inserter-toggle\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tisPressed={ isInserterOpen }\n\t\t\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\t\t\tonClick={ openInserter }\n\t\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t\tlabel={ showIconLabels ? shortLabel : longLabel }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\tas={ ToolSelector }\n\t\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\tas={ UndoButton }\n\t\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\tas={ RedoButton }\n\t\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-header-edit-mode__list-view-toggle\"\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t! isVisualMode || isZoomedOutView\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\t\tlabel={ __( 'List View' ) }\n\t\t\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ isZoomedOutViewExperimentEnabled && (\n\t\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-header-edit-mode__zoom-out-view-toggle\"\n\t\t\t\t\t\t\t\t\t\ticon={ chevronUpDown }\n\t\t\t\t\t\t\t\t\t\tisPressed={ isZoomedOutView }\n\t\t\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Zoom-out View' ) }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetPreviewDeviceType( 'desktop' );\n\t\t\t\t\t\t\t\t\t\t\t__unstableSetEditorMode(\n\t\t\t\t\t\t\t\t\t\t\t\tisZoomedOutView\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'edit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'zoom-out'\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</NavigableToolbar>\n\t\t\t) }\n\n\t\t\t<div className=\"edit-site-header-edit-mode__center\">\n\t\t\t\t{ hasStyleBook ? __( 'Style Book' ) : <DocumentActions /> }\n\t\t\t</div>\n\n\t\t\t<div className=\"edit-site-header-edit-mode__end\">\n\t\t\t\t<div className=\"edit-site-header-edit-mode__actions\">\n\t\t\t\t\t{ ! isFocusMode && ! hasStyleBook && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'edit-site-header-edit-mode__preview-options',\n\t\t\t\t\t\t\t\t{ 'is-zoomed-out': isZoomedOutView }\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreviewOptions\n\t\t\t\t\t\t\t\tdeviceType={ deviceType }\n\t\t\t\t\t\t\t\tsetDeviceType={ setPreviewDeviceType }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tviewLabel={ __( 'View' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'View site' ) }\n\t\t\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</PreviewOptions>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<SaveButton />\n\t\t\t\t\t<PinnedItems.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t<MoreMenu showIconLabels={ showIconLabels } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst wordpress = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n\nexport default wordpress;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Icon } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { wordpress } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\n\nfunction SiteIcon( { className } ) {\n\tconst { isRequestingSite, siteIconUrl } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, isResolving } = select( coreDataStore );\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\tisRequestingSite: isResolving( 'core', 'getEntityRecord', [\n\t\t\t\t'root',\n\t\t\t\t'__unstableBase',\n\t\t\t\tundefined,\n\t\t\t] ),\n\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t};\n\t}, [] );\n\n\tif ( isRequestingSite && ! siteIconUrl ) {\n\t\treturn null;\n\t}\n\n\tconst icon = siteIconUrl ? (\n\t\t<img\n\t\t\tclassName=\"edit-site-site-icon__image\"\n\t\t\talt={ __( 'Site Icon' ) }\n\t\t\tsrc={ siteIconUrl }\n\t\t/>\n\t) : (\n\t\t<Icon\n\t\t\tclassName=\"edit-site-site-icon__icon\"\n\t\t\tsize=\"36px\"\n\t\t\ticon={ wordpress }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<div className={ classnames( className, 'edit-site-site-icon' ) }>\n\t\t\t{ icon }\n\t\t</div>\n\t);\n}\n\nexport default SiteIcon;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__unstableMotion as motion,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useReducedMotion, useViewportMatch } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { useLocation } from '../routes';\nimport getIsListPage from '../../utils/get-is-list-page';\nimport SiteIcon from '../site-icon';\nimport useEditedEntityRecord from '../use-edited-entity-record';\n\nconst HUB_ANIMATION_DURATION = 0.3;\n\nconst SiteHub = forwardRef(\n\t( { isMobileCanvasVisible, setIsMobileCanvasVisible, ...props }, ref ) => {\n\t\tconst { params } = useLocation();\n\t\tconst isListPage = getIsListPage( params );\n\t\tconst isEditorPage = ! isListPage;\n\t\tconst { canvasMode, dashboardLink, entityConfig } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tselect( editSiteStore ).getEditedPostType();\n\t\t\t\tconst {\n\t\t\t\t\t__unstableGetCanvasMode,\n\t\t\t\t\tgetSettings,\n\t\t\t\t\tgetEditedPostType,\n\t\t\t\t} = select( editSiteStore );\n\t\t\t\treturn {\n\t\t\t\t\tcanvasMode: __unstableGetCanvasMode(),\n\t\t\t\t\tdashboardLink: getSettings().__experimentalDashboardLink,\n\t\t\t\t\tentityConfig: select( coreStore ).getEntityConfig(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tgetEditedPostType()\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\tconst disableMotion = useReducedMotion();\n\t\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\t\tconst { __unstableSetCanvasMode } = useDispatch( editSiteStore );\n\t\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\t\tconst showEditButton =\n\t\t\t( isEditorPage && canvasMode === 'view' && ! isMobileViewport ) ||\n\t\t\t( isMobileViewport &&\n\t\t\t\tcanvasMode === 'view' &&\n\t\t\t\tisMobileCanvasVisible );\n\t\tconst isBackToDashboardButton =\n\t\t\t( ! isMobileViewport && canvasMode === 'view' ) ||\n\t\t\t( isMobileViewport && ! isMobileCanvasVisible );\n\t\tconst showLabels = canvasMode !== 'edit';\n\t\tconst siteIconButtonProps = isBackToDashboardButton\n\t\t\t? {\n\t\t\t\t\thref: dashboardLink || 'index.php',\n\t\t\t\t\t'aria-label': __( 'Go back to the dashboard' ),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tlabel: __( 'Open Navigation Sidebar' ),\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t\tsetIsMobileCanvasVisible( false );\n\t\t\t\t\t\t__unstableSetCanvasMode( 'view' );\n\t\t\t\t\t},\n\t\t\t  };\n\t\tconst { getTitle } = useEditedEntityRecord();\n\n\t\treturn (\n\t\t\t<motion.div\n\t\t\t\tref={ ref }\n\t\t\t\t{ ...props }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'edit-site-site-hub',\n\t\t\t\t\tprops.className\n\t\t\t\t) }\n\t\t\t\tlayout\n\t\t\t\ttransition={ {\n\t\t\t\t\ttype: 'tween',\n\t\t\t\t\tduration: disableMotion ? 0 : HUB_ANIMATION_DURATION,\n\t\t\t\t\tease: 'easeOut',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<HStack\n\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\tclassName=\"edit-site-site-hub__text-content\"\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tclassName=\"edit-site-site-hub__view-mode-toggle-container\"\n\t\t\t\t\t\tlayout\n\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\tduration: disableMotion\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: HUB_ANIMATION_DURATION,\n\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t{ ...siteIconButtonProps }\n\t\t\t\t\t\t\tclassName=\"edit-site-layout__view-mode-toggle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SiteIcon className=\"edit-site-layout__view-mode-toggle-icon\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</motion.div>\n\n\t\t\t\t\t{ showLabels && (\n\t\t\t\t\t\t<VStack spacing={ 0 }>\n\t\t\t\t\t\t\t<div className=\"edit-site-site-hub__title\">\n\t\t\t\t\t\t\t\t{ getTitle() }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"edit-site-site-hub__post-type\">\n\t\t\t\t\t\t\t\t{ entityConfig?.label }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\n\t\t\t\t{ showEditButton && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"edit-site-site-hub__edit-button\"\n\t\t\t\t\t\tlabel={ __( 'Open the editor' ) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t__unstableSetCanvasMode( 'edit' );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\n\t\t\t\t{ isMobileViewport && ! isMobileCanvasVisible && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ () => setIsMobileCanvasVisible( true ) }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'View Editor' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t</motion.div>\n\t\t);\n\t}\n);\n\nexport default SiteHub;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n\t__unstableUseNavigateRegions as useNavigateRegions,\n\tResizableBox,\n} from '@wordpress/components';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { NavigableRegion } from '@wordpress/interface';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Sidebar from '../sidebar';\nimport Editor from '../editor';\nimport ListPage from '../list';\nimport ErrorBoundary from '../error-boundary';\nimport { store as editSiteStore } from '../../store';\nimport { useLocation } from '../routes';\nimport getIsListPage from '../../utils/get-is-list-page';\nimport Header from '../header-edit-mode';\nimport useInitEditedEntityFromURL from '../sync-state-with-url/use-init-edited-entity-from-url';\nimport SiteHub from '../site-hub';\nimport ResizeHandle from '../block-editor/resize-handle';\nimport useSyncCanvasModeWithURL from '../sync-state-with-url/use-sync-canvas-mode-with-url';\n\nconst ANIMATION_DURATION = 0.5;\nconst emptyResizeHandleStyles = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nexport default function Layout( { onError } ) {\n\t// This ensures the edited entity id and type are initialized properly.\n\tuseInitEditedEntityFromURL();\n\tuseSyncCanvasModeWithURL();\n\n\tconst hubRef = useRef();\n\tconst { params } = useLocation();\n\tconst isListPage = getIsListPage( params );\n\tconst isEditorPage = ! isListPage;\n\tconst { canvasMode, previousShortcut, nextShortcut } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getAllShortcutKeyCombinations } = select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t);\n\t\t\tconst { __unstableGetCanvasMode } = select( editSiteStore );\n\t\t\treturn {\n\t\t\t\tcanvasMode: __unstableGetCanvasMode(),\n\t\t\t\tpreviousShortcut: getAllShortcutKeyCombinations(\n\t\t\t\t\t'core/edit-site/previous-region'\n\t\t\t\t),\n\t\t\t\tnextShortcut: getAllShortcutKeyCombinations(\n\t\t\t\t\t'core/edit-site/next-region'\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst navigateRegionsProps = useNavigateRegions( {\n\t\tprevious: previousShortcut,\n\t\tnext: nextShortcut,\n\t} );\n\tconst disableMotion = useReducedMotion();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst [ isMobileCanvasVisible, setIsMobileCanvasVisible ] =\n\t\tuseState( false );\n\tconst canvasPadding = isMobileViewport ? 0 : 24;\n\tconst showSidebar =\n\t\t( isMobileViewport && ! isMobileCanvasVisible ) ||\n\t\t( ! isMobileViewport && ( canvasMode === 'view' || ! isEditorPage ) );\n\tconst showCanvas =\n\t\t( isMobileViewport && isMobileCanvasVisible ) || ! isMobileViewport;\n\tconst showFrame =\n\t\t! isEditorPage || ( canvasMode === 'view' && ! isMobileViewport );\n\n\tconst isFullCanvas =\n\t\t( isEditorPage && canvasMode === 'edit' && ! isMobileViewport ) ||\n\t\tisMobileCanvasVisible;\n\t// Ideally this effect could be removed if we move the \"isMobileCanvasVisible\" into the store.\n\tconst [ canvasResizer, canvasSize ] = useResizeObserver();\n\tconst [ fullResizer, fullSize ] = useResizeObserver();\n\tconst [ forcedWidth, setForcedWidth ] = useState( null );\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\tconst isResizingEnabled = ! isMobileViewport && canvasMode === 'view';\n\tconst defaultSidebarWidth = isMobileViewport ? '100vw' : 360;\n\tlet canvasWidth = isResizing ? '100%' : fullSize.width;\n\tif ( showFrame && ! isResizing ) {\n\t\tcanvasWidth = canvasSize.width - canvasPadding;\n\t}\n\tuseEffect( () => {\n\t\tif ( canvasMode === 'view' && isMobileViewport ) {\n\t\t\tsetIsMobileCanvasVisible( false );\n\t\t}\n\n\t\tif ( canvasMode === 'edit' && isMobileViewport ) {\n\t\t\tsetIsMobileCanvasVisible( true );\n\t\t}\n\t}, [ canvasMode, isMobileViewport ] );\n\n\t// Synchronizing the URL with the store value of canvasMode happens in an effect\n\t// This condition ensures the component is only rendered after the synchronization happens\n\t// which prevents any animations due to potential canvasMode value change.\n\tif ( canvasMode === 'init' ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ fullResizer }\n\t\t\t<div\n\t\t\t\t{ ...navigateRegionsProps }\n\t\t\t\tref={ navigateRegionsProps.ref }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'edit-site-layout',\n\t\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-full-canvas': isFullCanvas,\n\t\t\t\t\t\t'is-edit-mode': canvasMode === 'edit',\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<SiteHub\n\t\t\t\t\tref={ hubRef }\n\t\t\t\t\tclassName=\"edit-site-layout__hub\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\tisResizingEnabled && forcedWidth\n\t\t\t\t\t\t\t\t? forcedWidth - 48\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t} }\n\t\t\t\t\tisMobileCanvasVisible={ isMobileCanvasVisible }\n\t\t\t\t\tsetIsMobileCanvasVisible={ setIsMobileCanvasVisible }\n\t\t\t\t/>\n\n\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t{ isEditorPage &&\n\t\t\t\t\t\t( canvasMode === 'edit' || isMobileCanvasVisible ) && (\n\t\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\t\tclassName=\"edit-site-layout__header\"\n\t\t\t\t\t\t\t\tariaLabel={ __( 'Editor top bar' ) }\n\t\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\t\tanimate={ {\n\t\t\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tinitial={ {\n\t\t\t\t\t\t\t\t\ty: '-100%',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\texit={ {\n\t\t\t\t\t\t\t\t\ty: '-100%',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\tduration: disableMotion\n\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t: ANIMATION_DURATION,\n\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ canvasMode === 'edit' && <Header /> }\n\t\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t\t) }\n\t\t\t\t</AnimatePresence>\n\n\t\t\t\t<div className=\"edit-site-layout__content\">\n\t\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t\t{ showSidebar && (\n\t\t\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\t\tinitial={ {\n\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tanimate={ {\n\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\texit={ {\n\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\tduration:\n\t\t\t\t\t\t\t\t\t\tdisableMotion || isResizing\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: ANIMATION_DURATION,\n\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tsize={ {\n\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\tisResizingEnabled && forcedWidth\n\t\t\t\t\t\t\t\t\t\t\t? forcedWidth\n\t\t\t\t\t\t\t\t\t\t\t: defaultSidebarWidth,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tclassName=\"edit-site-layout__sidebar\"\n\t\t\t\t\t\t\t\tenable={ {\n\t\t\t\t\t\t\t\t\tright: isResizingEnabled,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonResizeStop={ ( event, direction, elt ) => {\n\t\t\t\t\t\t\t\t\tsetForcedWidth( elt.clientWidth );\n\t\t\t\t\t\t\t\t\tsetIsResizing( false );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonResizeStart={ () => {\n\t\t\t\t\t\t\t\t\tsetIsResizing( true );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonResize={ ( event, direction, elt ) => {\n\t\t\t\t\t\t\t\t\t// This is a performance optimization\n\t\t\t\t\t\t\t\t\t// We set the width imperatively to avoid re-rendering\n\t\t\t\t\t\t\t\t\t// the whole component while resizing.\n\t\t\t\t\t\t\t\t\thubRef.current.style.width =\n\t\t\t\t\t\t\t\t\t\telt.clientWidth - 48 + 'px';\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thandleComponent={ {\n\t\t\t\t\t\t\t\t\tright: (\n\t\t\t\t\t\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\t\t\t\t\t\tvariation=\"separator\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thandleClasses={ undefined }\n\t\t\t\t\t\t\t\thandleStyles={ {\n\t\t\t\t\t\t\t\t\tright: emptyResizeHandleStyles,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tminWidth={ isResizingEnabled ? 320 : undefined }\n\t\t\t\t\t\t\t\tmaxWidth={\n\t\t\t\t\t\t\t\t\tisResizingEnabled && fullSize\n\t\t\t\t\t\t\t\t\t\t? fullSize.width - 360\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\t\t\tariaLabel={ __( 'Navigation sidebar' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t\t\t</ResizableBox>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</AnimatePresence>\n\n\t\t\t\t\t{ showCanvas && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'edit-site-layout__canvas-container',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'is-resizing': isResizing,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tpaddingTop: showFrame ? canvasPadding : 0,\n\t\t\t\t\t\t\t\tpaddingBottom: showFrame ? canvasPadding : 0,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ canvasResizer }\n\t\t\t\t\t\t\t{ !! canvasSize.width && (\n\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\tinitial={ false }\n\t\t\t\t\t\t\t\t\tlayout=\"position\"\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-layout__canvas\"\n\t\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\t\tduration:\n\t\t\t\t\t\t\t\t\t\t\tdisableMotion || isResizing\n\t\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t\t: ANIMATION_DURATION,\n\t\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tinitial={ false }\n\t\t\t\t\t\t\t\t\t\tanimate={ {\n\t\t\t\t\t\t\t\t\t\t\twidth: canvasWidth,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'tween',\n\t\t\t\t\t\t\t\t\t\t\tduration:\n\t\t\t\t\t\t\t\t\t\t\t\tdisableMotion || isResizing\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ANIMATION_DURATION,\n\t\t\t\t\t\t\t\t\t\t\tease: 'easeOut',\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ErrorBoundary onError={ onError }>\n\t\t\t\t\t\t\t\t\t\t\t{ isEditorPage && <Editor /> }\n\t\t\t\t\t\t\t\t\t\t\t{ isListPage && <ListPage /> }\n\t\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../routes';\nimport { store as editSiteStore } from '../../store';\n\nexport default function useInitEditedEntityFromURL() {\n\tconst { setTemplate, setTemplatePart, setPage } =\n\t\tuseDispatch( editSiteStore );\n\tconst {\n\t\tparams: { postId, postType },\n\t} = useLocation();\n\n\t// Set correct entity on page navigation.\n\tuseEffect( () => {\n\t\t// This URL scheme mean we can't open a template part with the context of a given post.\n\t\t// Potentially posts and pages could be moved to a \"context\" query string instead.\n\t\tif ( 'page' === postType || 'post' === postType ) {\n\t\t\tsetPage( { context: { postType, postId } } ); // Resolves correct template based on ID.\n\t\t} else if ( 'wp_template' === postType ) {\n\t\t\tsetTemplate( postId );\n\t\t} else if ( 'wp_template_part' === postType ) {\n\t\t\tsetTemplatePart( postId );\n\t\t}\n\t}, [ postId, postType ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { useLocation, useHistory } from '../routes';\n\nexport default function useSyncCanvasModeWithURL() {\n\tconst history = useHistory();\n\tconst { params } = useLocation();\n\tconst canvasMode = useSelect(\n\t\t( select ) => select( editSiteStore ).__unstableGetCanvasMode(),\n\t\t[]\n\t);\n\tconst { __unstableSetCanvasMode } = useDispatch( editSiteStore );\n\tconst currentCanvasMode = useRef( canvasMode );\n\tconst { canvas: canvasInUrl = 'view' } = params;\n\tconst currentCanvasInUrl = useRef( canvasInUrl );\n\tuseEffect( () => {\n\t\tcurrentCanvasMode.current = canvasMode;\n\t\tif ( currentCanvasMode !== currentCanvasInUrl ) {\n\t\t\thistory.push( {\n\t\t\t\t...params,\n\t\t\t\tcanvas: canvasMode,\n\t\t\t} );\n\t\t}\n\t}, [ canvasMode ] );\n\n\tuseEffect( () => {\n\t\tcurrentCanvasInUrl.current = canvasInUrl;\n\t\tif ( canvasInUrl !== currentCanvasMode.current ) {\n\t\t\t__unstableSetCanvasMode( canvasInUrl );\n\t\t}\n\t}, [ canvasInUrl ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { SlotFillProvider, Popover } from '@wordpress/components';\nimport { UnsavedChangesWarning } from '@wordpress/editor';\nimport { ShortcutProvider } from '@wordpress/keyboard-shortcuts';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { PluginArea } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { Routes } from '../routes';\nimport Layout from '../layout';\n\nexport default function App( { reboot } ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\treturn (\n\t\t<ShortcutProvider style={ { height: '100%' } }>\n\t\t\t<SlotFillProvider>\n\t\t\t\t<Popover.Slot />\n\t\t\t\t<UnsavedChangesWarning />\n\n\t\t\t\t<Routes>\n\t\t\t\t\t<Layout onError={ reboot } />\n\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t\t</Routes>\n\t\t\t</SlotFillProvider>\n\t\t</ShortcutProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryArea } from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\n/**\n * Renders a sidebar when activated. The contents within the `PluginSidebar` will appear as content within the sidebar.\n * It also automatically renders a corresponding `PluginSidebarMenuItem` component when `isPinnable` flag is set to `true`.\n * If you wish to display the sidebar, you can with use the `PluginSidebarMoreMenuItem` component or the `wp.data.dispatch` API:\n *\n * ```js\n * wp.data.dispatch( 'core/edit-site' ).openGeneralSidebar( 'plugin-name/sidebar-name' );\n * ```\n *\n * @see PluginSidebarMoreMenuItem\n *\n * @param {Object}                props                                 Element props.\n * @param {string}                props.name                            A string identifying the sidebar. Must be unique for every sidebar registered within the scope of your plugin.\n * @param {string}                [props.className]                     An optional class name added to the sidebar body.\n * @param {string}                props.title                           Title displayed at the top of the sidebar.\n * @param {boolean}               [props.isPinnable=true]               Whether to allow to pin sidebar to the toolbar. When set to `true` it also automatically renders a corresponding menu item.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var el = wp.element.createElement;\n * var PanelBody = wp.components.PanelBody;\n * var PluginSidebar = wp.editSite.PluginSidebar;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MyPluginSidebar() {\n * \treturn el(\n * \t\t\tPluginSidebar,\n * \t\t\t{\n * \t\t\t\tname: 'my-sidebar',\n * \t\t\t\ttitle: 'My sidebar title',\n * \t\t\t\ticon: moreIcon,\n * \t\t\t},\n * \t\t\tel(\n * \t\t\t\tPanelBody,\n * \t\t\t\t{},\n * \t\t\t\t__( 'My sidebar content' )\n * \t\t\t)\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PanelBody } from '@wordpress/components';\n * import { PluginSidebar } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MyPluginSidebar = () => (\n * \t<PluginSidebar\n * \t\tname=\"my-sidebar\"\n * \t\ttitle=\"My sidebar title\"\n * \t\ticon={ more }\n * \t>\n * \t\t<PanelBody>\n * \t\t\t{ __( 'My sidebar content' ) }\n * \t\t</PanelBody>\n * \t</PluginSidebar>\n * );\n * ```\n */\nexport default function PluginSidebarEditSite( { className, ...props } ) {\n\tconst showIconLabels = useSelect(\n\t\t( select ) => select( editSiteStore ).getSettings().showIconLabels,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tpanelClassName={ className }\n\t\t\tclassName=\"edit-site-sidebar-edit-mode\"\n\t\t\tscope=\"core/edit-site\"\n\t\t\tshowIconLabels={ showIconLabels }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryAreaMoreMenuItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down,\n * and can be used to activate the corresponding `PluginSidebar` component.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                props.target                          A string identifying the target sidebar you wish to be activated by this menu item. Must be the same as the `name` prop you have given to that sidebar.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginSidebarMoreMenuItem = wp.editSite.PluginSidebarMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MySidebarMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginSidebarMoreMenuItem,\n * \t\t{\n * \t\t\ttarget: 'my-sidebar',\n * \t\t\ticon: moreIcon,\n * \t\t},\n * \t\t__( 'My sidebar title' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginSidebarMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MySidebarMoreMenuItem = () => (\n * \t<PluginSidebarMoreMenuItem\n * \t\ttarget=\"my-sidebar\"\n * \t\ticon={ more }\n * \t>\n * \t\t{ __( 'My sidebar title' ) }\n * \t</PluginSidebarMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\n\nexport default function PluginSidebarMoreMenuItem( props ) {\n\treturn (\n\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t// Menu item is marked with unstable prop for backward compatibility.\n\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t__unstableExplicitMenuItem\n\t\t\tscope=\"core/edit-site\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ActionItem } from '@wordpress/interface';\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { withPluginContext } from '@wordpress/plugins';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down, and can be used to as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.href]                          When `href` is provided then the menu item is represented as an anchor rather than button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n * @param {Function}              [props.onClick=noop]                  The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying [Button](/packages/components/src/button/README.md) component.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginMoreMenuItem = wp.editSite.PluginMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * function MyButtonMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginMoreMenuItem,\n * \t\t{\n * \t\t\ticon: moreIcon,\n * \t\t\tonClick: onButtonClick,\n * \t\t},\n * \t\t__( 'My button title' )\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * const MyButtonMoreMenuItem = () => (\n * \t<PluginMoreMenuItem\n * \t\ticon={ more }\n * \t\tonClick={ onButtonClick }\n * \t>\n * \t\t{ __( 'My button title' ) }\n * \t</PluginMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport default compose(\n\twithPluginContext( ( context, ownProps ) => {\n\t\treturn {\n\t\t\tas: ownProps.as ?? MenuItem,\n\t\t\ticon: ownProps.icon || context.icon,\n\t\t\tname: 'core/edit-site/plugin-more-menu',\n\t\t};\n\t} )\n)( ActionItem );\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport { dispatch } from '@wordpress/data';\nimport { render, unmountComponentAtNode } from '@wordpress/element';\nimport {\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n} from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { addFilter } from '@wordpress/hooks';\nimport { registerLegacyWidgetBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport './hooks';\nimport { store as editSiteStore } from './store';\nimport App from './components/app';\n\n/**\n * Reinitializes the editor after the user chooses to reboot the editor after\n * an unhandled error occurs, replacing previously mounted editor element using\n * an initial state from prior to the crash.\n *\n * @param {Element} target   DOM node in which editor is rendered.\n * @param {?Object} settings Editor settings object.\n */\nexport function reinitializeEditor( target, settings ) {\n\t/*\n\t * Prevent adding the Clasic block in the site editor.\n\t * Only add the filter when the site editor is initialized, not imported.\n\t * Also only add the filter(s) after registerCoreBlocks()\n\t * so that common filters in the block library are not overwritten.\n\t *\n\t * This usage here is inspired by previous usage of the filter in the post editor:\n\t * https://github.com/WordPress/gutenberg/pull/37157\n\t */\n\taddFilter(\n\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t'removeClassicBlockFromInserter',\n\t\t( canInsert, blockType ) => {\n\t\t\tif ( blockType.name === 'core/freeform' ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn canInsert;\n\t\t}\n\t);\n\n\t// This will be a no-op if the target doesn't have any React nodes.\n\tunmountComponentAtNode( target );\n\tconst reboot = reinitializeEditor.bind( null, target, settings );\n\n\t// We dispatch actions and update the store synchronously before rendering\n\t// so that we won't trigger unnecessary re-renders with useEffect.\n\t{\n\t\tdispatch( preferencesStore ).setDefaults( 'core/edit-site', {\n\t\t\teditorMode: 'visual',\n\t\t\tfixedToolbar: false,\n\t\t\tfocusMode: false,\n\t\t\tkeepCaretInsideBlock: false,\n\t\t\twelcomeGuide: true,\n\t\t\twelcomeGuideStyles: true,\n\t\t\tshowListViewByDefault: false,\n\t\t} );\n\n\t\tdispatch( interfaceStore ).setDefaultComplementaryArea(\n\t\t\t'core/edit-site',\n\t\t\t'edit-site/template'\n\t\t);\n\n\t\tdispatch( editSiteStore ).updateSettings( settings );\n\n\t\t// Keep the defaultTemplateTypes in the core/editor settings too,\n\t\t// so that they can be selected with core/editor selectors in any editor.\n\t\t// This is needed because edit-site doesn't initialize with EditorProvider,\n\t\t// which internally uses updateEditorSettings as well.\n\t\tdispatch( editorStore ).updateEditorSettings( {\n\t\t\tdefaultTemplateTypes: settings.defaultTemplateTypes,\n\t\t\tdefaultTemplatePartAreas: settings.defaultTemplatePartAreas,\n\t\t} );\n\t}\n\n\t// Prevent the default browser action for files dropped outside of dropzones.\n\twindow.addEventListener( 'dragover', ( e ) => e.preventDefault(), false );\n\twindow.addEventListener( 'drop', ( e ) => e.preventDefault(), false );\n\n\trender( <App reboot={ reboot } />, target );\n}\n\n/**\n * Initializes the site editor screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} settings Editor settings.\n */\nexport function initializeEditor( id, settings ) {\n\tsettings.__experimentalFetchLinkSuggestions = ( search, searchOptions ) =>\n\t\tfetchLinkSuggestions( search, searchOptions, settings );\n\tsettings.__experimentalFetchRichUrlData = fetchUrlData;\n\n\tconst target = document.getElementById( id );\n\n\tdispatch( blocksStore ).__experimentalReapplyBlockTypeFilters();\n\tregisterCoreBlocks();\n\tregisterLegacyWidgetBlock( { inserter: false } );\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: true,\n\t\t} );\n\t}\n\n\treinitializeEditor( target, settings );\n}\n\nexport { default as PluginSidebar } from './components/sidebar-edit-mode/plugin-sidebar';\nexport { default as PluginSidebarMoreMenuItem } from './components/header-edit-mode/plugin-sidebar-more-menu-item';\nexport { default as PluginMoreMenuItem } from './components/header-edit-mode/plugin-more-menu-item';\n"],"names":["module","exports","keys","values","map","Map","has","key","indexOf","get","set","value","push","delete","index","splice","createEvent","name","Event","bubbles","e","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","prototype","call","length","x","default","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","isArray","inner","apply","toString","join","prop","currentStyle","replace","word","letter","toUpperCase","download","data","strFileName","strMimeType","blob","reader","self","defaultMime","mimeType","payload","url","anchor","createElement","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","this","split","pop","href","ajax","XMLHttpRequest","open","responseType","onload","target","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","type","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","setAttribute","className","innerHTML","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","equal","b","size","entries","Set","ArrayBuffer","isView","RegExp","source","flags","valueOf","computedStyle","lnHeightStr","lnHeight","_lnHeightStyle","lineHeight","_node","fontSizeStr","fontSize","padding","border","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","setPrototypeOf","__proto__","d","p","__","create","__assign","t","s","n","__rest","getOwnPropertySymbols","__esModule","React","getLineHeight","RESIZED","TextareaAutosizeClass","_super","_this","state","textarea","onResize","updateLineHeight","setState","onChange","currentValue","currentTarget","componentDidMount","_a","maxRows","async","componentWillUnmount","render","_b","children","innerRef","maxHeight","ref","current","componentDidUpdate","defaultProps","rows","propTypes","Component","TextareaAutosize","forwardRef","TextareaAutosize_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","o","defineProperty","enumerable","obj","r","Symbol","toStringTag","SVG","xmlns","viewBox","Path","fillRule","clipRule","setDefaultComplementaryArea","scope","area","enableComplementaryArea","registry","dispatch","select","preferencesStore","disableComplementaryArea","pinItem","item","pinnedItems","unpinItem","toggleFeature","featureName","deprecated","since","alternative","toggle","setFeatureValue","setFeatureDefaults","defaults","setDefaults","getActiveComplementaryArea","createRegistrySelector","isComplementaryAreaVisible","complementaryAreas","isItemPinned","isFeatureActive","combineReducers","action","store","createReduxStore","reducer","actions","selectors","register","withPluginContext","context","ownProps","icon","identifier","complementaryAreaContext","as","Button","selectedIcon","ComponentToUse","isSelected","useSelect","interfaceStore","useDispatch","onClick","smallScreenTitle","toggleButtonProps","toggleButton","closeSmall","classnames","tabIndex","noop","ActionItem","Fill","fpOnClick","Slot","ButtonGroup","fillProps","bubblesVirtually","fills","Children","initializedByPlugins","__unstableExplicitMenuItem","__unstableTarget","child","includes","PluginsMenuItem","restProps","MenuItem","ComplementaryAreaMoreMenuItem","toggleProps","role","check","PinnedItems","ComplementaryAreaFill","ComplementaryAreaWrapped","withComplementaryAreaContext","closeLabel","header","headerClassName","isPinnable","panelClassName","title","toggleShortcut","isActiveByDefault","showIconLabels","isActive","isPinned","activeArea","isSmall","isLarge","_activeArea","viewportStore","isViewportMatch","previousIsSmall","useRef","shouldOpenWhenNotSmall","useEffect","useAdjustComplementaryListener","isPressed","label","showTooltip","variant","onClose","shortcut","starFilled","starEmpty","Panel","NavigableRegion","ariaLabel","Tag","isDistractionFree","footer","editorNotices","sidebar","secondarySidebar","notices","content","labels","enableRegionNavigation","shortcuts","navigateRegionsProps","useNavigateRegions","querySelector","classList","useHTMLClass","mergedLabels","headerVariants","hidden","opacity","hover","transition","delay","delayChildren","useMergeRefs","motion","initial","whileHover","variants","MoreMenuDropdown","DropdownComponent","DropdownMenu","popoverProps","moreVertical","position","tooltipPosition","PreferencesModal","closeModal","Modal","onRequestClose","cloneElement","PREFERENCES_MENU","PreferencesModalTabs","sections","isLargeViewport","useViewportMatch","activeMenu","setActiveMenu","useState","tabs","sectionsContentMap","useMemo","mappedTabs","reduce","accumulator","tabLabel","getCurrentTab","useCallback","tab","modalContent","TabPanel","initialTabName","onSelect","orientation","initialPath","path","Card","isBorderless","CardBody","Item","isAction","justify","FlexItem","isRTL","chevronLeft","chevronRight","section","CardHeader","gap","description","help","isChecked","ToggleControl","__nextHasNoMarginBottom","checked","addFilter","MediaUpload","grad","turn","rad","PI","pow","u","isFinite","g","h","max","min","v","floor","l","c","m","exec","parseInt","substr","Number","N","M","H","$","j","parsed","trim","rgba","isValid","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","invert","w","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","isEqual","S","getTypographyFontSizeValue","preset","typographySettings","defaultSize","fluid","fluidTypographySettings","getComputedFluidTypographyValue","minimumFontSize","maximumFontSize","minimumFontSizeLimit","minFontSize","ROOT_BLOCK_SELECTOR","PRESET_METADATA","valueKey","cssVarInfix","classSuffix","propertyName","valueFunc","slug","typography","STYLE_PATH_TO_CSS_VAR_INFIX","STYLE_PATH_TO_PRESET_BLOCK_ATTRIBUTE","findInPresetsBy","features","blockName","presetPath","presetProperty","presetValueValue","orderedPresetsByOrigin","presetByOrigin","origins","origin","presets","presetObject","find","getPresetVariableFromValue","variableStylePath","presetPropertyValue","metadata","getValueFromVariable","variable","refPath","USER_VALUE_PREFIX","THEME_VALUE_PREFIX","parsedVar","startsWith","slice","endsWith","presetType","settings","getValueFromPresetVariable","getValueFromCustomVariable","getVariationClassNameFromPath","GlobalStylesContext","createContext","user","base","merged","setUserConfig","extend","luminance","contrast","isReadable","level","EMPTY_CONFIG","styles","useSetting","mergedConfig","baseConfig","userConfig","useContext","fullPath","setSetting","newValue","currentConfig","newUserConfig","JSON","parse","stringify","pathToSet","PATHS_WITH_MERGE","getSettingValueForContext","currentPath","getSettingValue","configToUse","custom","theme","resultWithFallback","useStyle","finalPath","setStyle","ROOT_BLOCK_SUPPORTS","getSupportedGlobalStylesPanels","blockType","getBlockType","supportKeys","supports","spacing","blockGap","__experimentalSkipSerialization","some","spacingType","STYLE_PROPERTY","styleName","support","requiresOptOut","useColorsPerOrigin","customColors","themeColors","defaultColors","shouldDisplayDefaultColors","_x","colors","useGradientsPerOrigin","customGradients","themeGradients","defaultGradients","shouldDisplayDefaultGradients","gradients","cloneDeep","PushChangesToGlobalStylesControl","attributes","setAttributes","changes","flatMap","presetAttributeKey","presetAttributeValue","getChangesToPush","__unstableMarkNextChangeAsNotPersistent","blockEditorStore","createSuccessNotice","noticesStore","pushChanges","blockStyles","newBlockStyles","undoIgnore","sprintf","BaseControl","disabled","withPushChangesToGlobalStyles","createHigherOrderComponent","BlockEdit","InspectorAdvancedControls","history","createBrowserHistory","originalHistoryPush","originalHistoryReplace","params","addQueryArgs","RoutesContext","HistoryContext","useLocation","useHistory","getLocationWithParams","searchParams","URLSearchParams","search","fromEntries","Routes","setLocation","updatedLocation","Provider","useLink","shouldReplace","event","preventDefault","Link","EditTemplatePartMenuItem","templatePart","coreStore","getEntityRecord","linkProps","postId","id","postType","fromTemplateId","BlockControls","group","ToolbarButton","withEditBlockControls","isDisplayed","deviceType","editedPost","blockInserterPanel","isOpen","listViewPanel","saveViewPanel","canvasMode","mode","STORE_NAME","isTemplateRevertable","template","has_theme_file","__experimentalSetPreviewDeviceType","setTemplate","templateId","templateSlug","resolveSelect","error","addTemplate","newTemplate","saveEntityRecord","editEntityRecord","blocks","removeTemplate","deleteEntityRecord","force","lastError","getLastEntityDeleteError","rendered","errorMessage","message","code","createErrorNotice","setTemplatePart","templatePartId","setHomeTemplateId","version","setEditedPostContext","setPage","page","entity","getPathAndQueryString","link","__experimentalGetTemplateForLink","setNavigationPanelActiveMenu","openNavigationPanelToMenu","setIsNavigationPanelOpened","setIsInserterOpened","updateSettings","setIsListViewOpened","setIsSaveViewOpened","revertTemplate","allowUndo","templateEntityConfig","getEntityConfig","fileTemplatePath","baseURL","fileTemplate","apiFetch","serializeBlocks","blocksForSerialization","__unstableSerializeAndClean","edited","getEditedEntityRecord","raw","undoRevert","openGeneralSidebar","editSiteStoreName","closeGeneralSidebar","switchEditorMode","clearSelectedBlock","speak","__unstableSetCanvasMode","__unstableSetEditorMode","LEAF_KEY","isShallowEqual","fromIndex","__unstableGetPreference","__experimentalGetPreviewDeviceType","getCanUserCreateMedia","coreDataStore","canUser","getReusableBlocks","Platform","getEntityRecords","per_page","getSettings","selector","getDependants","rootCache","normalizedGetDependants","getEditedPostType","getCache","dependants","dependant","cache","caches","isUniqueByDependants","WeakMap","clear","head","createCache","callSelector","args","len","lastDependants","next","prev","val","createSelector","setIsInserterOpen","outlineMode","focusMode","hasFixedToolbar","keepCaretInsideBlock","__experimentalSetIsInserterOpened","__experimentalReusableBlocks","__experimentalPreferPatternsOnRoot","mediaUpload","onError","rest","uploadMedia","wpAllowedMimeTypes","allowedMimeTypes","getHomeTemplateId","getEditedPostId","getEditedPostContext","getPage","isInserterOpened","__experimentalGetInsertionPoint","rootClientId","insertionIndex","filterValue","isListViewOpened","isSaveViewOpened","getCurrentTemplateTemplateParts","templateType","templateParts","templatePartsById","newTemplateParts","part","filter","block","isTemplatePart","getEditorMode","__unstableGetCanvasMode","getCurrentTemplateNavigationPanelSubMenu","getNavigationPanelActiveMenu","isNavigationOpened","storeConfig","SidebarNavigationScreen","parentTitle","SidebarNavigationItem","withChevron","fill","FlexBlock","SidebarNavigationScreenMain","layout","symbolFilled","TemplateActionsLoadingScreen","baseCssClass","isFullScreen","isDismissible","shouldCloseOnClickOutside","shouldCloseOnEsc","__experimentalHideHeader","Spinner","useExistingTemplates","useDefaultTemplateTypes","editorStore","__experimentalGetDefaultTemplateTypes","usePublicPostTypes","postTypes","getPostTypes","excludedPostTypes","viewable","usePostTypeNeedsUniqueIdentifier","publicPostTypes","postTypeLabels","singularName","singular_name","toLowerCase","usePostTypeArchiveMenuItems","postTypesWithArchives","has_archive","existingTemplates","needsUniqueIdentifier","existingTemplate","archive","templatePrefix","USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX","USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS","who","useExistingTemplateSlugs","templatePrefixes","prefix","slugsWithTemplates","_accumulator","_prefix","substring","useTemplatesToExclude","entityName","additionalQueryParameters","slugsToExcludePerEntity","recordsToExcludePerEntity","entitiesWithTemplates","_fields","useEntitiesInfo","entitiesInfo","existingEntitiesIds","hasEntities","exclude","EMPTY_ARRAY","SuggestionListItem","suggestion","entityForSuggestions","composite","config","getSpecificTemplate","TextHighlight","text","decodeEntities","highlight","SuggestionList","useCompositeState","setSearch","debouncedSearch","input","setInput","debounced","setter","setDebounced","useDebounce","useDebouncedInput","suggestions","query","order","queryArgs","records","searchResults","hasResolved","searchHasResolved","useEntityRecords","setSuggestions","newSuggestions","entities","recordNamePath","useSearchSuggestions","showSearchControl","setShowSearchControl","SearchControl","search_items","placeholder","not_found","isCreatingTemplate","showSearchEntities","setShowSearchEntities","hasGeneralTemplate","Flex","align","isBlock","weight","all_items","createTemplate","setTitle","defaultTitle","isBusy","setIsBusy","overlayClassName","onSubmit","kebabCase","TextControl","expanded","DEFAULT_TEMPLATE_SLUGS","TEMPLATE_ICONS","home","single","post","notFound","list","category","author","postAuthor","taxonomy","blockMeta","date","postDate","tag","attachment","media","NewTemplate","showIcon","showCustomTemplateModal","setShowCustomTemplateModal","showCustomGenericTemplateModal","setShowCustomGenericTemplateModal","setEntityForSuggestions","setIsCreatingTemplate","editSiteStore","isWPSuggestion","templateContent","is_custom","template_prefix","status","is_wp_suggestion","throwOnError","missingTemplates","defaultTemplateTypes","existingTemplateSlugs","onClickMenuItem","_entityForSuggestions","enhancedMissingDefaultTemplateTypes","defaultTaxonomiesMenuItems","taxonomiesMenuItems","publicTaxonomies","taxonomies","getTaxonomies","visibility","publicly_queryable","usePublicTaxonomies","suffix","taxonomyLabels","taxonomiesInfo","menuItems","generalTemplateSlug","defaultTemplateType","_slug","_needsUniqueIdentifier","menuItemTitle","menuItem","orderBy","useTaxonomiesMenuItems","defaultPostTypesMenuItems","postTypesMenuItems","postTypesInfo","usePostTypeMenuItems","authorMenuItem","authorInfo","useAuthorMenuItem","matchIndex","findIndex","sort","template1","template2","useMissingTemplates","plus","add_new","add_new_item","noArrow","NavigableMenu","MenuGroup","iconPosition","info","customGenericTemplateIcon","CreateTemplatePartModal","onCreate","setArea","isSubmitting","setIsSubmitting","instanceId","useInstanceId","templatePartAreas","__experimentalGetDefaultTemplatePartAreas","required","Icon","NewTemplatePart","isModalOpen","setIsModalOpen","existingTemplateParts","uniqueTitle","lowercaseTitle","existingTitles","cleanSlug","AddNewTemplate","getPostType","linkInfo","wp_template","loading","manage","wp_template_part","SidebarNavigationScreenTemplates","isMobileViewport","editedPostId","editedPostType","templates","isResolving","isLoading","items","flexShrink","SidebarScreens","goTo","useNavigator","currentSidebar","currentNavigatorLocation","useSyncSidebarPathWithURL","memo","DefaultSidebar","IconWithCurrentColor","GenericNavigationButton","NavigationButtonAsItem","useHasBorderPanel","useHasBorderColorControl","useHasBorderRadiusControl","useHasBorderStyleControl","useHasBorderWidthControl","Boolean","applyFallbackStyle","color","BorderPanel","variationPath","userBorderStyles","setBorder","showBorderColor","showBorderStyle","showBorderWidth","showBorderRadius","borderRadiusValues","setBorderRadius","hasBorderRadius","borderValues","radius","resetAll","onBorderChange","newBorder","newBorderWithStyle","hasSplitBorders","top","right","bottom","left","applyAllFallbackStyles","updatedBorder","hasValue","isDefinedBorder","onDeselect","resetBorder","isShownByDefault","enableAlpha","enableStyle","popoverOffset","popoverPlacement","__experimentalIsRenderedInSidebar","useHasColorPanel","AXIAL_SIDES","useHasDimensionsPanel","hasContentSize","useHasContentSize","hasWideSize","useHasWideSize","hasPadding","useHasPadding","hasMargin","useHasMargin","hasGap","useHasGap","hasMinHeight","useHasMinHeight","filterValuesBySides","sides","filteredValues","side","splitStyleValue","splitGapValue","DimensionsPanel","showContentSizeControl","showWideSizeControl","showPaddingControl","showMarginControl","showGapControl","showMinHeightControl","showSpacingPresetsControl","useHasSpacingPresets","units","useCustomUnits","availableUnits","contentSizeValue","setContentSizeValue","hasUserSetContentSizeValue","resetContentSizeValue","userSetContentSizeValue","useContentSizeProps","wideSizeValue","setWideSizeValue","hasUserSetWideSizeValue","resetWideSizeValue","userSetWideSizeValue","useWideSizeProps","paddingValues","paddingSides","isAxialPadding","setPaddingValues","resetPaddingValue","hasPaddingValue","rawPadding","setRawPadding","useCustomSides","newPaddingValues","userSetPaddingValue","usePaddingProps","marginValues","marginSides","isAxialMargin","setMarginValues","resetMarginValue","hasMarginValue","rawMargin","setRawMargin","newMarginValues","margin","useMarginProps","gapValue","gapValues","gapSides","isAxialGap","setGapValue","setGapValues","resetGapValue","hasGapValue","userSetGapValue","nextBoxGapValue","useBlockGapProps","minHeightValue","setMinHeightValue","resetMinHeightValue","hasMinHeightValue","useMinHeightProps","alignment","labelPosition","__unstableInputWidth","nextContentSize","positionCenter","nextWideSize","stretchWide","allowReset","splitOnAxis","useHasTypographyPanel","hasFontFamily","useHasFontFamilyControl","hasLineHeight","useHasLineHeightControl","hasFontAppearance","useHasAppearanceControl","hasLetterSpacing","useHasLetterSpacingControl","fontFamilies","hasFontStyles","hasFontWeights","useStyleWithReset","userStyle","TypographyPanel","headingLevel","fontSizes","disableCustomFontSizes","hasFontFamilyEnabled","hasLineHeightEnabled","hasAppearanceControl","appearanceControlLabel","useAppearanceControlLabel","hasLetterSpacingControl","hasTextTransformControl","useHasTextTransformControl","hasTextDecorationControl","useHasTextDecorationControl","hasFontSizeEnabled","fontFamily","setFontFamily","resetFontFamily","setFontSize","hasFontSize","resetFontSize","setStyleCallback","useFontSizeWithReset","fontStyle","setFontStyle","fontWeight","setFontWeight","resetFontAppearance","userFontStyle","userFontWeight","useFontAppearance","setLineHeight","resetLineHeight","letterSpacing","setLetterSpacing","resetLetterSpacing","textTransform","setTextTransform","hasTextTransform","resetTextTransform","textDecoration","setTextDecoration","hasTextDecoration","resetTextDecoration","FontSizePicker","withReset","withSlider","newFontStyle","newFontWeight","LineHeightControl","showNone","getCoreBlockStyles","useHasVariationsPanel","parentMenu","isInsideVariationsPanel","getBlockStyles","blocksStore","coreBlockStyles","VariationsPanel","isBordered","isSeparated","isDefault","VariationPanel","marginBottom","paddingX","paddingY","minWidth","variation","containerResizeListener","containerWidth","containerHeight","useResizeObserver","blockExample","example","blockExampleWithVariation","getBlockFromExample","viewportWidth","minHeight","marginX","BlockPreview","__experimentalMinHeight","__experimentalStyles","css","ScreenVariations","ScreenVariation","styleLabel","hasTypographyPanel","hasColorPanel","hasBorderPanel","hasLayoutPanel","hasVariationsPanel","BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS","__experimentalBorder","compileStyleValue","uncompiledValue","VARIABLE_REFERENCE_PREFIX","getPresetsClasses","blockSelector","blockPresets","declarations","classSelectorToUse","selectorToUse","flattenTree","token","newKey","newLeaf","newPrefix","concatFeatureVariationSelectorString","featureSelector","styleVariationSelector","featureSelectors","combinedSelectors","getStylesDeclarations","useRootPaddingAlign","tree","isRoot","output","properties","useEngine","rootOnly","pathToValue","styleValue","entry","cssProperty","extraRules","getCSSRules","rule","ruleValue","getLayoutStyles","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","ruleset","getGapCSSValue","definitions","spacingStyles","spacingStyle","rules","cssValue","combinedSelector","validDisplayModes","displayMode","baseStyles","baseStyle","getNodesWithStyles","blockSelectors","nodes","pickStyleKeys","treeToPickFrom","ELEMENTS","elements","variations","duotoneSelector","hasLayoutSupport","styleVariationSelectors","elementName","sel","elementSelector","getNodesWithSettings","pickPresets","isEmpty","blockCustom","toCustomProperties","mergedSettings","getPresetsDeclarations","customProps","useGlobalStylesOutput","disableLayoutStyles","background","updateConfigWithSeparator","blockTypes","__experimentalSelector","__experimentalDuotone","__experimentalLayout","__experimentalDefault","blockStyleVariations","featureKey","scopes","selectorsScoped","outer","scopeSelector","getBlockSelectors","getBlockTypes","customProperties","globalStyles","nodesWithStyles","nodesWithSettings","useRootPaddingAwareAlignments","contentSize","wideSize","featureDeclarations","styleVariationName","styleVariationDeclarations","duotoneStyles","duotoneDeclarations","pseudoSelectorStyles","pseudoKey","pseudoStyle","pseudoDeclarations","pseudoRule","toStyles","filters","at","getPresetsSvgFilters","toSvgFilters","isGlobalStyles","firstFrame","start","scale","midFrame","secondFrame","isFocused","withHoverView","headingFontFamily","headingFontWeight","textColor","headingColor","backgroundColor","gradientValue","disableMotion","useReducedMotion","coreColors","isHovered","setIsHovered","ratio","paletteColors","concat","highlightedColors","editorStyles","onMouseEnter","onMouseLeave","cursor","animate","overflow","borderRadius","flexGrow","textAlign","__experimentalGetCurrentThemeGlobalStylesVariations","__experimentalGlobalStylesCustomCSS","__experimentalEnableGlobalStylesCustomCSS","CardMedia","CardDivider","BlockMenuItem","hasDimensionsPanel","navigationButtonLabel","BlockIcon","sortedBlockTypes","blockItems","core","coreItems","noncore","nonCoreItems","useSortedBlockTypes","setFilterValue","debouncedSpeak","isMatchingSearchTerm","filteredBlockTypes","blockTypesListRef","count","childElementCount","resultsFoundMessage","_n","hasSupport","extraStyles","variationClassName","TypographyPreview","heading","button","setHeadingLevel","hideLabelFromVision","EMPTY_COLORS","defaultPaletteEnabled","randomizeThemeColors","setThemeColors","useColorRandomizer","__experimentalEnableColorRandomizer","randomRotationValue","random","newColors","colorObject","newColor","colord","screenPath","paletteButtonText","direction","isLayered","offset","ColorIndicator","colorValue","shuffle","variationPathToURL","BackgroundColorItem","TextColorItem","LinkColorItem","colorHover","HeadingColorItem","bgColor","ButtonColorItem","ColorPalettePanel","baseThemeColors","setDefaultColors","baseDefaultColors","setCustomColors","canReset","canOnlyChangeValues","paletteLabel","emptyMessage","slugPrefix","GradientPalettePanel","setThemeGradients","baseThemeGradients","setDefaultGradients","baseDefaultGradients","setCustomGradients","customDuotone","defaultDuotone","themeDuotone","defaultDuotoneEnabled","duotonePalette","DuotonePicker","disableCustomDuotone","disableCustomColors","clearable","solids","areCustomSolidsEnabled","areCustomGradientsEnabled","colorsPerOrigin","gradientsPerOrigin","isBackgroundEnabled","hasBackgroundColor","hasGradientColor","setBackgroundColor","userBackgroundColor","gradient","setGradient","userGradient","backgroundSettings","onColorChange","gradientSettings","onGradientChange","controlProps","disableCustomGradients","showTitle","isTextEnabled","hasTextColor","setColor","userColor","isLinkEnabled","hasLinkColor","pseudoStates","handler","userValue","pseudoSelectorConfig","selectedLevel","setCurrentTab","hasButtonColor","buttonTextColor","setButtonTextColor","userButtonTextColor","buttonBgColor","setButtonBgColor","userButtonBgColor","mergeTreesCustomizer","_","srcValue","mergeBaseAndUserConfigs","mergeWith","cleanEmptyObject","cleanedNestedObjects","mapValues","GlobalStylesProvider","isUserConfigReady","globalStylesId","isReady","hasFinishedResolution","_globalStylesId","__experimentalGetCurrentGlobalStylesId","record","setConfig","callback","updatedConfig","useGlobalStylesUserConfig","isBaseConfigReady","__experimentalGetCurrentThemeBaseGlobalStyles","useGlobalStylesBaseConfig","useGlobalStylesContext","Variation","setIsFocused","selectVariation","fastDeepEqual","compareVariations","onKeyDown","keyCode","ENTER","onFocus","onBlur","__unstableGetEditorMode","withEmptyVariation","shouldRevertInitialMode","back","columns","SLOT_FILL_NAME","StyleBookSlot","StyleBookFill","createSlotFill","getExamples","createBlock","StyleBook","resizeObserver","sizes","examples","getCategories","Examples","Example","customCSS","setCustomCSS","themeCSS","ignoreThemeCustomCSS","themeCustomCSS","originalThemeCustomCSS","TextareaControl","handleOnChange","spellCheck","PanelBody","initialOpen","GlobalStylesNavigationScreen","BlockStyleVariationsScreens","ContextScreens","hasVariationPath","GlobalStylesStyleBook","depth","match","goBack","isStyleBookOpened","onCloseStyleBook","GlobalStylesSidebar","onReset","useGlobalStylesReset","setIsStyleBookOpened","editorMode","seen","controls","isDisabled","ALLOWED_BLOCKS","NavigationMenu","innerBlocks","updateBlockListSettings","allowedBlocks","clientId","__experimentalEnableOffCanvasNavigationEditor","selectBlockInCanvas","NAVIGATION_MENUS_QUERY","NavigationInspector","selectedNavigationBlockId","clientIdToRef","navigationMenus","isResolvingNavigationMenus","hasResolvedNavigationMenus","firstNavigationBlockId","__experimentalGetActiveBlockIdByBlockNames","__experimentalGetGlobalBlocksByName","getBlock","navigationMenusQuery","selectedNavId","navBlockIds","idToRef","navMenuListId","firstNavRefInTemplate","firstNavigationMenuRef","defaultNavigationMenuId","currentMenuId","setCurrentMenuId","onInput","useEntityBlockEditor","isLoadingInnerBlocks","hasLoadedInnerBlocks","hasMoreThanOneNavigationMenu","hasNavigationMenus","publishedInnerBlocks","hasInnerBlocks","SelectControl","newMenuId","BlockEditorProvider","NavigationMenuSidebar","navigation","SIDEBAR_TEMPLATE","SIDEBAR_BLOCK","sidebarName","templateAriaLabel","templateActiveClass","blockAriaLabel","blockActiveClass","Actions","TemplateAreaItem","selectBlock","toggleBlockHighlight","templatePartArea","defaultArea","highlightBlock","cancelHighlightBlock","onMouseOver","TemplateAreas","TemplateCard","__experimentalGetTemplateInfo","getTemplateInfo","InspectorSlot","InspectorFill","SidebarInspectorFill","SidebarComplementaryAreaFills","isEditorSidebarOpened","hasBlockSelection","supportsGlobalStyles","_sidebar","_isEditorSidebarOpened","getBlockSelectionStart","supportsTemplatePartsMode","MaybeNavigationMenuSidebar","Fragment","drawerLeft","drawerRight","ConvertToRegularBlocks","getBlocks","replaceBlocks","canRemoveBlock","BlockSettingsMenuControls","ConvertToTemplatePart","clientIds","canCreate","serialize","TemplatePartConverter","getSelectedBlockClientIds","getBlocksByClientId","selectedBlockClientIds","NavigateToLink","onActivePageChange","edit","previousTemplateId","arrowLeft","ResizeHandle","resizeWidthBy","LEFT","RIGHT","VisuallyHidden","HANDLE_STYLES_OVERRIDE","userSelect","enableResizing","setWidth","resizableRef","deltaPixels","ResizableBox","api","resizable","onResizeStop","maxWidth","enable","showHandle","resizeRatio","handleComponent","handleClasses","handleStyles","isZoomOutMode","deviceStyles","useResizeCanvas","mouseMoveTypingRef","useMouseMoveTypingReset","frameSize","svgFilters","LAYOUT","alignments","BlockEditor","storedSettings","settingsBlockPatterns","__experimentalAdditionalBlockPatterns","__experimentalBlockPatterns","settingsBlockPatternCategories","__experimentalAdditionalBlockPatternCategories","__experimentalBlockPatternCategories","restBlockPatterns","restBlockPatternCategories","getBlockPatterns","getBlockPatternCategories","blockPatterns","blockPatternCategories","restStoredSettings","__unstableFetchMedia","fetchMedia","contentRef","mergedRefs","useClipboardHandler","useTypingObserver","hasBlocks","isViewMode","showBlockAppender","useSubRegistry","__experimentalLinkControl","BlockInspector","styleBook","BlockTools","__unstableContentRef","BlockEditorKeyboardShortcuts","readonly","BlockList","renderAppender","ReusableBlocksMenuItems","CodeEditorTextArea","stateValue","setStateValue","isDirty","setIsDirty","valueRef","htmlFor","autoComplete","dir","CodeEditor","getShortcutRepresentation","keyboardShortcutsStore","contentStructure","setContent","useEntityProp","Function","newContent","selection","KeyboardShortcuts","__experimentalGetDirtyEntityRecords","isSavingEntityRecord","isListViewOpen","isBlockInspectorOpen","redo","undo","useShortcut","dirtyEntityRecords","kind","Register","registerShortcut","keyCombination","modifier","character","aliases","isAppleOS","InserterSidebar","insertionPoint","isMobile","TagName","inserterDialogRef","inserterDialogProps","useDialog","focusOnMount","libraryRef","focusSearch","close","showInserterHelpPanel","shouldFocusBlock","__experimentalInsertionIndex","__experimentalFilterValue","ListViewSidebar","focusOnMountRef","useFocusOnMount","headerFocusReturnRef","useFocusReturn","contentFocusReturnRef","labelId","ESCAPE","defaultPrevented","WelcomeGuideImage","nonAnimatedSrc","animatedSrc","srcSet","alt","WelcomeGuideEditor","Guide","contentLabel","finishButtonText","onFinish","pages","image","createInterpolateElement","StylesIconImage","WelcomeGuideStyles","isStylesOpen","ExternalLink","WelcomeGuide","GlobalStylesRenderer","currentStoreSettings","nonGlobalStyles","__experimentalFeatures","useGlobalStylesRenderer","useTitle","siteTitle","isInitialLocationRef","formattedTitle","interfaceLabels","Editor","hasLoadedPost","blockEditorMode","isRightSidebarOpen","isInserterOpen","isSaveViewOpen","isEditMode","showVisualEditor","showBlockBreakcrumb","shouldShowInserter","shouldShowListView","secondarySidebarLabel","blockContext","queryContext","newQueryContext","EntityProvider","BlockContextProvider","EditorSnackbars","EditorNotices","Notice","EntitiesSavedStates","BlockBreadcrumb","rootLabelText","Header","RenameMenuItem","saveEditedEntityRecord","isRemovable","isTemplateRemovable","isRevertable","isDestructive","isTertiary","revertAndSaveTemplate","TEMPLATE_POST_TYPE_NAMES","CustomizedTooltip","isCustomized","Tooltip","BaseAddedBy","imageUrl","isImageLoaded","setIsImageLoaded","onLoad","AddedByTheme","getTheme","themeIcon","AddedByPlugin","plugin","getPlugin","pluginIcon","AddedByAuthor","getUser","authorIcon","avatar_urls","nickname","AddedBySite","logoURL","getMedia","siteData","site_logo","source_url","globeIcon","AddedBy","Table","List","useRegisterShortcuts","previousShortcut","nextShortcut","getAllShortcutKeyCombinations","itemsListLabel","items_list","detailedRegionLabels","previous","CopyButton","useCopyToClipboard","ErrorBoundaryWarning","reboot","dashboardLink","stack","Warning","ErrorBoundary","super","componentDidCatch","doAction","getIsListPage","textFormattingShortcuts","KeyCombination","forceAriaLabel","displayShortcutList","shortcutAriaLabel","Shortcut","alias","DynamicShortcut","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","ShortcutList","ShortcutSection","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","KeyboardShortcutHelpModal","isModalActive","toggleModal","EnableFeature","remainingProps","EditSitePreferencesModal","ToolsMoreMenuGroup","SiteExport","headers","Accept","contentDispositionMatches","downloadjs","errorResponse","json","WelcomeGuideMenuItem","CopyContentMenuItem","createNotice","getText","MODES","isRichEditingEnabled","richEditingEnabled","isCodeEditingEnabled","codeEditingEnabled","choices","choice","MenuItemsChoice","MoreMenu","useReducer","isPreferencesModalActive","togglePreferencesModal","PreferenceToggleMenuItem","messageActivated","messageDeactivated","displayShortcut","external","rel","SaveButton","isSaving","hasUndo","redoIcon","undoIcon","hasRedo","TemplatePartItemMore","closeTemplateDetailsDropdown","editLinkProps","TemplatePartItem","EditTemplateTitle","forceEmpty","setForceEmpty","newTitle","TemplatePartAreaSelector","areaOptions","_area","TemplateDetails","browseAllLinkProps","canEditTitle","useEditedEntityRecord","isLoaded","_record","_isLoaded","getTitle","getBlockDisplayText","getBlockLabel","DocumentActions","activeEntityBlockId","blockInformation","useBlockDisplayInformation","useSecondaryText","popoverAnchor","setPopoverAnchor","entityLabel","showColors","Dropdown","renderToggle","onToggle","chevronDown","contentClassName","renderContent","HeaderEditMode","inserterButton","listViewShortcut","isVisualMode","homeUrl","getUnstableBase","setPreviewDeviceType","openInserter","focus","toggleListView","hasStyleBook","useSlotFills","useHasStyleBook","isFocusMode","longLabel","shortLabel","isZoomedOutViewExperimentEnabled","__experimentalEnableZoomedOutView","isZoomedOutView","NavigableToolbar","ToolbarItem","onMouseDown","ToolSelector","UndoButton","RedoButton","listView","chevronUpDown","setDeviceType","viewLabel","isRequestingSite","siteIconUrl","site_icon_url","wordpress","SiteHub","isMobileCanvasVisible","setIsMobileCanvasVisible","isEditorPage","entityConfig","__experimentalDashboardLink","showEditButton","showLabels","siteIconButtonProps","duration","ease","ANIMATION_DURATION","emptyResizeHandleStyles","Layout","useInitEditedEntityFromURL","currentCanvasMode","canvas","canvasInUrl","currentCanvasInUrl","useSyncCanvasModeWithURL","hubRef","isListPage","canvasPadding","showSidebar","showCanvas","showFrame","isFullCanvas","canvasResizer","canvasSize","fullResizer","fullSize","forcedWidth","setForcedWidth","isResizing","setIsResizing","isResizingEnabled","defaultSidebarWidth","canvasWidth","exit","elt","onResizeStart","App","ShortcutProvider","SlotFillProvider","Popover","UnsavedChangesWarning","PluginArea","PluginSidebarEditSite","PluginSidebarMoreMenuItem","compose","reinitializeEditor","canInsert","unmountComponentAtNode","fixedToolbar","welcomeGuide","welcomeGuideStyles","showListViewByDefault","updateEditorSettings","defaultTemplatePartAreas","initializeEditor","__experimentalFetchLinkSuggestions","searchOptions","fetchLinkSuggestions","__experimentalFetchRichUrlData","fetchUrlData","getElementById","__experimentalReapplyBlockTypeFilters","registerCoreBlocks","registerLegacyWidgetBlock","inserter","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks"],"sourceRoot":""}