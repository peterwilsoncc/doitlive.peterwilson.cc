(()=>{"use strict";var e={5619:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var n,o,s;if(Array.isArray(r)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;for(o of r.entries())if(!e(o[1],t.get(o[0])))return!1;return!0}if(r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(o of r.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if((n=r.length)!=t.length)return!1;for(o=n;0!=o--;)if(r[o]!==t[o])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((n=(s=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=n;0!=o--;){var u=s[o];if(!e(r[u],t[u]))return!1}return!0}return r!=r&&t!=t}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var n={};(()=>{function e(){return e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.apply(this,arguments)}t.d(n,{default:()=>b});const r=window.wp.element,o=window.wp.data;var s=t(5619),u=t.n(s);const i=window.wp.compose,l=window.wp.i18n,a=window.wp.apiFetch;var c=t.n(a);const f=window.wp.url,p=window.wp.components,d=window.wp.blocks,w={};function m(e){let{className:t}=e;return(0,r.createElement)(p.Placeholder,{className:t},(0,l.__)("Block rendered as empty."))}function g(e){let{response:t,className:n}=e;const o=(0,l.sprintf)(// translators: %s: error message describing the problem
(0,l.__)("Error loading block: %s"),t.errorMsg);return(0,r.createElement)(p.Placeholder,{className:n},o)}function y(e){let{children:t,showLoader:n}=e;return(0,r.createElement)("div",{style:{position:"relative"}},n&&(0,r.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"}},(0,r.createElement)(p.Spinner,null)),(0,r.createElement)("div",{style:{opacity:n?"0.3":1}},t))}function v(t){const{attributes:n,block:o,className:s,httpMethod:l="GET",urlQueryArgs:a,skipBlockSupportAttributes:p=!1,EmptyResponsePlaceholder:v=m,ErrorResponsePlaceholder:h=g,LoadingResponsePlaceholder:b=y}=t,E=(0,r.useRef)(!0),[O,S]=(0,r.useState)(!1),P=(0,r.useRef)(),[j,k]=(0,r.useState)(null),x=(0,i.usePrevious)(t),[A,M]=(0,r.useState)(!1);function R(){var e,r;if(!E.current)return;M(!0);let t=n&&(0,d.__experimentalSanitizeBlockAttributes)(o,n);p&&(t=function(e){const{backgroundColor:r,borderColor:t,fontFamily:n,fontSize:o,gradient:s,textColor:u,className:i,...l}=e,{border:a,color:c,elements:f,spacing:p,typography:d,...m}=(null==e?void 0:e.style)||w;return{...l,style:m}}(t));const s="POST"===l,u=s?null:null!==(e=t)&&void 0!==e?e:null,i=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,f.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...null!==r?{attributes:r}:{},...t})}(o,u,a),m=s?{attributes:null!==(r=t)&&void 0!==r?r:null}:null,g=P.current=c()({path:i,data:m,method:s?"POST":"GET"}).then((e=>{E.current&&g===P.current&&e&&k(e.rendered)})).catch((e=>{E.current&&g===P.current&&k({error:!0,errorMsg:e.message})})).finally((()=>{E.current&&g===P.current&&M(!1)}));return g}const T=(0,i.useDebounce)(R,500);(0,r.useEffect)((()=>()=>{E.current=!1}),[]),(0,r.useEffect)((()=>{void 0===x?R():u()(x,t)||T()})),(0,r.useEffect)((()=>{if(!A)return;const e=setTimeout((()=>{S(!0)}),1e3);return()=>clearTimeout(e)}),[A]);const _=!!j,N=""===j,z=null==j?void 0:j.error;return A?(0,r.createElement)(b,e({},t,{showLoader:O}),_&&(0,r.createElement)(r.RawHTML,{className:s},j)):N||!_?(0,r.createElement)(v,t):z?(0,r.createElement)(h,e({response:j},t)):(0,r.createElement)(r.RawHTML,{className:s},j)}const h={},b=(0,o.withSelect)((e=>{const r=e("core/editor");if(r){const e=r.getCurrentPostId();if(e&&"number"==typeof e)return{currentPostId:e}}return h}))((t=>{let{urlQueryArgs:n=h,currentPostId:o,...s}=t;const u=(0,r.useMemo)((()=>o?{post_id:o,...n}:n),[o,n]);return(0,r.createElement)(v,e({urlQueryArgs:u},s))}))})(),(window.wp=window.wp||{}).serverSideRender=n.default})();
//# sourceMappingURL=index.min.js.map