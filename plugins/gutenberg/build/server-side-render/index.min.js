!function(){"use strict";var e={n:function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,{a:n}),n},d:function(r,n){for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},o:function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}},r={};function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}e.d(r,{default:function(){return g}});var t=window.wp.element,o=window.wp.data,c=window.wp.deprecated,u=e.n(c),l=window.lodash,s=window.wp.compose,a=window.wp.i18n,i=window.wp.apiFetch,d=e.n(i),w=window.wp.url,p=window.wp.components,f=window.wp.blocks;function m({className:e}){return(0,t.createElement)(p.Placeholder,{className:e},(0,a.__)("Block rendered as empty."))}function h({response:e,className:r}){const n=(0,a.sprintf)(// translators: %s: error message describing the problem
(0,a.__)("Error loading block: %s"),e.errorMsg);return(0,t.createElement)(p.Placeholder,{className:r},n)}function E({className:e}){return(0,t.createElement)(p.Placeholder,{className:e},(0,t.createElement)(p.Spinner,null))}function v(e){const{attributes:r,block:o,className:c,httpMethod:u="GET",urlQueryArgs:a,EmptyResponsePlaceholder:i=m,ErrorResponsePlaceholder:p=h,LoadingResponsePlaceholder:v=E}=e,b=(0,t.useRef)(!0),P=(0,t.useRef)(),[g,y]=(0,t.useState)(null),S=(0,s.usePrevious)(e);function R(){if(!b.current)return;null!==g&&y(null);const e=r&&(0,f.__experimentalSanitizeBlockAttributes)(o,r),n="POST"===u,t=function(e,r=null,n={}){return(0,w.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...null!==r?{attributes:r}:{},...n})}(o,n?null:null!=e?e:null,a),c=n?{attributes:null!=e?e:null}:null,l=P.current=d()({path:t,data:c,method:n?"POST":"GET"}).then((e=>{b.current&&l===P.current&&e&&y(e.rendered)})).catch((e=>{b.current&&l===P.current&&y({error:!0,errorMsg:e.message})}));return l}const _=(0,s.useDebounce)(R,500);return(0,t.useEffect)((()=>()=>{b.current=!1}),[]),(0,t.useEffect)((()=>{void 0===S?R():(0,l.isEqual)(S,e)||_()})),""===g?(0,t.createElement)(i,e):g?g.error?(0,t.createElement)(p,n({response:g},e)):(0,t.createElement)(t.RawHTML,{className:c},g):(0,t.createElement)(v,e)}const b={},P=(0,o.withSelect)((e=>{const r=e("core/editor");if(r){const e=r.getCurrentPostId();if(e&&"number"==typeof e)return{currentPostId:e}}return b}))((({urlQueryArgs:e=b,currentPostId:r,...o})=>{const c=(0,t.useMemo)((()=>r?{post_id:r,...e}:e),[r,e]);return(0,t.createElement)(v,n({urlQueryArgs:c},o))}));window&&window.wp&&window.wp.components&&(window.wp.components.ServerSideRender=(0,t.forwardRef)(((e,r)=>(u()("wp.components.ServerSideRender",{since:"5.3",alternative:"wp.serverSideRender"}),(0,t.createElement)(P,n({},e,{ref:r}))))));var g=P;(window.wp=window.wp||{}).serverSideRender=r.default}();