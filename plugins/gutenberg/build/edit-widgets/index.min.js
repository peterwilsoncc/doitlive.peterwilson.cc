window.wp=window.wp||{},window.wp.editWidgets=function(e){var t={};function r(c){if(t[c])return t[c].exports;var n=t[c]={i:c,l:!1,exports:{}};return e[c].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(c,n,function(t){return e[t]}.bind(null,n));return c},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=410)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t,r){var c;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var c=arguments[t];if(c){var i=typeof c;if("string"===i||"number"===i)e.push(c);else if(Array.isArray(c))e.push(n.apply(null,c));else if("object"===i)for(var a in c)r.call(c,a)&&c[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:void 0===(c=function(){return n}.apply(t,[]))||(e.exports=c)}()},100:function(e,t){e.exports=window.wp.reusableBlocks},11:function(e,t){e.exports=window.wp.coreData},110:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=i},127:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=i},13:function(e,t){e.exports=window.wp.keycodes},148:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=i},149:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=i},150:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));t.a=i},153:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));t.a=i},19:function(e,t){e.exports=window.wp.url},195:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));t.a=i},196:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));t.a=i},197:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));t.a=i},198:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=i},2:function(e,t){e.exports=window.lodash},20:function(e,t){e.exports=window.wp.hooks},24:function(e,t){e.exports=window.wp.keyboardShortcuts},27:function(e,t,r){"use strict";r.d(t,"g",(function(){return j})),r.d(t,"b",(function(){return G})),r.d(t,"c",(function(){return L})),r.d(t,"d",(function(){return V})),r.d(t,"e",(function(){return H})),r.d(t,"f",(function(){return M})),r.d(t,"a",(function(){return W}));var c={};r.r(c),r.d(c,"enableComplementaryArea",(function(){return d})),r.d(c,"disableComplementaryArea",(function(){return u})),r.d(c,"pinItem",(function(){return m})),r.d(c,"unpinItem",(function(){return g}));var n={};r.r(n),r.d(n,"getActiveComplementaryArea",(function(){return p})),r.d(n,"isItemPinned",(function(){return O}));var i=r(4),a=r(2);const o=Object(i.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:r,scope:c,item:n}){return"SET_SINGLE_ENABLE_ITEM"===t&&r&&c?{...e,[r]:{...e[r],[c]:n||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:r,scope:c,item:n,isEnable:i}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!r||!c||!n||Object(a.get)(e,[r,c,n])===i)return e;const o=e[r]||{},s=o[c]||{};return{...e,[r]:{...o,[c]:{...s,[n]:i||!1}}}}});var s=Object(i.combineReducers)({enableItems:o});function l(e,t,r){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:r}}function d(e,t){return l("complementaryArea",e,t)}function u(e){return l("complementaryArea",e,void 0)}function b(e,t,r,c){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:r,isEnable:c}}function m(e,t){return b("pinnedItems",e,t,!0)}function g(e,t){return b("pinnedItems",e,t,!1)}function p(e,t){return function(e,t,r){return Object(a.get)(e.enableItems.singleEnableItems,["complementaryArea",r])}(e,0,t)}function O(e,t,r){return!1!==function(e,t,r,c){return Object(a.get)(e.enableItems.multipleEnableItems,["pinnedItems",r,c])}(e,0,t,r)}const j=Object(i.createReduxStore)("core/interface",{reducer:s,actions:c,selectors:n,persist:["enableItems"]});Object(i.registerStore)("core/interface",{reducer:s,actions:c,selectors:n,persist:["enableItems"]});var f=r(7),_=r(0),w=r(10),E=r.n(w),h=r(3),y=r(1),v=r(92),k=r(148),S=r(149),I=r(54),A=r(91),B=r(37),x=Object(B.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})),N=x((function({as:e=h.Button,scope:t,identifier:r,icon:c,selectedIcon:n,...o}){const s=e,l=Object(i.useSelect)(e=>e(j).getActiveComplementaryArea(t)===r,[r]),{enableComplementaryArea:d,disableComplementaryArea:u}=Object(i.useDispatch)(j);return Object(_.createElement)(s,Object(f.a)({icon:n&&l?n:c,onClick:()=>{l?u(t):d(t,r)}},Object(a.omit)(o,["name"])))})),C=({smallScreenTitle:e,children:t,className:r,toggleButtonProps:c})=>{const n=Object(_.createElement)(N,Object(f.a)({icon:A.a},c));return Object(_.createElement)(_.Fragment,null,Object(_.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&Object(_.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),n),Object(_.createElement)("div",{className:E()("components-panel__header","interface-complementary-area-header",r),tabIndex:-1},t,n))};function T({name:e,as:t=h.Button,onClick:r,...c}){return Object(_.createElement)(h.Fill,{name:e},({onClick:e})=>Object(_.createElement)(t,Object(f.a)({onClick:r||e?(...t)=>{(r||a.noop)(...t),(e||a.noop)(...t)}:void 0},c)))}T.Slot=function({name:e,as:t=h.ButtonGroup,fillProps:r={},bubblesVirtually:c,...n}){return Object(_.createElement)(h.Slot,{name:e,bubblesVirtually:c,fillProps:r},e=>{if(Object(a.isEmpty)(_.Children.toArray(e)))return null;const r=[];_.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&r.push(t)});const c=_.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&r.includes(e.props.__unstableTarget)?null:e);return Object(_.createElement)(t,n,c)})};var W=T;const R=e=>Object(_.createElement)(h.MenuItem,Object(a.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function L({scope:e,target:t,__unstableExplicitMenuItem:r,...c}){return Object(_.createElement)(N,Object(f.a)({as:c=>Object(_.createElement)(W,Object(f.a)({__unstableExplicitMenuItem:r,__unstableTarget:`${e}/${t}`,as:R,name:e+"/plugin-more-menu"},c)),role:"menuitemcheckbox",selectedIcon:v.a,name:t,scope:e},c))}function P({scope:e,...t}){return Object(_.createElement)(h.Fill,Object(f.a)({name:"PinnedItems/"+e},t))}P.Slot=function({scope:e,className:t,...r}){return Object(_.createElement)(h.Slot,Object(f.a)({name:"PinnedItems/"+e},r),e=>!Object(a.isEmpty)(e)&&Object(_.createElement)("div",{className:E()(t,"interface-pinned-items")},e))};var M=P;function D({scope:e,children:t,className:r}){return Object(_.createElement)(h.Fill,{name:"ComplementaryArea/"+e},Object(_.createElement)("div",{className:r},t))}const F=x((function({children:e,className:t,closeLabel:r=Object(y.__)("Close plugin"),identifier:c,header:n,headerClassName:a,icon:o,isPinnable:s=!0,panelClassName:l,scope:d,name:u,smallScreenTitle:b,title:m,toggleShortcut:g,isActiveByDefault:p,showIconLabels:O=!1}){const{isActive:f,isPinned:w,activeArea:A,isSmall:B,isLarge:x}=Object(i.useSelect)(e=>{const{getActiveComplementaryArea:t,isItemPinned:r}=e(j),n=t(d);return{isActive:n===c,isPinned:r(d,c),activeArea:n,isSmall:e(I.store).isViewportMatch("< medium"),isLarge:e(I.store).isViewportMatch("large")}},[c,d]);!function(e,t,r,c,n){const a=Object(_.useRef)(!1),o=Object(_.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:l}=Object(i.useDispatch)(j);Object(_.useEffect)(()=>{c&&n&&!a.current?(l(e),o.current=!0):o.current&&!n&&a.current?(o.current=!1,s(e,t)):o.current&&r&&r!==t&&(o.current=!1),n!==a.current&&(a.current=n)},[c,n,e,t,r])}(d,c,A,f,B);const{enableComplementaryArea:T,disableComplementaryArea:W,pinItem:R,unpinItem:P}=Object(i.useDispatch)(j);return Object(_.useEffect)(()=>{p&&void 0===A&&!B&&T(d,c)},[A,p,d,c,B]),Object(_.createElement)(_.Fragment,null,s&&Object(_.createElement)(M,{scope:d},w&&Object(_.createElement)(N,{scope:d,identifier:c,isPressed:f&&(!O||x),"aria-expanded":f,label:m,icon:O?v.a:o,showTooltip:!O,variant:O?"tertiary":void 0})),u&&s&&Object(_.createElement)(L,{target:u,scope:d,icon:o},m),f&&Object(_.createElement)(D,{className:E()("interface-complementary-area",t),scope:d},Object(_.createElement)(C,{className:a,closeLabel:r,onClose:()=>W(d),smallScreenTitle:b,toggleButtonProps:{label:r,shortcut:g,scope:d,identifier:c}},n||Object(_.createElement)(_.Fragment,null,Object(_.createElement)("strong",null,m),s&&Object(_.createElement)(h.Button,{className:"interface-complementary-area__pin-unpin-item",icon:w?k.a:S.a,label:w?Object(y.__)("Unpin from toolbar"):Object(y.__)("Pin to toolbar"),onClick:()=>(w?P:R)(d,c),isPressed:w,"aria-expanded":w}))),Object(_.createElement)(h.Panel,{className:l},e)))}));F.Slot=function({scope:e,...t}){return Object(_.createElement)(h.Slot,Object(f.a)({name:"ComplementaryArea/"+e},t))};var G=F,V=({isActive:e})=>(Object(_.useEffect)(()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}},[]),Object(_.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null),z=r(9),H=Object(_.forwardRef)((function({footer:e,header:t,sidebar:r,secondarySidebar:c,content:n,drawer:i,actions:a,labels:o,className:s,shortcuts:l},d){const u=Object(_.useRef)(),b=Object(h.__unstableUseNavigateRegions)(u,l);!function(e){Object(_.useEffect)(()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}("interface-interface-skeleton__html-container");const m={
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(y.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(y.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(y.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(y.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(y.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(y.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(y.__)("Footer"),...o};return Object(_.createElement)("div",{ref:Object(z.useMergeRefs)([d,u]),className:E()(s,"interface-interface-skeleton",b,!!e&&"has-footer")},!!i&&Object(_.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":m.drawer},i),Object(_.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&Object(_.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":m.header,tabIndex:"-1"},t),Object(_.createElement)("div",{className:"interface-interface-skeleton__body"},!!c&&Object(_.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":m.secondarySidebar,tabIndex:"-1"},c),Object(_.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":m.body,tabIndex:"-1"},n),!!r&&Object(_.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":m.sidebar,tabIndex:"-1"},r),!!a&&Object(_.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":m.actions,tabIndex:"-1"},a))),!!e&&Object(_.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":m.footer,tabIndex:"-1"},e))}))},28:function(e,t){e.exports=window.wp.notices},3:function(e,t){e.exports=window.wp.components},30:function(e,t){e.exports=window.wp.a11y},31:function(e,t){e.exports=window.wp.apiFetch},37:function(e,t){e.exports=window.wp.plugins},4:function(e,t){e.exports=window.wp.data},410:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",(function(){return mt}));var c={};r.r(c),r.d(c,"persistStubPost",(function(){return C})),r.d(c,"saveEditedWidgetAreas",(function(){return T})),r.d(c,"saveWidgetAreas",(function(){return W})),r.d(c,"saveWidgetArea",(function(){return R})),r.d(c,"setWidgetIdForClientId",(function(){return L})),r.d(c,"setWidgetAreasOpenState",(function(){return P})),r.d(c,"setIsWidgetAreaOpen",(function(){return M})),r.d(c,"setIsInserterOpened",(function(){return D})),r.d(c,"closeGeneralSidebar",(function(){return F})),r.d(c,"moveBlockToWidgetArea",(function(){return G})),r.d(c,"__unstableToggleFeature",(function(){return V}));var n={};r.r(n),r.d(n,"getWidgetAreas",(function(){return z})),r.d(n,"getWidgets",(function(){return H}));var i={};r.r(i),r.d(i,"getWidgets",(function(){return q})),r.d(i,"getWidget",(function(){return K})),r.d(i,"getWidgetAreas",(function(){return Y})),r.d(i,"getWidgetAreaForWidgetId",(function(){return $})),r.d(i,"getParentWidgetAreaBlock",(function(){return Q})),r.d(i,"getEditedWidgetAreas",(function(){return J})),r.d(i,"getReferenceWidgetBlocks",(function(){return X})),r.d(i,"isSavingWidgetAreas",(function(){return Z})),r.d(i,"getIsWidgetAreaOpen",(function(){return ee})),r.d(i,"isInserterOpened",(function(){return te})),r.d(i,"canInsertBlockInWidgetArea",(function(){return re})),r.d(i,"__unstableIsFeatureActive",(function(){return ce}));var a={};r.r(a),r.d(a,"metadata",(function(){return pe})),r.d(a,"name",(function(){return Oe})),r.d(a,"settings",(function(){return je}));var o=r(0),s=r(8),l=r(52),d=r(11),u=r(44),b=r(31),m=r.n(b),g=r(4),p=r(2);const O=Object(p.flow)([g.combineReducers,(j={features:{fixedToolbar:!1,welcomeGuide:!0,showBlockBreadcrumbs:!0,themeStyles:!0}},e=>(t=j,r)=>e(t,r))])({features:(e,t)=>"TOGGLE_FEATURE"===t.type?{...e,[t.feature]:!e[t.feature]}:e});var j,f=Object(g.combineReducers)({blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return t.value}return e},widgetAreasOpenState:function(e={},t){const{type:r}=t;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":{const{clientId:r,isOpen:c}=t;return{...e,[r]:c}}default:return e}},preferences:O});const _="root",w=e=>"widget-area-"+e,E="core/edit-widgets";function h(e,t,...r){return{type:"SELECT",registryName:e,selectorName:t,args:r}}function y(e,t,...r){return{type:"DISPATCH",registryName:e,actionName:t,args:r}}const v={AWAIT_PROMISE:({promise:e})=>e,SELECT:Object(g.createRegistryControl)(e=>({registryName:t,selectorName:r,args:c})=>e.select(t)[r](...c)),GET_PENDING_ACTIONS:Object(g.createRegistryControl)(e=>({postId:t})=>{var r;return(null===(r=k(e).processingQueue[t])||void 0===r?void 0:r.pendingActions)||[]}),IS_PROCESSING_POST:Object(g.createRegistryControl)(e=>({postId:t})=>{var r;return null===(r=k(e).processingQueue[t])||void 0===r?void 0:r.inProgress}),DISPATCH:Object(g.createRegistryControl)(e=>({registryName:t,actionName:r,args:c})=>e.dispatch(t)[r](...c)),RESOLVE_WIDGET_AREAS:Object(g.createRegistryControl)(e=>({query:t})=>e.resolveSelect("core").getEntityRecords(_,"sidebar",t)),RESOLVE_WIDGETS:Object(g.createRegistryControl)(e=>({query:t})=>e.resolveSelect("core").getEntityRecords("root","widget",t))},k=e=>e.stores[E].store.getState();var S=v,I=r(1),A=r(28),B=r(27);function x(e){if("block"===e.id_base){const t=Object(s.parse)(e.instance.raw.content);return t.length?Object(u.addWidgetIdToBlock)(t[0],e.id):Object(u.addWidgetIdToBlock)(Object(s.createBlock)("core/paragraph",{},[]),e.id)}let t;return t=e._embedded.about[0].is_multi?{idBase:e.id_base,instance:e.instance}:{id:e.id},Object(u.addWidgetIdToBlock)(Object(s.createBlock)("core/legacy-widget",t,[]),e.id)}function N(e,t={}){let r;var c,n,i;return r="core/legacy-widget"===e.name&&(e.attributes.id||e.attributes.instance)?{...t,id:null!==(c=e.attributes.id)&&void 0!==c?c:t.id,id_base:null!==(n=e.attributes.idBase)&&void 0!==n?n:t.id_base,instance:null!==(i=e.attributes.instance)&&void 0!==i?i:t.instance}:{...t,id_base:"block",instance:{raw:{content:Object(s.serialize)(e)}}},delete r.rendered,delete r.rendered_form,r}const C=function*(e,t){const r=((e,t)=>({id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}))(e,t);return yield y("core","receiveEntityRecords",_,"postType",r,{id:r.id},!1),r};function*T(){const e=yield h(E,"getEditedWidgetAreas");if(null!=e&&e.length)try{yield*W(e),yield y(A.store,"createSuccessNotice",Object(I.__)("Widgets saved."),{type:"snackbar"})}catch(e){yield y(A.store,"createErrorNotice",
/* translators: %s: The error message. */
Object(I.sprintf)(Object(I.__)("There was an error. %s"),e.message),{type:"snackbar"})}}function*W(e){try{for(const t of e)yield*R(t.id)}finally{yield y("core","finishResolution","getEntityRecord",_,"sidebar",{per_page:-1})}}function*R(e){const t=yield h(E,"getWidgets"),r=yield h("core","getEditedEntityRecord",_,"postType",w(e)),c=Object.values(t).filter(({sidebar:t})=>t===e),n=[],i=r.blocks.filter(e=>{const{id:t}=e.attributes;if("core/legacy-widget"===e.name&&t){if(n.includes(t))return!1;n.push(t)}return!0}),a=[];for(const e of c)(yield h(E,"getWidgetAreaForWidgetId",e.id))||a.push(e);const o=[],s=[],l=[];for(let r=0;r<i.length;r++){const c=i[r],n=Object(u.getWidgetIdFromBlock)(c),a=t[n],d=N(c,a);if(l.push(n),a){if(yield y("core","editEntityRecord","root","widget",n,{...d,sidebar:e},{undoIgnore:!0}),!(yield h("core","hasEditsForEntityRecord","root","widget",n)))continue;s.push(({saveEditedEntityRecord:e})=>e("root","widget",n))}else s.push(({saveEntityRecord:t})=>t("root","widget",{...d,sidebar:e}));o.push({block:c,position:r,clientId:c.clientId})}for(const e of a)s.push(({deleteEntityRecord:t})=>t("root","widget",e.id,{force:!0}));const d=(yield y("core","__experimentalBatch",s)).filter(e=>!e.hasOwnProperty("deleted")),b=[];for(let e=0;e<d.length;e++){const t=d[e],{block:c,position:n}=o[e];var m;r.blocks[n].attributes.__internalWidgetId=t.id,(yield h("core","getLastEntitySaveError","root","widget",t.id))&&b.push((null===(m=c.attributes)||void 0===m?void 0:m.name)||(null==c?void 0:c.name)),l[n]||(l[n]=t.id)}if(b.length)throw new Error(Object(I.sprintf)(
/* translators: %s: List of widget names */
Object(I.__)("Could not save the following widgets: %s."),b.join(", ")));yield y("core","editEntityRecord",_,"sidebar",e,{widgets:l},{undoIgnore:!0}),yield*function*(e){const t=yield h("core","getLastEntitySaveError",_,"sidebar",e);yield y("core","saveEditedEntityRecord",_,"sidebar",e);const r=yield h("core","getLastEntitySaveError",_,"sidebar",e);if(r&&t!==r)throw new Error(r)}(e),yield y("core","receiveEntityRecords",_,"postType",r,void 0)}function L(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function P(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function M(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function D(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function*F(){yield y(B.g.name,"disableComplementaryArea",E)}function*G(e,t){const r=yield h("core/block-editor","getBlockRootClientId",[e]),c=(yield h("core/block-editor","getBlocks")).find(({attributes:e})=>e.id===t).clientId,n=(yield h("core/block-editor","getBlockOrder",c)).length;(yield h(E,"getIsWidgetAreaOpen",c))||(yield y(E,"setIsWidgetAreaOpen",c,!0)),yield y("core/block-editor","moveBlocksToPosition",[e],r,c,n)}function V(e){return{type:"TOGGLE_FEATURE",feature:e}}function*z(){const e={per_page:-1};yield function(e={per_page:-1}){return{type:"RESOLVE_WIDGET_AREAS",query:e}}(e);const t=[],r=(yield h("core","getEntityRecords",_,"sidebar",e)).sort((e,t)=>"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0);for(const e of r)t.push(Object(s.createBlock)("core/widget-area",{id:e.id,name:e.name})),e.widgets.length||(yield C(w(e.id),[]));const c={};t.forEach((e,t)=>{c[e.clientId]=0===t}),yield P(c),yield C("widget-areas",t)}function*H(){const e={per_page:-1,_embed:"about"};yield function(e={per_page:-1,_embed:"about"}){return{type:"RESOLVE_WIDGETS",query:e}}(e);const t=yield h("core","getEntityRecords","root","widget",e),r={};for(const e of t){const t=x(e);r[e.sidebar]=r[e.sidebar]||[],r[e.sidebar].push(t)}for(const e in r)r.hasOwnProperty(e)&&(yield C(w(e),r[e]))}var U=r(5);const q=Object(g.createRegistrySelector)(e=>()=>{const t=e(d.store).getEntityRecords("root","widget",{per_page:-1,_embed:"about"});return Object(p.keyBy)(t,"id")}),K=Object(g.createRegistrySelector)(e=>(t,r)=>e(E).getWidgets()[r]),Y=Object(g.createRegistrySelector)(e=>()=>e(d.store).getEntityRecords(_,"sidebar",{per_page:-1})),$=Object(g.createRegistrySelector)(e=>(t,r)=>e(E).getWidgetAreas().find(t=>e(d.store).getEditedEntityRecord(_,"postType",w(t.id)).blocks.map(e=>Object(u.getWidgetIdFromBlock)(e)).includes(r))),Q=Object(g.createRegistrySelector)(e=>(t,r)=>{const{getBlock:c,getBlockName:n,getBlockParents:i}=e(U.store);return c(i(r).find(e=>"core/widget-area"===n(e)))}),J=Object(g.createRegistrySelector)(e=>(t,r)=>{let c=e(E).getWidgetAreas();return c?(r&&(c=c.filter(({id:e})=>r.includes(e))),c.filter(({id:t})=>e(d.store).hasEditsForEntityRecord(_,"postType",w(t))).map(({id:t})=>e(d.store).getEditedEntityRecord(_,"sidebar",t))):[]}),X=Object(g.createRegistrySelector)(e=>(t,r=null)=>{const c=[],n=e(E).getWidgetAreas();for(const t of n){const n=e(d.store).getEditedEntityRecord(_,"postType",w(t.id));for(const e of n.blocks){var i;"core/legacy-widget"!==e.name||r&&(null===(i=e.attributes)||void 0===i?void 0:i.referenceWidgetName)!==r||c.push(e)}}return c}),Z=Object(g.createRegistrySelector)(e=>()=>{var t;const r=null===(t=e(E).getWidgetAreas())||void 0===t?void 0:t.map(({id:e})=>e);if(!r)return!1;for(const t of r)if(e(d.store).isSavingEntityRecord(_,"sidebar",t))return!0;const c=[...Object.keys(e(E).getWidgets()),void 0];for(const t of c)if(e(d.store).isSavingEntityRecord("root","widget",t))return!0;return!1}),ee=(e,t)=>{const{widgetAreasOpenState:r}=e;return!!r[t]};function te(e){return!!e.blockInserterPanel}const re=Object(g.createRegistrySelector)(e=>(t,r)=>{const c=e(U.store).getBlocks(),[n]=c;return e(U.store).canInsertBlockType(r,n.clientId)});function ce(e,t){return Object(p.get)(e.preferences.features,[t],!1)}const ne={reducer:f,controls:S,selectors:i,resolvers:n,actions:c,persist:["preferences"]},ie=Object(g.createReduxStore)(E,ne);Object(g.registerStore)(E,ne),m.a.use((function(e,t){var r;return 0===(null===(r=e.path)||void 0===r?void 0:r.indexOf("/wp/v2/types/widget-area"))?Promise.resolve({}):t(e)}));var ae=r(9),oe=r(20);const se=Object(ae.createHigherOrderComponent)(e=>t=>{const{clientId:r,name:c}=t,{widgetAreas:n,currentWidgetAreaId:i,canInsertBlockInWidgetArea:a}=Object(g.useSelect)(e=>{var t;if("core/widget-area"===c)return{};const n=e(ie),i=n.getParentWidgetAreaBlock(r);return{widgetAreas:n.getWidgetAreas(),currentWidgetAreaId:null==i||null===(t=i.attributes)||void 0===t?void 0:t.id,canInsertBlockInWidgetArea:n.canInsertBlockInWidgetArea(c)}},[r,c]),{moveBlockToWidgetArea:s}=Object(g.useDispatch)(ie),l=(null==n?void 0:n.length)>1,d="core/widget-area"!==c&&l&&a;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(e,t),d&&Object(o.createElement)(U.BlockControls,null,Object(o.createElement)(u.MoveToWidgetArea,{widgetAreas:n,currentWidgetAreaId:i,onSelect:e=>{s(t.clientId,e)}})))},"withMoveToWidgetAreaToolbarItem");Object(oe.addFilter)("editor.BlockEdit","core/edit-widgets/block-edit",se);var le=r(53);Object(oe.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",()=>le.MediaUpload);var de=r(3),ue=r(10),be=r.n(ue),me=e=>{const[t,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const{ownerDocument:t}=e.current;function c(e){i(e)}function n(){r(!1)}function i(t){e.current.contains(t.target)?r(!0):r(!1)}return t.addEventListener("dragstart",c),t.addEventListener("dragend",n),t.addEventListener("dragenter",i),()=>{t.removeEventListener("dragstart",c),t.removeEventListener("dragend",n),t.removeEventListener("dragenter",i)}},[]),t};function ge(){const[e,t,r]=Object(d.useEntityBlockEditor)("root","postType"),c=Object(o.useRef)(),n=me(c),i=Object(U.__experimentalUseInnerBlocksProps)({ref:c},{value:e,onInput:t,onChange:r,templateLock:!1,renderAppender:U.InnerBlocks.ButtonBlockAppender});return Object(o.createElement)("div",{className:be()("wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper",{"wp-block-widget-area__highlight-drop-zone":n})},Object(o.createElement)("div",i))}const pe={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1,__experimentalParentSelector:!1},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"},{name:Oe}=pe,je={title:Object(I.__)("Widget Area"),description:Object(I.__)("A widget area container."),__experimentalLabel:({name:e})=>e,edit:function({clientId:e,className:t,attributes:{id:r,name:c}}){const n=Object(g.useSelect)(t=>t(ie).getIsWidgetAreaOpen(e),[e]),{setIsWidgetAreaOpen:i}=Object(g.useDispatch)(ie),a=Object(o.useRef)(),s=Object(o.useCallback)(t=>i(e,t),[e]),l=(e=>{const[t,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const{ownerDocument:t}=e.current;function c(){r(!0)}function n(){r(!1)}return t.addEventListener("dragstart",c),t.addEventListener("dragend",n),()=>{t.removeEventListener("dragstart",c),t.removeEventListener("dragend",n)}},[]),t})(a),u=me(a),[b,m]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{l?u&&!n?(s(!0),m(!0)):!u&&n&&b&&s(!1):m(!1)},[n,l,u,b]),Object(o.createElement)(de.Panel,{className:t,ref:a},Object(o.createElement)(de.PanelBody,{title:c,opened:n,onToggle:()=>{i(e,!n)},scrollAfterOpen:!l},({opened:e})=>Object(o.createElement)(de.__unstableDisclosureContent,{className:"wp-block-widget-area__panel-body-content",visible:e},Object(o.createElement)(d.EntityProvider,{kind:"root",type:"postType",id:"widget-area-"+r},Object(o.createElement)(ge,null)))))}};var fe=r(37),_e=r(7),we=r(100),Ee=r(24);function he(){const{redo:e,undo:t}=Object(g.useDispatch)(d.store),{saveEditedWidgetAreas:r}=Object(g.useDispatch)(ie);return Object(Ee.useShortcut)("core/edit-widgets/undo",e=>{t(),e.preventDefault()},{bindGlobal:!0}),Object(Ee.useShortcut)("core/edit-widgets/redo",t=>{e(),t.preventDefault()},{bindGlobal:!0}),Object(Ee.useShortcut)("core/edit-widgets/save",e=>{e.preventDefault(),r()},{bindGlobal:!0}),null}he.Register=function(){const{registerShortcut:e}=Object(g.useDispatch)(Ee.store);return Object(o.useEffect)(()=>{e({name:"core/edit-widgets/undo",category:"global",description:Object(I.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:Object(I.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"core/edit-widgets/save",category:"global",description:Object(I.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-widgets/keyboard-shortcuts",category:"main",description:Object(I.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-widgets/next-region",category:"global",description:Object(I.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-widgets/previous-region",category:"global",description:Object(I.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"}]})},[e]),null};var ye=he,ve=()=>Object(g.useSelect)(e=>{var t;const{getBlockSelectionEnd:r,getBlockName:c}=e(U.store),n=r();if("core/widget-area"===c(n))return n;const{getParentWidgetAreaBlock:i}=e(ie),a=i(n),o=null==a?void 0:a.clientId;if(o)return o;const{getEntityRecord:s}=e(d.store),l=s(_,"postType","widget-areas");return null==l||null===(t=l.blocks[0])||void 0===t?void 0:t.clientId},[]);function ke({blockEditorSettings:e,children:t,...r}){const{hasUploadPermissions:c,reusableBlocks:n,isFixedToolbarActive:i,keepCaretInsideBlock:a}=Object(g.useSelect)(e=>({hasUploadPermissions:Object(p.defaultTo)(e(d.store).canUser("create","media"),!0),widgetAreas:e(ie).getWidgetAreas(),widgets:e(ie).getWidgets(),reusableBlocks:[],isFixedToolbarActive:e(ie).__unstableIsFeatureActive("fixedToolbar"),keepCaretInsideBlock:e(ie).__unstableIsFeatureActive("keepCaretInsideBlock")}),[]),{setIsInserterOpened:s}=Object(g.useDispatch)(ie),l=Object(o.useMemo)(()=>{let t;return c&&(t=({onError:t,...r})=>{Object(le.uploadMedia)({wpAllowedMimeTypes:e.allowedMimeTypes,onError:({message:e})=>t(e),...r})}),{...e,__experimentalReusableBlocks:n,hasFixedToolbar:i,keepCaretInsideBlock:a,mediaUpload:t,templateLock:"all",__experimentalSetIsInserterOpened:s}},[e,i,a,c,n,s]),u=ve(),[b,m,O]=Object(d.useEntityBlockEditor)(_,"postType",{id:"widget-areas"});return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(U.BlockEditorKeyboardShortcuts.Register,null),Object(o.createElement)(ye.Register,null),Object(o.createElement)(de.SlotFillProvider,null,Object(o.createElement)(U.BlockEditorProvider,Object(_e.a)({value:b,onInput:m,onChange:O,settings:l,useSubRegistry:!1},r),Object(o.createElement)(U.CopyHandler,null,t),Object(o.createElement)(we.ReusableBlocksMenuItems,{rootClientId:u}))))}var Se=r(198),Ie=r(150),Ae=r(19);function Be({selectedWidgetAreaId:e}){const t=Object(g.useSelect)(e=>e(ie).getWidgetAreas(),[]),r=Object(o.useMemo)(()=>e&&(null==t?void 0:t.find(t=>t.id===e)),[e,t]);let c;return c=r?"wp_inactive_widgets"===e?Object(I.__)("Blocks in this Widget Area will not be displayed in your site."):r.description:Object(I.__)("Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer."),Object(o.createElement)("div",{className:"edit-widgets-widget-areas"},Object(o.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},Object(o.createElement)(U.BlockIcon,{icon:Ie.a}),Object(o.createElement)("div",null,Object(o.createElement)("p",null,c),0===(null==t?void 0:t.length)&&Object(o.createElement)("p",null,Object(I.__)("Your theme does not contain any Widget Areas.")),!r&&Object(o.createElement)(de.Button,{href:Object(Ae.addQueryArgs)("customize.php",{"autofocus[panel]":"widgets",return:window.location.pathname}),variant:"tertiary"},Object(I.__)("Manage with live preview")))))}const xe=o.Platform.select({web:!0,native:!1});function Ne({identifier:e,label:t,isActive:r}){const{enableComplementaryArea:c}=Object(g.useDispatch)(B.g);return Object(o.createElement)(de.Button,{onClick:()=>c(ie.name,e),className:be()("edit-widgets-sidebar__panel-tab",{"is-active":r}),"aria-label":r?// translators: %s: sidebar label e.g: "Widget Areas".
Object(I.sprintf)(Object(I.__)("%s (selected)"),t):t,"data-label":t},t)}function Ce(){const{enableComplementaryArea:e}=Object(g.useDispatch)(B.g),{currentArea:t,hasSelectedNonAreaBlock:r,isGeneralSidebarOpen:c,selectedWidgetAreaBlock:n}=Object(g.useSelect)(e=>{const{getSelectedBlock:t,getBlock:r,getBlockParentsByBlockName:c}=e(U.store),{getActiveComplementaryArea:n}=e(B.g),i=t(),a=n(ie.name);let o,s=a;return s||(s=i?"edit-widgets/block-inspector":"edit-widgets/block-areas"),i&&(o="core/widget-area"===i.name?i:r(c(i.clientId,"core/widget-area")[0])),{currentArea:s,hasSelectedNonAreaBlock:!(!i||"core/widget-area"===i.name),isGeneralSidebarOpen:!!a,selectedWidgetAreaBlock:o}},[]);return Object(o.useEffect)(()=>{r&&"edit-widgets/block-areas"===t&&c&&e("core/edit-widgets","edit-widgets/block-inspector"),!r&&"edit-widgets/block-inspector"===t&&c&&e("core/edit-widgets","edit-widgets/block-areas")},[r,e]),Object(o.createElement)(B.b,{className:"edit-widgets-sidebar",header:Object(o.createElement)("ul",null,Object(o.createElement)("li",null,Object(o.createElement)(Ne,{identifier:"edit-widgets/block-areas",label:n?n.attributes.name:Object(I.__)("Widget Areas"),isActive:"edit-widgets/block-areas"===t})),Object(o.createElement)("li",null,Object(o.createElement)(Ne,{identifier:"edit-widgets/block-inspector",label:Object(I.__)("Block"),isActive:"edit-widgets/block-inspector"===t}))),headerClassName:"edit-widgets-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:Object(I.__)("Settings"),closeLabel:Object(I.__)("Close settings"),scope:"core/edit-widgets",identifier:t,icon:Se.a,isActiveByDefault:xe},"edit-widgets/block-areas"===t&&Object(o.createElement)(Be,{selectedWidgetAreaId:null==n?void 0:n.attributes.id}),"edit-widgets/block-inspector"===t&&(r?Object(o.createElement)(U.BlockInspector,null):Object(o.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},Object(I.__)("No block selected."))))}var Te=r(110),We=r(127),Re=function(){const{hasEditedWidgetAreaIds:e,isSaving:t}=Object(g.useSelect)(e=>{var t;const{getEditedWidgetAreas:r,isSavingWidgetAreas:c}=e(ie);return{hasEditedWidgetAreaIds:(null===(t=r())||void 0===t?void 0:t.length)>0,isSaving:c()}},[]),{saveEditedWidgetAreas:r}=Object(g.useDispatch)(ie);return Object(o.createElement)(de.Button,{variant:"primary",isBusy:t,"aria-disabled":t,onClick:t?void 0:r,disabled:!e},t?Object(I.__)("Saving…"):Object(I.__)("Update"))},Le=r(196),Pe=r(197),Me=r(13);function De(){const e=Object(g.useSelect)(e=>e(d.store).hasUndo()),{undo:t}=Object(g.useDispatch)(d.store);return Object(o.createElement)(de.ToolbarButton,{icon:Object(I.isRTL)()?Pe.a:Le.a,label:Object(I.__)("Undo"),shortcut:Me.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Fe(){const e=Object(g.useSelect)(e=>e(d.store).hasRedo()),{redo:t}=Object(g.useDispatch)(d.store);return Object(o.createElement)(de.ToolbarButton,{icon:Object(I.isRTL)()?Le.a:Pe.a,label:Object(I.__)("Redo"),shortcut:Me.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var Ge=r(153),Ve=r(195),ze=r(92),He=r(30);function Ue({label:e,info:t,messageActivated:r,messageDeactivated:c,shortcut:n,feature:i}){const a=Object(g.useSelect)(e=>e(ie).__unstableIsFeatureActive(i),[i]),{__unstableToggleFeature:s}=Object(g.useDispatch)(ie);return Object(o.createElement)(de.MenuItem,{icon:a&&ze.a,isSelected:a,onClick:()=>{s(i),a?Object(He.speak)(c||Object(I.__)("Feature deactivated")):Object(He.speak)(r||Object(I.__)("Feature activated"))},role:"menuitemcheckbox",info:t,shortcut:n},e)}const qe=[{keyCombination:{modifier:"primary",character:"b"},description:Object(I.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:Object(I.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:Object(I.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:Object(I.__)("Remove a link.")},{keyCombination:{modifier:"primary",character:"u"},description:Object(I.__)("Underline the selected text.")}];function Ke({keyCombination:e,forceAriaLabel:t}){const r=e.modifier?Me.displayShortcutList[e.modifier](e.character):e.character,c=e.modifier?Me.shortcutAriaLabel[e.modifier](e.character):e.character;return Object(o.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||c},Object(p.castArray)(r).map((e,t)=>"+"===e?Object(o.createElement)(o.Fragment,{key:t},e):Object(o.createElement)("kbd",{key:t,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},e)))}var Ye=function({description:e,keyCombination:t,aliases:r=[],ariaLabel:c}){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},e),Object(o.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},Object(o.createElement)(Ke,{keyCombination:t,forceAriaLabel:c}),r.map((e,t)=>Object(o.createElement)(Ke,{keyCombination:e,forceAriaLabel:c,key:t}))))},$e=function({name:e}){const{keyCombination:t,description:r,aliases:c}=Object(g.useSelect)(t=>{const{getShortcutKeyCombination:r,getShortcutDescription:c,getShortcutAliases:n}=t(Ee.store);return{keyCombination:r(e),aliases:n(e),description:c(e)}});return t?Object(o.createElement)(Ye,{keyCombination:t,description:r,aliases:c}):null};const Qe=({shortcuts:e})=>Object(o.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map((e,t)=>Object(o.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:t},Object(p.isString)(e)?Object(o.createElement)($e,{name:e}):Object(o.createElement)(Ye,e)))),Je=({title:e,shortcuts:t,className:r})=>Object(o.createElement)("section",{className:be()("edit-widgets-keyboard-shortcut-help-modal__section",r)},!!e&&Object(o.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},e),Object(o.createElement)(Qe,{shortcuts:t})),Xe=({title:e,categoryName:t,additionalShortcuts:r=[]})=>{const c=Object(g.useSelect)(e=>e(Ee.store).getCategoryShortcuts(t),[t]);return Object(o.createElement)(Je,{title:e,shortcuts:c.concat(r)})};function Ze({isModalActive:e,toggleModal:t}){return Object(Ee.useShortcut)("core/edit-widgets/keyboard-shortcuts",t,{bindGlobal:!0}),e?Object(o.createElement)(de.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:Object(I.__)("Keyboard shortcuts"),closeLabel:Object(I.__)("Close"),onRequestClose:t},Object(o.createElement)(Je,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-widgets/keyboard-shortcuts"]}),Object(o.createElement)(Xe,{title:Object(I.__)("Global shortcuts"),categoryName:"global"}),Object(o.createElement)(Xe,{title:Object(I.__)("Selection shortcuts"),categoryName:"selection"}),Object(o.createElement)(Xe,{title:Object(I.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:Object(I.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:Object(I.__)("Forward-slash")}]}),Object(o.createElement)(Je,{title:Object(I.__)("Text formatting"),shortcuts:qe})):null}const et={className:"edit-widgets-more-menu__content",position:"bottom left"},tt={tooltipPosition:"bottom"};function rt(){const[e,t]=Object(o.useState)(!1),r=()=>t(!e);Object(Ee.useShortcut)("core/edit-widgets/keyboard-shortcuts",r,{bindGlobal:!0});const c=Object(ae.useViewportMatch)("medium");return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(de.DropdownMenu,{className:"edit-widgets-more-menu",icon:Ge.a
/* translators: button label text should, if possible, be under 16 characters. */,label:Object(I.__)("Options"),popoverProps:et,toggleProps:tt},()=>Object(o.createElement)(o.Fragment,null,c&&Object(o.createElement)(de.MenuGroup,{label:Object(I._x)("View","noun")},Object(o.createElement)(Ue,{feature:"fixedToolbar",label:Object(I.__)("Top toolbar"),info:Object(I.__)("Access all block and document tools in a single place"),messageActivated:Object(I.__)("Top toolbar activated"),messageDeactivated:Object(I.__)("Top toolbar deactivated")})),Object(o.createElement)(de.MenuGroup,{label:Object(I.__)("Tools")},Object(o.createElement)(de.MenuItem,{onClick:()=>{t(!0)},shortcut:Me.displayShortcut.access("h")},Object(I.__)("Keyboard shortcuts")),Object(o.createElement)(Ue,{feature:"welcomeGuide",label:Object(I.__)("Welcome Guide")}),Object(o.createElement)(de.MenuItem,{role:"menuitem",icon:Ve.a,href:Object(I.__)("https://wordpress.org/support/article/wordpress-editor/"),target:"_blank",rel:"noopener noreferrer"},Object(I.__)("Help"),Object(o.createElement)(de.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
Object(I.__)("(opens in a new tab)")))),Object(o.createElement)(de.MenuGroup,{label:Object(I.__)("Preferences")},Object(o.createElement)(Ue,{feature:"keepCaretInsideBlock",label:Object(I.__)("Contain text cursor inside block"),info:Object(I.__)("Aids screen readers by stopping text caret from leaving blocks."),messageActivated:Object(I.__)("Contain text cursor inside block activated"),messageDeactivated:Object(I.__)("Contain text cursor inside block deactivated")}),Object(o.createElement)(Ue,{feature:"themeStyles",info:Object(I.__)("Make the editor look like your theme."),label:Object(I.__)("Use theme styles")}),c&&Object(o.createElement)(Ue,{feature:"showBlockBreadcrumbs",label:Object(I.__)("Display block breadcrumbs"),info:Object(I.__)("Shows block breadcrumbs at the bottom of the editor."),messageActivated:Object(I.__)("Display block breadcrumbs activated"),messageDeactivated:Object(I.__)("Display block breadcrumbs deactivated")})))),Object(o.createElement)(Ze,{isModalActive:e,toggleModal:r}))}var ct=function(){const e=Object(ae.useViewportMatch)("medium"),t=Object(o.useRef)(),r=ve(),c=Object(g.useSelect)(e=>e(ie).getIsWidgetAreaOpen(r),[r]),n=Object(g.useSelect)(e=>e(ie).isInserterOpened()),{setIsWidgetAreaOpen:i,setIsInserterOpened:a}=Object(g.useDispatch)(ie),{selectBlock:s}=Object(g.useDispatch)(U.store);return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:"edit-widgets-header"},Object(o.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},e&&Object(o.createElement)("h1",{className:"edit-widgets-header__title"},Object(I.__)("Widgets")),!e&&Object(o.createElement)(de.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},Object(I.__)("Widgets")),Object(o.createElement)(U.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":Object(I.__)("Document tools")},Object(o.createElement)(de.ToolbarItem,{ref:t,as:de.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:n,onMouseDown:e=>{e.preventDefault()},onClick:()=>{n?t.current.focus():(c||(s(r),i(r,!0)),window.requestAnimationFrame(()=>a(!0)))},icon:We.a
/* translators: button label text should, if possible, be under 16
    characters. */,label:Object(I._x)("Add block","Generic label for block inserter button")}),e&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(De,null),Object(o.createElement)(Fe,null),Object(o.createElement)(de.ToolbarItem,{as:U.BlockNavigationDropdown})))),Object(o.createElement)("div",{className:"edit-widgets-header__actions"},Object(o.createElement)(Re,null),Object(o.createElement)(B.f.Slot,{scope:"core/edit-widgets"}),Object(o.createElement)(rt,null))))},nt=function(){const{removeNotice:e}=Object(g.useDispatch)(A.store),{notices:t}=Object(g.useSelect)(e=>({notices:e(A.store).getNotices()}),[]),r=Object(p.filter)(t,{isDismissible:!0,type:"default"}),c=Object(p.filter)(t,{isDismissible:!1,type:"default"}),n=Object(p.filter)(t,{type:"snackbar"});return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(de.NoticeList,{notices:c,className:"edit-widgets-notices__pinned"}),Object(o.createElement)(de.NoticeList,{notices:r,className:"edit-widgets-notices__dismissible",onRemove:e}),Object(o.createElement)(de.SnackbarList,{notices:n,className:"edit-widgets-notices__snackbar",onRemove:e}))};function it({blockEditorSettings:e}){const{hasThemeStyles:t}=Object(g.useSelect)(e=>({hasThemeStyles:e(ie).__unstableIsFeatureActive("themeStyles")})),r=Object(o.useMemo)(()=>t?e.styles:[],[e,t]);return Object(o.createElement)("div",{className:"edit-widgets-block-editor"},Object(o.createElement)(nt,null),Object(o.createElement)(U.BlockTools,null,Object(o.createElement)(ye,null),Object(o.createElement)(U.BlockEditorKeyboardShortcuts,null),Object(o.createElement)(U.__unstableEditorStyles,{styles:r}),Object(o.createElement)(U.BlockSelectionClearer,null,Object(o.createElement)(U.WritingFlow,null,Object(o.createElement)(U.ObserveTyping,null,Object(o.createElement)(U.BlockList,{className:"edit-widgets-main-block-list"}))))))}const at={
/* translators: accessibility text for the widgets screen top bar landmark region. */
header:Object(I.__)("Widgets top bar"),
/* translators: accessibility text for the widgets screen content landmark region. */
body:Object(I.__)("Widgets and blocks"),
/* translators: accessibility text for the widgets screen settings landmark region. */
sidebar:Object(I.__)("Widgets settings"),
/* translators: accessibility text for the widgets screen footer landmark region. */
footer:Object(I.__)("Widgets footer")};var ot=function({blockEditorSettings:e}){const t=Object(ae.useViewportMatch)("medium","<"),r=Object(ae.useViewportMatch)("huge",">="),{setIsInserterOpened:c,closeGeneralSidebar:n}=Object(g.useDispatch)(ie),{rootClientId:i,insertionIndex:a}=(()=>{const e=Object(g.useSelect)(e=>{var t;const{getEntityRecord:r}=e(d.store),c=r(_,"postType","widget-areas");return null==c||null===(t=c.blocks[0])||void 0===t?void 0:t.clientId},[]);return Object(g.useSelect)(t=>{const{getBlockRootClientId:r,getBlockSelectionEnd:c,getBlockOrder:n,getBlockIndex:i}=t(U.store),a=c()||e,o=r(a);return a&&""===o?{rootClientId:a,insertionIndex:n(a).length}:{rootClientId:o,insertionIndex:i(a,o)+1}},[e])})(),{hasBlockBreadCrumbsEnabled:s,hasSidebarEnabled:l,isInserterOpened:u,previousShortcut:b,nextShortcut:m}=Object(g.useSelect)(e=>({hasSidebarEnabled:!!e(B.g).getActiveComplementaryArea(ie.name),isInserterOpened:!!e(ie).isInserterOpened(),hasBlockBreadCrumbsEnabled:e(ie).__unstableIsFeatureActive("showBlockBreadcrumbs"),previousShortcut:e(Ee.store).getAllShortcutRawKeyCombinations("core/edit-widgets/previous-region"),nextShortcut:e(Ee.store).getAllShortcutRawKeyCombinations("core/edit-widgets/next-region")}),[]);Object(o.useEffect)(()=>{l&&!r&&c(!1)},[l,r]),Object(o.useEffect)(()=>{u&&!r&&n()},[u,r]);const[p,O]=Object(ae.__experimentalUseDialog)({onClose:()=>c(!1)});return Object(o.createElement)(B.e,{labels:at,header:Object(o.createElement)(ct,null),secondarySidebar:u&&Object(o.createElement)("div",Object(_e.a)({ref:p},O,{className:"edit-widgets-layout__inserter-panel"}),Object(o.createElement)("div",{className:"edit-widgets-layout__inserter-panel-header"},Object(o.createElement)(de.Button,{icon:Te.a,onClick:()=>c(!1)})),Object(o.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},Object(o.createElement)(U.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:t,rootClientId:i,__experimentalInsertionIndex:a}))),sidebar:l&&Object(o.createElement)(B.b.Slot,{scope:"core/edit-widgets"}),content:Object(o.createElement)(it,{blockEditorSettings:e}),footer:s&&!t&&Object(o.createElement)("div",{className:"edit-widgets-layout__footer"},Object(o.createElement)(U.BlockBreadcrumb,{rootLabelText:Object(I.__)("Widgets")})),shortcuts:{previous:b,next:m}})};function st(){const e=Object(g.useSelect)(e=>{const{getEditedWidgetAreas:t}=e(ie),r=t();return(null==r?void 0:r.length)>0},[]);return Object(o.useEffect)(()=>{const t=t=>{if(e)return t.returnValue=Object(I.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),null}function lt(){var e;const t=Object(g.useSelect)(e=>e(ie).__unstableIsFeatureActive("welcomeGuide"),[]),{__unstableToggleFeature:r}=Object(g.useDispatch)(ie),c=Object(g.useSelect)(e=>e(ie).getWidgetAreas({per_page:-1}));if(!t)return null;const n=null==c?void 0:c.every(e=>"wp_inactive_widgets"===e.id||e.widgets.every(e=>e.startsWith("block-"))),i=null!==(e=null==c?void 0:c.filter(e=>"wp_inactive_widgets"!==e.id).length)&&void 0!==e?e:0;return Object(o.createElement)(de.Guide,{className:"edit-widgets-welcome-guide",contentLabel:Object(I.__)("Welcome to block Widgets"),finishButtonText:Object(I.__)("Get started"),onFinish:()=>r("welcomeGuide"),pages:[{image:Object(o.createElement)(dt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(I.__)("Welcome to block Widgets")),n?Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(I.sprintf)(// Translators: %s: Number of block areas in the current theme.
Object(I._n)("Your theme provides %s “block” area for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.","Your theme provides %s different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.",i),i))):Object(o.createElement)(o.Fragment,null,Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(I.__)("You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(o.createElement)("strong",null,Object(I.__)("Want to stick with the old widgets?"))," ",Object(o.createElement)(de.ExternalLink,{href:Object(I.__)("https://wordpress.org/plugins/classic-widgets/")},Object(I.__)("Get the Classic Widgets plugin.")))))},{image:Object(o.createElement)(dt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(I.__)("Make each block your own")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(I.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:Object(o.createElement)(dt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(I.__)("Get to know the block library")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(o.createInterpolateElement)(Object(I.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:Object(o.createElement)("img",{className:"edit-widgets-welcome-guide__inserter-icon",alt:Object(I.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:Object(o.createElement)(dt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},Object(I.__)("Learn how to use the block editor")),Object(o.createElement)("p",{className:"edit-widgets-welcome-guide__text"},Object(I.__)("New to the block editor? Want to learn more about using it? "),Object(o.createElement)(de.ExternalLink,{href:Object(I.__)("https://wordpress.org/support/article/wordpress-editor/")},Object(I.__)("Here's a detailed guide."))))}]})}function dt({nonAnimatedSrc:e,animatedSrc:t}){return Object(o.createElement)("picture",{className:"edit-widgets-welcome-guide__image"},Object(o.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),Object(o.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}var ut=function({blockEditorSettings:e}){return Object(o.createElement)(ke,{blockEditorSettings:e},Object(o.createElement)(ot,{blockEditorSettings:e}),Object(o.createElement)(Ce,null),Object(o.createElement)(de.Popover.Slot,null),Object(o.createElement)(fe.PluginArea,null),Object(o.createElement)(st,null),Object(o.createElement)(lt,null))};const bt=["core/more","core/freeform","core/block"];function mt(e,t){const r=Object(l.__experimentalGetCoreBlocks)().filter(e=>!(bt.includes(e.name)||e.name.startsWith("core/post")||e.name.startsWith("core/query")||e.name.startsWith("core/site")));Object(l.registerCoreBlocks)(r),Object(u.registerLegacyWidgetBlock)(),Object(l.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!1}),Object(u.registerLegacyWidgetVariations)(t),gt(a),t.__experimentalFetchLinkSuggestions=(e,r)=>Object(d.__experimentalFetchLinkSuggestions)(e,r,t),Object(s.setFreeformContentHandlerName)("core/html"),Object(o.render)(Object(o.createElement)(ut,{blockEditorSettings:t}),document.getElementById(e))}const gt=e=>{if(!e)return;const{metadata:t,settings:r,name:c}=e;t&&Object(s.unstable__bootstrapServerSideBlockDefinitions)({[c]:t}),Object(s.registerBlockType)(c,r)}},44:function(e,t){e.exports=window.wp.widgets},5:function(e,t){e.exports=window.wp.blockEditor},52:function(e,t){e.exports=window.wp.blockLibrary},53:function(e,t){e.exports=window.wp.mediaUtils},54:function(e,t){e.exports=window.wp.viewport},6:function(e,t){e.exports=window.wp.primitives},7:function(e,t,r){"use strict";function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return c}))},8:function(e,t){e.exports=window.wp.blocks},9:function(e,t){e.exports=window.wp.compose},91:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=i},92:function(e,t,r){"use strict";var c=r(0),n=r(6);const i=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));t.a=i}});